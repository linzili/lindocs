import{_ as s,c as n,o as a,a as l}from"./app.9e1597b0.js";const d=JSON.parse('{"title":"OpenFeign","description":"","frontmatter":{},"headers":[{"level":2,"title":"快速入门","slug":"快速入门","link":"#快速入门","children":[]}],"relativePath":"spring/springcloud/openfeign.md","lastUpdated":1673751829000}'),p={name:"spring/springcloud/openfeign.md"},e=l(`<h1 id="openfeign" tabindex="-1">OpenFeign <a class="header-anchor" href="#openfeign" aria-hidden="true">#</a></h1><blockquote><p>Feign是一个声明式的Web服务客户端（Web服务客户端就是Http客户端），让编写Web服务客户端变得非常容易，只需创建一个接口并在接口上添加注解即可。</p></blockquote><h2 id="快速入门" tabindex="-1">快速入门 <a class="header-anchor" href="#快速入门" aria-hidden="true">#</a></h2><ol><li>引入feign依赖</li></ol><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--feign客户端依赖--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.springframework.cloud&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;spring-cloud-starter-openfeign&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>Application启动类加入<code>@EnableFeignClients</code>注解</li></ol><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">SpringBootApplication</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">EnableFeignClients</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">OrderApplication</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] </span><span style="color:#FFA657;">args</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        SpringApplication.</span><span style="color:#D2A8FF;">run</span><span style="color:#C9D1D9;">(OrderApplication.class, args);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>如果client不在启动类路径下,需要指定<code>basePackages</code></li></ul><p>可通过自定义注解添加默认<code>basePackages</code>路径</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Retention</span><span style="color:#C9D1D9;">(RetentionPolicy.RUNTIME)</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Target</span><span style="color:#C9D1D9;">({ElementType.TYPE})</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Documented</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">EnableFeignClients</span><span style="color:#C9D1D9;">()</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> @</span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">EnableRainFeignClients</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] </span><span style="color:#D2A8FF;">value</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">default</span><span style="color:#C9D1D9;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] </span><span style="color:#D2A8FF;">basePackages</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">default</span><span style="color:#C9D1D9;"> {</span><span style="color:#A5D6FF;">&quot;com.rain&quot;</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    Class</span><span style="color:#FF7B72;">&lt;?&gt;</span><span style="color:#C9D1D9;">[] </span><span style="color:#D2A8FF;">basePackageClasses</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">default</span><span style="color:#C9D1D9;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    Class</span><span style="color:#FF7B72;">&lt;?&gt;</span><span style="color:#C9D1D9;">[] </span><span style="color:#D2A8FF;">defaultConfiguration</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">default</span><span style="color:#C9D1D9;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    Class</span><span style="color:#FF7B72;">&lt;?&gt;</span><span style="color:#C9D1D9;">[] </span><span style="color:#D2A8FF;">clients</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">default</span><span style="color:#C9D1D9;"> {};</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol start="3"><li>编写FeignClient接口</li></ol><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">FeignClient</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userservice&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserClient</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">GetMapping</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;/user/{id}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    User </span><span style="color:#D2A8FF;">findById</span><span style="color:#C9D1D9;">(@</span><span style="color:#FF7B72;">PathVariable</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">) Long </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,12),o=[e];function r(c,t,i,D,y,b){return a(),n("div",null,o)}const F=s(p,[["render",r]]);export{d as __pageData,F as default};
