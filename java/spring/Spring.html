<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring-01 | LinDocs</title>
    <meta name="description" content="Vite & Vue powered static site generator.">
    <link rel="preload stylesheet" href="/lindocs/assets/style.3f977174.css" as="style">
    <link rel="modulepreload" href="/lindocs/assets/chunks/VPAlgoliaSearchBox.40236b4b.js">
    <link rel="modulepreload" href="/lindocs/assets/app.368cfe21.js">
    <link rel="modulepreload" href="/lindocs/assets/java_spring_Spring.md.c79cad2c.lean.js">
    
    <link rel="icon" href="./favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-8e0293cf data-v-2855b47a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-59736647></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-59736647> Skip to content </a><!--]--><!----><header class="VPNav" data-v-2855b47a data-v-c96f2c5c><div class="VPNavBar has-sidebar" data-v-c96f2c5c data-v-fffd92b9><div class="container" data-v-fffd92b9><div class="VPNavBarTitle has-sidebar" data-v-fffd92b9 data-v-cca63090><a class="title" href="/lindocs/" data-v-cca63090><!--[--><!--]--><!----><!--[-->LinDocs<!--]--><!--[--><!--]--></a></div><div class="content" data-v-fffd92b9><!--[--><!--]--><div class="VPNavBarSearch search" data-v-fffd92b9 style="--65f62738:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fffd92b9 data-v-28f09fbf><span id="main-nav-aria-label" class="visually-hidden" data-v-28f09fbf>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/lindocs/frontend/js/" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ‰å‰ç«¯<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/lindocs/database/mysql/mysql-base.html" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ”¥æ•°æ®åº“<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/lindocs/java/java-base.html" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ”¥JAVA<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/lindocs/spring/springcloud/SpringCloud.html" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ¥³spring<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/lindocs/kotlin/" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ¥³kotlin<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fffd92b9 data-v-43fbcba2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-43fbcba2 data-v-3e5b53af data-v-4ca06f51><span class="check" data-v-4ca06f51><span class="icon" data-v-4ca06f51><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3e5b53af><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3e5b53af><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-fffd92b9 data-v-d03627c8 data-v-1b5b2373><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-1b5b2373><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-1b5b2373><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-1b5b2373><div class="VPMenu" data-v-1b5b2373 data-v-09926e5f><!----><!--[--><!--[--><!----><div class="group" data-v-d03627c8><div class="item appearance" data-v-d03627c8><p class="label" data-v-d03627c8>Appearance</p><div class="appearance-action" data-v-d03627c8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-d03627c8 data-v-3e5b53af data-v-4ca06f51><span class="check" data-v-4ca06f51><span class="icon" data-v-4ca06f51><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3e5b53af><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3e5b53af><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fffd92b9 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-2855b47a data-v-54fccb40><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-54fccb40><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-54fccb40><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-54fccb40>Menu</span></button><a class="top-link" href="#" data-v-54fccb40> Return to top </a></div><aside class="VPSidebar" data-v-2855b47a data-v-284e079d><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-284e079d><span class="visually-hidden" id="sidebar-aria-label" data-v-284e079d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-284e079d><section class="VPSidebarGroup" data-v-284e079d data-v-3f16556a><div class="title" data-v-3f16556a><h2 class="title-text" data-v-3f16556a>Java</h2><div class="action" data-v-3f16556a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-3f16556a><!--[--><!--[--><a class="VPLink link link" href="/lindocs/java/java-base.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>javaåŸºç¡€</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-284e079d><section class="VPSidebarGroup" data-v-284e079d data-v-3f16556a><div class="title" data-v-3f16556a><h2 class="title-text" data-v-3f16556a>Gradle</h2><div class="action" data-v-3f16556a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-3f16556a><!--[--><!--[--><a class="VPLink link link" href="/lindocs/java/Gradle.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>Gradle</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-284e079d><section class="VPSidebarGroup" data-v-284e079d data-v-3f16556a><div class="title" data-v-3f16556a><h2 class="title-text" data-v-3f16556a>Springå…¨å®¶æ¡¶</h2><div class="action" data-v-3f16556a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-3f16556a><!--[--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/springSecurityJwt.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>Spring Security â• JWT</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/lindocs/java/spring/Spring.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SpringFrameword</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/SpringMVC.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SpringMvc</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/SpringBoot.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SpringBoot</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/SSM%E6%95%B4%E5%90%88.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SSMæ•´åˆ</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/Mybatis.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>Mybatis</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/MybatisPlus.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>MyBatis Plus</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-2855b47a data-v-a4e4f0b2><div class="VPDoc has-sidebar has-aside" data-v-a4e4f0b2 data-v-22d94e81><div class="container" data-v-22d94e81><div class="aside" data-v-22d94e81><div class="aside-curtain" data-v-22d94e81></div><div class="aside-container" data-v-22d94e81><div class="aside-content" data-v-22d94e81><div class="VPDocAside" data-v-22d94e81 data-v-8efc4ac7><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-8efc4ac7 data-v-a094936b><div class="content" data-v-a094936b><div class="outline-marker" data-v-a094936b></div><div class="outline-title" data-v-a094936b>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-a094936b><span class="visually-hidden" id="doc-outline-aria-label" data-v-a094936b> Table of Contents for current page </span><ul class="root" data-v-a094936b data-v-c6ed8bb7><!--[--><!--]--></ul></nav></div></div><!--[--><!--[--><!--[--><!--[--><div class="recommend-container" data-v-8e0293cf><p data-v-8e0293cf>æ‰«ç è”ç³»</p><p class="item-desc" data-v-8e0293cf>IT å’¨è¯¢ &amp; ä¸€èµ·å­¦ä¹ </p><img src="http://cdn.azhiyuan.com.cn/markdown/img/6593924985b60756ef48c391e43d48a.png" alt="å‰ç«¯" data-v-8e0293cf></div><!--]--><!--]--><!--]--><!--]--><div class="spacer" data-v-8efc4ac7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-22d94e81><div class="content-container" data-v-22d94e81><!--[--><!--]--><main class="main" data-v-22d94e81><div style="position:relative;" class="vp-doc _lindocs_java_spring_Spring" data-v-22d94e81><div><h1 id="spring-01" tabindex="-1">Spring-01 <a class="header-anchor" href="#spring-01" aria-hidden="true">#</a></h1><h2 id="_1-springç®€ä»‹" tabindex="-1">1.Springç®€ä»‹ <a class="header-anchor" href="#_1-springç®€ä»‹" aria-hidden="true">#</a></h2><p>â€‹ Springæ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œå®ƒç”±Rod Johnsonåˆ›å»ºã€‚å®ƒæ˜¯ä¸ºäº†è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚</p><p>â€‹ ç›®å‰æ˜¯JavaEEå¼€å‘çš„çµé­‚æ¡†æ¶ã€‚ä»–å¯ä»¥ç®€åŒ–JavaEEå¼€å‘ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„æ•´åˆå…¶å®ƒæ¡†æ¶ï¼Œæ— ä¾µå…¥çš„è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚</p><p>â€‹ Springçš„æ ¸å¿ƒå°±æ˜¯ æ§åˆ¶åè½¬ï¼ˆIoCï¼‰å’Œé¢å‘åˆ‡é¢ï¼ˆAOPï¼‰ã€‚</p><h2 id="_2-iocæ§åˆ¶åè½¬" tabindex="-1">2.IOCæ§åˆ¶åè½¬ <a class="header-anchor" href="#_2-iocæ§åˆ¶åè½¬" aria-hidden="true">#</a></h2><h3 id="_2-1-æ¦‚å¿µ" tabindex="-1">2.1 æ¦‚å¿µ <a class="header-anchor" href="#_2-1-æ¦‚å¿µ" aria-hidden="true">#</a></h3><p>â€‹ æ§åˆ¶åè½¬ï¼Œä¹‹å‰å¯¹è±¡çš„æ§åˆ¶æƒåœ¨ç±»æ‰‹ä¸Šï¼Œç°åœ¨åè½¬ååˆ°äº†Springæ‰‹ä¸Šã€‚</p><h3 id="_2-2-å…¥é—¨æ¡ˆä¾‹" tabindex="-1">2.2 å…¥é—¨æ¡ˆä¾‹ <a class="header-anchor" href="#_2-2-å…¥é—¨æ¡ˆä¾‹" aria-hidden="true">#</a></h3><h4 id="å¯¼å…¥ä¾èµ–" tabindex="-1">å¯¼å…¥ä¾èµ– <a class="header-anchor" href="#å¯¼å…¥ä¾èµ–" aria-hidden="true">#</a></h4><p>å¯¼å…¥SpringIOCç›¸å…³ä¾èµ–</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.springframework&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;spring-context&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.9.RELEASE&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_2ç¼–å†™é…ç½®æ–‡ä»¶" tabindex="-1">â‘¡ç¼–å†™é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#_2ç¼–å†™é…ç½®æ–‡ä»¶" aria-hidden="true">#</a></h4><p>åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºapplicationContext.xmlæ–‡ä»¶ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ã€‚ä½†æ˜¯å»ºè®®å«applicationContextã€‚</p><p>å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;">?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">xmlns</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:xsi</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xsi:schemaLocation</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.dao.impl.StudentDaoImpl&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;studentDao&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3åˆ›å»ºå®¹å™¨ä»å®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æµ‹è¯•" tabindex="-1">â‘¢åˆ›å»ºå®¹å™¨ä»å®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æµ‹è¯• <a class="header-anchor" href="#_3åˆ›å»ºå®¹å™¨ä»å®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æµ‹è¯•" aria-hidden="true">#</a></h4><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] args) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//åˆ›å»ºå®¹å™¨</span></span>
<span class="line"><span style="color:#C9D1D9;">    ClassPathXmlApplicationContext</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">app</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">ClassPathXmlApplicationContext</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;applicationContext.xml&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è·å–å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">    StudentDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">studentDao</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (StudentDao) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;studentDao&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//æµ‹è¯•</span></span>
<span class="line"><span style="color:#C9D1D9;">    Student</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">studentById</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> studentDao.</span><span style="color:#D2A8FF;">getStudengById</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">30</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(studentById);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-3-beançš„å¸¸ç”¨å±æ€§é…ç½®" tabindex="-1">2.3 Beançš„å¸¸ç”¨å±æ€§é…ç½® <a class="header-anchor" href="#_2-3-beançš„å¸¸ç”¨å±æ€§é…ç½®" aria-hidden="true">#</a></h3><h4 id="_2-3-1-id" tabindex="-1">2.3.1 id <a class="header-anchor" href="#_2-3-1-id" aria-hidden="true">#</a></h4><p>â€‹ beançš„å”¯ä¸€æ ‡è¯†ï¼ŒåŒä¸€ä¸ªSpringå®¹å™¨ä¸­ä¸å…è®¸é‡å¤</p><h4 id="_2-3-2-class" tabindex="-1">2.3.2 class <a class="header-anchor" href="#_2-3-2-class" aria-hidden="true">#</a></h4><p>â€‹ å…¨ç±»åï¼Œç”¨äºåå°„åˆ›å»ºå¯¹è±¡</p><h4 id="_2-3-3-scope" tabindex="-1">2.3.3 scope <a class="header-anchor" href="#_2-3-3-scope" aria-hidden="true">#</a></h4><p>scopeä¸»è¦æœ‰ä¸¤ä¸ªå€¼ï¼šsingletonå’Œprototype</p><p>å¦‚æœè®¾ç½®ä¸º<strong>singleton</strong>åˆ™ä¸€ä¸ªå®¹å™¨ä¸­åªä¼šæœ‰ä¸€ä¸ªbeanå¯¹è±¡ã€‚é»˜è®¤å®¹å™¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šåˆ›å»ºè¯¥å¯¹è±¡ã€‚</p><p>å¦‚æœè®¾ç½®ä¸º<strong>prototype</strong>åˆ™ä¸€ä¸ªå®¹å™¨ä¼šæœ‰å¤šä¸ªè¯¥beanå¯¹è±¡ã€‚æ¯æ¬¡è°ƒç”¨getBeanæ–¹æ³•è·å–çš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p><h2 id="_3-diä¾èµ–æ³¨å…¥" tabindex="-1">3.DIä¾èµ–æ³¨å…¥ <a class="header-anchor" href="#_3-diä¾èµ–æ³¨å…¥" aria-hidden="true">#</a></h2><p>â€‹ ä¾èµ–æ³¨å…¥å¯ä»¥ç†è§£æˆIOCçš„ä¸€ç§åº”ç”¨åœºæ™¯ï¼Œåè½¬çš„æ˜¯å¯¹è±¡é—´ä¾èµ–å…³ç³»ç»´æŠ¤æƒã€‚</p><h3 id="_3-1-setæ–¹æ³•æ³¨å…¥" tabindex="-1">3.1 setæ–¹æ³•æ³¨å…¥ <a class="header-anchor" href="#_3-1-setæ–¹æ³•æ³¨å…¥" aria-hidden="true">#</a></h3><p>åœ¨è¦æ³¨å…¥å±æ€§çš„beanæ ‡ç­¾ä¸­è¿›è¡Œé…ç½®ã€‚å‰ææ˜¯è¯¥ç±»æœ‰æä¾›å±æ€§å¯¹åº”çš„setæ–¹æ³•ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.domain.Dog&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dog&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;12&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;name&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;å¤§é»„&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--</span></span>
<span class="line"><span style="color:#8B949E;">            nameå±æ€§ç”¨æ¥æŒ‡å®šè¦è®¾ç½®å“ªä¸ªå±æ€§</span></span>
<span class="line"><span style="color:#8B949E;">            valueå±æ€§ç”¨æ¥è®¾ç½®è¦è®¾ç½®çš„å€¼</span></span>
<span class="line"><span style="color:#8B949E;">            refå±æ€§ç”¨æ¥ç»™å¼•ç”¨ç±»å‹çš„å±æ€§è®¾ç½®å€¼ï¼Œå¯ä»¥å†™ä¸ŠSpringå®¹å™¨ä¸­beançš„id</span></span>
<span class="line"><span style="color:#8B949E;">        --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.domain.Student&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;student&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;name&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;ä¸œå—æ&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;12&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--ç”¨refå¼•ç”¨ä¸Šé¢çš„dogç±»å‹é‡Œé¢çš„å˜é‡ å®ç°å¼•ç”¨æ•°æ®ç±»å‹çš„èµ‹å€¼--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dog&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dog&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">package</span><span style="color:#C9D1D9;"> com.dunxi.domain;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Student</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Dog</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">dog;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Student</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">age</span><span style="color:#C9D1D9;">, Dog </span><span style="color:#FFA657;">dog</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.name </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.age </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.dog </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> dog;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Dog </span><span style="color:#D2A8FF;">getDog</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> dog;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setDog</span><span style="color:#C9D1D9;">(Dog </span><span style="color:#FFA657;">dog</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.dog </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> dog;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Override</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Student{&quot;</span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;name=&#39;&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> name </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;</span><span style="color:#79C0FF;">\&#39;</span><span style="color:#A5D6FF;">&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;,id=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> id </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;,age=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> age </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&#39;}&#39;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Student</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Student</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">age</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.name </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.age </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setName</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.name </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setId</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setAge</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">age</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.age </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getName</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">getId</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">getAge</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><h3 id="_3-2æœ‰å‚æ„é€ æ³¨å…¥" tabindex="-1">3.2æœ‰å‚æ„é€ æ³¨å…¥ <a class="header-anchor" href="#_3-2æœ‰å‚æ„é€ æ³¨å…¥" aria-hidden="true">#</a></h3><p>åœ¨è¦æ³¨å…¥å±æ€§çš„beanæ ‡ç­¾ä¸­è¿›è¡Œé…ç½®ã€‚å‰ææ˜¯è¯¥ç±»æœ‰æä¾›å¯¹åº”çš„æœ‰å‚æ„é€ ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--ä½¿ç”¨æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.domain.Student&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;student2&quot;</span><span style="color:#C9D1D9;"> &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;name&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;è‡ªæŒ‚ä¸œå—æ&quot;</span><span style="color:#C9D1D9;"> &gt;&lt;/</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;3&quot;</span><span style="color:#C9D1D9;"> &gt;&lt;/</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1&quot;</span><span style="color:#C9D1D9;"> &gt;&lt;/</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dog&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dog&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">constructor-arg</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Student</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Dog</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">dog;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Student</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">age</span><span style="color:#C9D1D9;">, Dog </span><span style="color:#FFA657;">dog</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.name </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.age </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.dog </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> dog;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_3-3å¤æ‚ç±»å±æ€§æ³¨å…¥" tabindex="-1">3.3å¤æ‚ç±»å±æ€§æ³¨å…¥ <a class="header-anchor" href="#_3-3å¤æ‚ç±»å±æ€§æ³¨å…¥" aria-hidden="true">#</a></h3><p>å½“é‡åˆ°å¤æ‚ç±»å‹çš„æ—¶å€™ä¸è¦ç€æ€¥ä¸è¦æ…Œï¼Œå…ˆå†™propertyæ ‡ç­¾ï¼Œå®Œäº‹ä¹‹åå†™nameï¼Œç„¶åçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰å…¶ä»–åˆé€‚çš„å±æ€§ç»™è¿™ä¸ªç±»å‹èµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œç›´æ¥ç»“æŸæ‰å½“å‰æ ‡ç­¾ï¼Œå»è¿™ä¸ªæ ‡ç­¾çš„é‡Œé¢æ•²ä¸€ä¸ªå°–æ‹¬å·ï¼Œçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰åˆé€‚çš„æ ‡ç­¾ï¼Œä¸€äº›ç®€å•çš„ç±»å‹è¿™æ—¶å€™æ˜¯å¯ä»¥ç›´æ¥ç”¨valueèµ‹å€¼çš„ï¼Œä¾‹å¦‚ï¼šStringï¼Œintä¹‹ç±»çš„ï¼Œå¦‚æœæ˜¯mapæˆ–è€…setè¿™ç§ç±»å‹çš„ï¼Œå°–æ‹¬å·ä¹Ÿæ˜¯å¯ä»¥çœ‹åˆ°ç±»ä¼¼çš„æ ‡ç­¾çš„ï¼Œè¿™æ—¶å€™é€‰ä¸­è¯¥æ ‡ç­¾ï¼Œç„¶åç»§ç»­å¾€ä¸‹å†™å°±å¥½äº†ã€‚</p><p>é…ç½®å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;">?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">xmlns</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:xsi</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xsi:schemaLocation</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.domain.Phone&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;3999&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;name&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;é»‘é²¨&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;123&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;path&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;QQQ&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.domain.User&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;10&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;name&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;å¤§é˜Ÿé•¿&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;list&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">list</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;æ•¦ç¦§&lt;/</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;ç§‘æŠ€&lt;/</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">list</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phones&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">list</span><span style="color:#C9D1D9;"> &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">ref</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">bean</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">ref</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">list</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;set&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">set</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;dunxi&lt;/</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;keji&lt;/</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">set</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;map&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">map</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">entry</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">key</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;123&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value-ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">entry</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">entry</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">key</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;456&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value-ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">entry</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">map</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;arr&quot;</span><span style="color:#C9D1D9;"> &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">array</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;12&lt;/</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;13&lt;/</span><span style="color:#7EE787;">value</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">array</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;properties&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">props</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">prop</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">key</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;k1&quot;</span><span style="color:#C9D1D9;"> &gt;v1&lt;/</span><span style="color:#7EE787;">prop</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">prop</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">key</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;k2&quot;</span><span style="color:#C9D1D9;"> &gt;v2&lt;/</span><span style="color:#7EE787;">prop</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">props</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><p>å®ä½“ç±»å‚æ•°å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">User</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Phone</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">phone;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> List</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">String</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">list;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> List</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">Phone</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">phones;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Set</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">String</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">set;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Map</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">String</span><span style="color:#FFA657;">,</span><span style="color:#FF7B72;">Phone</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">map;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">arr;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Properties</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">properties;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Phone</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">double</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">price;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">password;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">path;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_4-lombook" tabindex="-1">4.Lombook <a class="header-anchor" href="#_4-lombook" aria-hidden="true">#</a></h2><h3 id="å¯¼å…¥ä¾èµ–-1" tabindex="-1">å¯¼å…¥ä¾èµ– <a class="header-anchor" href="#å¯¼å…¥ä¾èµ–-1" aria-hidden="true">#</a></h3><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.projectlombok&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;lombok&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.18.16&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="æ·»åŠ æ³¨è§£" tabindex="-1">æ·»åŠ æ³¨è§£ <a class="header-anchor" href="#æ·»åŠ æ³¨è§£" aria-hidden="true">#</a></h3><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Data</span><span style="color:#8B949E;">//æ ¹æ®å±æ€§ç”Ÿæˆsetã€getæ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AllArgsConstructor</span><span style="color:#8B949E;">//å…¨å‚æ„é€ æ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">NoArgsConstructor</span><span style="color:#8B949E;">//ç©ºå‚æ„é€ æ–¹æ³•</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Phone</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">double</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">price;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">password;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">path;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_5-spel" tabindex="-1">5.SPEL <a class="header-anchor" href="#_5-spel" aria-hidden="true">#</a></h2><p>â€‹ æˆ‘ä»¬å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨SPELè¡¨è¾¾å¼ã€‚å†™æ³•å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--å¯ä»¥åšä¸€äº›ç®€å•çš„è®¡ç®—--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;#{phone}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--å¯ä»¥ç›´æ¥å¼•ç”¨å¤æ‚ç±»å‹åå­—ï¼Œä»£æ›¿ref--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;#{39888+111}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æ³¨æ„ï¼šSPELéœ€è¦å†™åˆ°valueå±æ€§ä¸­ï¼Œä¸èƒ½å†™åˆ°refå±æ€§é‡Œé¢ã€‚</p><h2 id="_6-é…ç½®æ–‡ä»¶" tabindex="-1">6.é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#_6-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a></h2><h3 id="_6-1-è¯»å–propertiesæ–‡ä»¶" tabindex="-1">6.1 è¯»å–propertiesæ–‡ä»¶ <a class="header-anchor" href="#_6-1-è¯»å–propertiesæ–‡ä»¶" aria-hidden="true">#</a></h3><p>â€‹ æˆ‘ä»¬å¯ä»¥è®©Springè¯»å–propertiesæ–‡ä»¶ä¸­çš„key/valueï¼Œç„¶åä½¿ç”¨å…¶ä¸­çš„å€¼ã€‚</p><h4 id="è®¾ç½®è¯»å–properties" tabindex="-1">è®¾ç½®è¯»å–properties <a class="header-anchor" href="#è®¾ç½®è¯»å–properties" aria-hidden="true">#</a></h4><p>åœ¨Springé…ç½®æ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹æ ‡ç­¾ï¼šæŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶çš„è·¯å¾„ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--è¯»å–propertiesé…ç½®æ–‡ä»¶--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">context:property-placeholder</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">location</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;classpath:jdbc.properties&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:property-placeholder</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å…¶ä¸­çš„classpathè¡¨ç¤ºç±»åŠ è½½è·¯å¾„ä¸‹ã€‚</p><p>æˆ‘ä»¬ä¹Ÿä¼šç”¨åˆ°å¦‚ä¸‹å†™æ³•ï¼šclasspath:<em>.properties å…¶ä¸­çš„</em> è¡¨ç¤ºæ–‡ä»¶åä»»æ„ã€‚</p><blockquote><p>æ³¨æ„ï¼šcontextå‘½åç©ºé—´çš„å¼•å…¥æ˜¯å¦æ­£ç¡®</p></blockquote><h3 id="_2ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„å€¼" tabindex="-1">â‘¡ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„å€¼ <a class="header-anchor" href="#_2ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„å€¼" aria-hidden="true">#</a></h3><p>åœ¨ä½ éœ€è¦ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ä½¿ç”¨${key}æ¥è¡¨ç¤ºå…·ä½“çš„å€¼ã€‚æ³¨æ„è¦åœ¨valueå±æ€§ä¸­ä½¿ç”¨æ‰å¯ä»¥ã€‚ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;driverClassName&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.driver}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;url&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.url}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.username}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.password}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_6-2-å¼•å…¥springé…ç½®æ–‡ä»¶" tabindex="-1">6.2 å¼•å…¥Springé…ç½®æ–‡ä»¶ <a class="header-anchor" href="#_6-2-å¼•å…¥springé…ç½®æ–‡ä»¶" aria-hidden="true">#</a></h3><p>â€‹ æˆ‘ä»¬å¯ä»¥åœ¨ä¸»çš„é…ç½®æ–‡ä»¶ä¸­é€šè¿‡importæ ‡ç­¾çš„resourceå±æ€§ï¼Œå¼•å…¥å…¶ä»–çš„xmlé…ç½®æ–‡ä»¶</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">import</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resource</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;classpath:jdbc.xml&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">import</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_7-ä½é¢‘çŸ¥è¯†ç‚¹" tabindex="-1">7.ä½é¢‘çŸ¥è¯†ç‚¹ <a class="header-anchor" href="#_7-ä½é¢‘çŸ¥è¯†ç‚¹" aria-hidden="true">#</a></h2><h3 id="_7-1-beançš„é…ç½®" tabindex="-1">7.1 beançš„é…ç½® <a class="header-anchor" href="#_7-1-beançš„é…ç½®" aria-hidden="true">#</a></h3><h4 id="_7-1-1-nameå±æ€§" tabindex="-1">7.1.1 nameå±æ€§ <a class="header-anchor" href="#_7-1-1-nameå±æ€§" aria-hidden="true">#</a></h4><p>â€‹ æˆ‘ä»¬å¯ä»¥ç”¨nameå±æ€§æ¥ç»™beanå–åã€‚ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource2,dataSource3&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;driverClassName&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.driver}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;url&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.url}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.username}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.password}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è·å–çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªåå­—æ¥è·å–äº†ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">ApplicationContext</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">app</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">ClassPathXmlApplicationContext</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;applicationContext.xml&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">DruidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">dataSource</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (DruidDataSource) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;dataSource3&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(dataSource);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_7-1-2-lazy-init" tabindex="-1">7.1.2 lazy-init <a class="header-anchor" href="#_7-1-2-lazy-init" aria-hidden="true">#</a></h4><p>å¯ä»¥æ§åˆ¶beançš„åˆ›å»ºæ—¶é—´ï¼Œå¦‚æœè®¾ç½®ä¸ºtrueå°±æ˜¯åœ¨è¢«ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™æ‰åˆ›å»ºã€‚ï¼ˆæ‡’æ±‰å¼ï¼‰</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">lazy-init</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;true&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource2,dataSource3&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;driverClassName&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.driver}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;url&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.url}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.username}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.password}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_7-1-3-init-method" tabindex="-1">7.1.3 init-method <a class="header-anchor" href="#_7-1-3-init-method" aria-hidden="true">#</a></h4><p>å¯ä»¥ç”¨æ¥è®¾ç½®åˆå§‹åŒ–æ–¹æ³•ï¼Œè®¾ç½®å®Œååˆ›å»ºå®Œå¯¹è±¡çš„æ—¶å€™å°±ä¼šè°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Data</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AllArgsConstructor</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Student</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//åˆå§‹åŒ–æ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å¯¹å­¦ç”Ÿå¯¹è±¡è¿›è¡Œåˆå§‹åŒ–æ“ä½œ&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.domain.Student&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;student&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">init-method</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;init&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>æ³¨æ„ï¼šé…ç½®çš„åˆå§‹åŒ–æ–¹æ³•åªèƒ½æ˜¯ç©ºå‚çš„ã€‚</strong></p><h4 id="_7-1-4-destroy-method" tabindex="-1">7.1.4 destroy-method <a class="header-anchor" href="#_7-1-4-destroy-method" aria-hidden="true">#</a></h4><p>å¯ä»¥ç”¨æ¥è®¾ç½®å¯¹è±¡é”€æ¯ä¹‹å‰è°ƒç”¨çš„æ–¹æ³•ï¼Œè®¾ç½®å®Œæˆåå®¹å™¨é”€æ¯å¯¹è±¡å‰ï¼Œå°±ä¼šå¸®æˆ‘ä»¬å»è°ƒç”¨é”€æ¯æ–¹æ³•ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.domain.Student&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;student&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">destroy-method</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;close&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Data</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AllArgsConstructor</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Student</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å¯¹å­¦ç”Ÿå¯¹è±¡è¿›è¡Œåˆå§‹åŒ–æ“ä½œ&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">close</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å¯¹è±¡é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œè¿›è¡Œé‡Šæ”¾èµ„æº&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>æ³¨æ„ï¼šé…ç½®çš„æ–¹æ³•åªèƒ½æ˜¯ç©ºå‚çš„ã€‚</strong></p><h4 id="_7-1-5-factory-bean-factory-method" tabindex="-1">7.1.5 factory-bean&amp;factory-method <a class="header-anchor" href="#_7-1-5-factory-bean-factory-method" aria-hidden="true">#</a></h4><p>â€‹ å½“æˆ‘ä»¬éœ€è¦è®©Springå®¹å™¨ä½¿ç”¨å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡æ”¾å…¥Springå®¹å™¨çš„æ—¶å€™å¯ä»¥ä½¿ç”¨factory-beanå’Œfactory-methodå±æ€§ã€‚</p><h5 id="_7-1-5-1-é…ç½®å®ä¾‹å·¥å‚åˆ›å»ºå¯¹è±¡" tabindex="-1">7.1.5.1 é…ç½®å®ä¾‹å·¥å‚åˆ›å»ºå¯¹è±¡ <a class="header-anchor" href="#_7-1-5-1-é…ç½®å®ä¾‹å·¥å‚åˆ›å»ºå¯¹è±¡" aria-hidden="true">#</a></h5><p>é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--åˆ›å»ºå®ä¾‹å·¥å‚--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.factory.CarFactory&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;carFactory&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">&lt;!--åˆ›å»ºå¯¹è±¡--&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--factory-bean æ˜¯æŒ‡å®šä½¿ç”¨å“ªä¸ªå·¥å‚ç±»å‹ï¼Œfactory-methodæ˜¯æŒ‡å®šä½¿ç”¨å“ªä¸ªæ–¹æ³•åˆ›å»ºï¼Œidä»£è¡¨çš„æ˜¯åˆ›å»ºå®Œä¹‹åçš„å¯¹è±¡åå­—--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">factory-bean</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;carFactory&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">factory-method</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;getCar&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;car&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>åˆ›å»ºå®¹å™¨è·å–å¯¹è±¡æµ‹è¯•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">ClassPathXmlApplicationContext</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">app</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">ClassPathXmlApplicationContext</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;applicationContext.xml&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">//è¿™æ—¶å€™ä¸èƒ½å†™carFactoryä½œä¸ºbeanæ ‡ç­¾çš„åå­—ï¼Œåº”è¯¥ä½¿ç”¨car å› ä¸ºæˆ‘ä»¬è°ƒç”¨è¿™ä¸ªå±æ€§ å°±æ˜¯ä¸ºäº†åˆ›å»ºcarå¯¹è±¡çš„</span></span>
<span class="line"><span style="color:#C9D1D9;">Car</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">car</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (Car) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;car&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="_7-1-5-2-é…ç½®é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡" tabindex="-1">7.1.5.2 é…ç½®é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡ <a class="header-anchor" href="#_7-1-5-2-é…ç½®é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡" aria-hidden="true">#</a></h5><p>â€‹ é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--ä½¿ç”¨é™æ€å·¥å‚åˆ›å»ºCaræ”¾å…¥Springå®¹å™¨--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.factory.CarStaticFactory&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">factory-method</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;getCar&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;car2&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>â€‹ åˆ›å»ºå®¹å™¨è·å–å¯¹è±¡æµ‹è¯•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">ClassPathXmlApplicationContext</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">app</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">ClassPathXmlApplicationContext</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;applicationContext.xml&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">Car</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">car</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (Car) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;car2&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="spring-02" tabindex="-1">Spring-02 <a class="header-anchor" href="#spring-02" aria-hidden="true">#</a></h2><h2 id="_1-æ³¨è§£å¼€å‘" tabindex="-1">1.æ³¨è§£å¼€å‘ <a class="header-anchor" href="#_1-æ³¨è§£å¼€å‘" aria-hidden="true">#</a></h2><p>â€‹ ä¸ºäº†ç®€åŒ–é…ç½®ï¼ŒSpringæ”¯æŒä½¿ç”¨æ³¨è§£ä»£æ›¿xmlé…ç½®ã€‚</p><h2 id="_2-springå¸¸ç”¨æ³¨è§£" tabindex="-1">2.Springå¸¸ç”¨æ³¨è§£ <a class="header-anchor" href="#_2-springå¸¸ç”¨æ³¨è§£" aria-hidden="true">#</a></h2><h3 id="_2-0-æ³¨è§£å¼€å‘å‡†å¤‡å·¥ä½œ" tabindex="-1">2.0 æ³¨è§£å¼€å‘å‡†å¤‡å·¥ä½œ <a class="header-anchor" href="#_2-0-æ³¨è§£å¼€å‘å‡†å¤‡å·¥ä½œ" aria-hidden="true">#</a></h3><p>â€‹ å¦‚æœè¦ä½¿ç”¨æ³¨è§£å¼€å‘å¿…é¡»è¦å¼€å¯ç»„ä»¶æ‰«æï¼Œè¿™æ ·åŠ äº†æ³¨è§£çš„ç±»æ‰ä¼šè¢«è¯†åˆ«å‡ºæ¥ã€‚Springæ‰èƒ½å»è§£æå…¶ä¸­çš„æ³¨è§£ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--æ³¨è§£æ‰«æ--&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--å¯åŠ¨ç»„ä»¶æ‰«æï¼Œåˆ¶å®šå¯¹åº”çš„æ‰«æåŒ…è·¯å¾„ï¼Œè¯¥æŠ¥åŠå…¶å­åŒ…ä¸‹æ‰€æœ‰çš„ç±»éƒ½ä¼šè¢«æ‰«æï¼ŒåŠ è½½åŒ…éŸ©æŒ‡å®šæ³¨è§£çš„ç±»--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">base-package</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-1-iocç›¸å…³æ³¨è§£" tabindex="-1">2.1 IOCç›¸å…³æ³¨è§£ <a class="header-anchor" href="#_2-1-iocç›¸å…³æ³¨è§£" aria-hidden="true">#</a></h3><h4 id="_2-1-1-component-controller-service-repository" tabindex="-1">2.1.1 @Component,@Controller,@Service,@Repository <a class="header-anchor" href="#_2-1-1-component-controller-service-repository" aria-hidden="true">#</a></h4><p>â€‹ ä¸Šè¿°å››ä¸ªæ³¨è§£éƒ½æ˜¯åŠ åˆ°ç±»ä¸Šçš„ã€‚</p><p>â€‹ ä»–ä»¬éƒ½å¯ä»¥èµ·åˆ°ç±»ä¼¼beanæ ‡ç­¾çš„ä½œç”¨ã€‚å¯ä»¥æŠŠåŠ äº†è¯¥æ³¨è§£ç±»çš„å¯¹è±¡æ”¾å…¥Springå®¹å™¨ä¸­ã€‚</p><p>â€‹ å®é™…åœ¨ä½¿ç”¨æ—¶é€‰æ‹©ä»»æ„ä¸€ä¸ªéƒ½å¯ä»¥ã€‚ä½†æ˜¯åä¸‰ä¸ªæ³¨è§£æ˜¯è¯­ä¹‰åŒ–æ³¨è§£ã€‚</p><p>â€‹ å¦‚æœæ˜¯Serviceç±»è¦æ±‚ä½¿ç”¨@Serviceã€‚</p><p>â€‹ å¦‚æœæ˜¯Daoç±»è¦æ±‚ä½¿ç”¨@Repository</p><p>â€‹ å¦‚æœæ˜¯Controllerç±»ï¼ˆSpringMVCä¸­ä¼šå­¦ä¹ åˆ°ï¼‰è¦æ±‚ä½¿ç”¨@Controller</p><p>â€‹ å¦‚æœæ˜¯å…¶ä»–ç±»å¯ä»¥ä½¿ç”¨@Component</p><p>ä¾‹å¦‚ï¼š</p><p>é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;">?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">xmlns</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:xsi</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:context</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xsi:schemaLocation</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--æ³¨è§£æ‰«æ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å¯åŠ¨ç»„ä»¶æ‰«æï¼Œåˆ¶å®šå¯¹åº”çš„æ‰«æåŒ…è·¯å¾„ï¼Œè¯¥æŠ¥åŠå…¶å­åŒ…ä¸‹æ‰€æœ‰çš„ç±»éƒ½ä¼šè¢«æ‰«æï¼ŒåŠ è½½åŒ…éŸ©æŒ‡å®šæ³¨è§£çš„ç±»--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">base-package</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--&lt;bean class=&quot;com.dunxi.domain.Phone&quot; id=&quot;phone&quot;&gt;&lt;/bean&gt;--&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ç±»å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Repository</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userDao&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserDaoImpl</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">implements</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">UserDao</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">show</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æŸ¥è¯¢æ•°æ®åº“ï¼Œå±•ç¤ºæŸ¥è¯¢åˆ°çš„æ•°æ®&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Data</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AllArgsConstructor</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Phone</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">double</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">price;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">password;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">path;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userService&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserServiceImpl</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">implements</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">UserService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æµ‹è¯•ç±»å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] args) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//åˆ›å»ºå®¹å™¨</span></span>
<span class="line"><span style="color:#C9D1D9;">    ClassPathXmlApplicationContext</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">app</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">ClassPathXmlApplicationContext</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;applicationContext.xml&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è·å–å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">    Phone</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">phone</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (Phone) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;phone&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(phone);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (UserDao) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userDao&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(userDao);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    UserService</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">service</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (UserService) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userService&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(service);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_2-2-diç›¸å…³æ³¨è§£" tabindex="-1">2.2 DIç›¸å…³æ³¨è§£ <a class="header-anchor" href="#_2-2-diç›¸å…³æ³¨è§£" aria-hidden="true">#</a></h3><p>â€‹ å¦‚æœä¸€ä¸ªbeanå·²ç»æ”¾å…¥Springå®¹å™¨ä¸­äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ³¨è§£å®ç°å±æ€§æ³¨å…¥ï¼Œè®©Springå®¹å™¨å¸®æˆ‘ä»¬å®Œæˆå±æ€§çš„èµ‹å€¼ã€‚</p><h4 id="_2-2-1-value" tabindex="-1">2.2.1 @Value <a class="header-anchor" href="#_2-2-1-value" aria-hidden="true">#</a></h4><p>â€‹ ä¸»è¦ç”¨äºStringï¼ŒIntegerç­‰å¯ä»¥ç›´æ¥èµ‹å€¼çš„å±æ€§æ³¨å…¥ã€‚ä¸ä¾èµ–setteræ–¹æ³•ï¼Œæ”¯æŒSpELlè¡¨è¾¾å¼ï¼ˆ#{45+3}ï¼‰ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userService&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Data</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AllArgsConstructor</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserServiceImpl</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">implements</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">UserService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;1000&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">num;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;#{12+8}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sss;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ•¦ç¦§ç§‘æŠ€&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">show</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        userDao.</span><span style="color:#D2A8FF;">show</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="_2-2-2-autowried" tabindex="-1">2.2.2 @AutoWried <a class="header-anchor" href="#_2-2-2-autowried" aria-hidden="true">#</a></h4><p>â€‹ Springä¼šç»™åŠ äº†è¯¥æ³¨è§£çš„å±æ€§è‡ªåŠ¨æ³¨å…¥æ•°æ®ç±»å‹ç›¸åŒçš„å¯¹è±¡ã€‚</p><p>å‰ææ¡ä»¶æ˜¯Springç›¸å…³çš„é…ç½®æ–‡ä»¶éƒ½å†™å¥½äº†ï¼Œè¿˜æœ‰ä½¿ç”¨è¿™ä¸ªæ³¨è§£çš„ç±» ä¸€å®šè¦æ”¾åˆ°springå®¹å™¨å½“ä¸­</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userService&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Data</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AllArgsConstructor</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">NoArgsConstructor</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserServiceImpl</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">implements</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">UserService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Autowired</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;1000&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">num;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;#{12+8}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sss;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ•¦ç¦§ç§‘æŠ€&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">show</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        userDao.</span><span style="color:#D2A8FF;">show</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>â€‹ <strong>requiredå±æ€§ä»£è¡¨è¿™ä¸ªå±æ€§æ˜¯å¦æ˜¯å¿…é¡»çš„ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚å¦‚æœæ˜¯trueçš„è¯Springå®¹å™¨ä¸­å¦‚æœæ‰¾ä¸åˆ°ç›¸åŒç±»å‹çš„å¯¹è±¡å®Œæˆå±æ€§æ³¨å…¥å°±ä¼šå‡ºç°å¼‚å¸¸ã€‚</strong></p><h4 id="_2-2-3-qualifier" tabindex="-1">2.2.3 @Qualifier <a class="header-anchor" href="#_2-2-3-qualifier" aria-hidden="true">#</a></h4><p>â€‹ å¦‚æœç›¸åŒç±»å‹çš„beanåœ¨å®¹å™¨ä¸­æœ‰å¤šä¸ªæ—¶ï¼Œå•ç‹¬ä½¿ç”¨@AutoWiredå°±ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œè¿™æ—¶å€™å¯ä»¥å†åŠ ä¸Š@Qualifieræ¥æŒ‡å®šbeançš„åå­—ä»å®¹å™¨ä¸­è·å–beanæ³¨å…¥ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Autowired</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Qualifier</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;userDao2&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>æ³¨æ„ï¼šè¯¥æ³¨è§£ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œéœ€è¦é…åˆ@Autowiredä½¿ç”¨</p></blockquote><h3 id="_2-3-xmlé…ç½®æ–‡ä»¶ç›¸å…³æ³¨è§£" tabindex="-1">2.3 xmlé…ç½®æ–‡ä»¶ç›¸å…³æ³¨è§£ <a class="header-anchor" href="#_2-3-xmlé…ç½®æ–‡ä»¶ç›¸å…³æ³¨è§£" aria-hidden="true">#</a></h3><h4 id="configuration" tabindex="-1">@Configuration <a class="header-anchor" href="#configuration" aria-hidden="true">#</a></h4><p>â€‹ æ ‡æ³¨åœ¨ç±»ä¸Šï¼Œè¡¨ç¤ºå½“å‰ç±»æ˜¯ä¸€ä¸ªæ³¨è§£ï¼ˆé…ç½®ï¼‰ç±»ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æ³¨è§£æ¥å®Œå…¨æ›¿æ¢æ‰xmlé…ç½®æ–‡ä»¶ã€‚</p><p>â€‹ æ³¨æ„ï¼šå¦‚æœä½¿ç”¨é…ç½®ç±»æ›¿æ¢äº†xmlé…ç½®ï¼Œspringå®¹å™¨éœ€è¦ä½¿ç”¨ï¼šAnnotationConfigApplicationContext</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Configuration</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">ApplicationConfig</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="componentscan" tabindex="-1">@ComponentScan <a class="header-anchor" href="#componentscan" aria-hidden="true">#</a></h4><p>â€‹ å¯ä»¥ç”¨æ¥ä»£æ›¿context:component-scanæ ‡ç­¾æ¥é…ç½®ç»„ä»¶æ‰«æã€‚</p><p>â€‹ basePackageså±æ€§æ¥æŒ‡å®šè¦æ‰«æçš„åŒ…ã€‚</p><p>â€‹ æ³¨æ„è¦åŠ åœ¨é…ç½®ç±»ä¸Šã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Configuration</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">ComponentScan</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">basePackages</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//æŒ‡å®šè¦æ‰«æçš„åŒ…</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">ApplicationConfig</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="bean" tabindex="-1">@Bean <a class="header-anchor" href="#bean" aria-hidden="true">#</a></h4><p>â€‹ å¯ä»¥ç”¨æ¥ä»£æ›¿beanæ ‡ç­¾ï¼Œä¸»è¦ç”¨äºç¬¬ä¸‰æ–¹ç±»çš„æ³¨å…¥ã€‚</p><p>â€‹ ä½¿ç”¨ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­åˆ›å»ºå¯¹åº”çš„å¯¹è±¡å¹¶ä¸”ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚ç„¶åå†æ–¹æ³•ä¸ŠåŠ ä¸Š@Beanæ³¨è§£ï¼Œæ³¨è§£çš„valueå±æ€§æ¥è®¾ç½®beançš„åç§°ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Configuration</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">ComponentScan</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">basePackages</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">ApplicationConfig</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Bean</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> DruidDataSource </span><span style="color:#D2A8FF;">getDataSource</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        DruidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">druidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">DruidDataSource</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setDriverClassName</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;com.mysql.jdbc.Driver&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setUsername</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;root&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setUrl</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;jdbc:mysql://localhost:3306/mybatis_db&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setPassword</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;123456&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> druidDataSource;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>æ³¨æ„äº‹é¡¹ï¼šå¦‚æœåŒä¸€ç§ç±»å‹çš„å¯¹è±¡åœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥ä¸è®¾ç½®beançš„åç§°ã€‚</strong></p><p>å…·ä½“å†™æ³•å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Configuration</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">ComponentScan</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">basePackages</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">ApplicationConfig</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Bean</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> DruidDataSource </span><span style="color:#D2A8FF;">getDataSource</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        DruidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">druidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">DruidDataSource</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setDriverClassName</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;com.mysql.jdbc.Driver&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setUsername</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;root&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setUrl</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;jdbc:mysql://localhost:3306/mybatis_db&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setPassword</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;123456&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> druidDataSource;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>è·å–æ–¹å¼å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] args) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//åˆ›å»ºæ³¨è§£å®¹å™¨</span></span>
<span class="line"><span style="color:#C9D1D9;">        AnnotationConfigApplicationContext</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">app</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">AnnotationConfigApplicationContext</span><span style="color:#C9D1D9;">(ApplicationConfig.class);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//æ ¹æ®å¯¹åº”ç±»çš„å­—èŠ‚ç å¯¹è±¡è·å–</span></span>
<span class="line"><span style="color:#C9D1D9;">        DruidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">dataSource</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (DruidDataSource) app.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(DruidDataSource.class);</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(dataSource);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="propertysource" tabindex="-1">@PropertySource <a class="header-anchor" href="#propertysource" aria-hidden="true">#</a></h4><p>â€‹ å¯ä»¥ç”¨æ¥ä»£æ›¿context:property-placeholder,è®©Springè¯»å–æŒ‡å®šçš„propertiesæ–‡ä»¶ã€‚ç„¶åå¯ä»¥ä½¿ç”¨@Valueæ¥è·å–è¯»å–åˆ°çš„å€¼ã€‚</p><p>â€‹ <strong>ä½¿ç”¨ï¼šåœ¨é…ç½®ç±»ä¸ŠåŠ @PropertySourceæ³¨è§£ï¼Œæ³¨è§£çš„valueå±æ€§æ¥è®¾ç½®propertiesæ–‡ä»¶çš„è·¯å¾„ã€‚ç„¶ååœ¨é…ç½®ç±»ä¸­å®šä¹‰æˆå‘˜å˜é‡ã€‚åœ¨æˆå‘˜å˜é‡ä¸Šä½¿ç”¨@Valueæ³¨è§£æ¥è·å–è¯»åˆ°çš„å€¼å¹¶ç»™å¯¹åº”çš„æˆå‘˜å˜é‡èµ‹å€¼ã€‚</strong></p><p>ä¾‹å¦‚ï¼š</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#A5D6FF;">jdbc.driver=com.mysql.jdbc.Driver</span></span>
<span class="line"><span style="color:#A5D6FF;">jdbc.url=jdbc:mysql://localhost:3306/mybatis_db</span></span>
<span class="line"><span style="color:#A5D6FF;">jdbc.username=root</span></span>
<span class="line"><span style="color:#A5D6FF;">jdbc.password=123456</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¯»å–æ–‡ä»¶å¹¶è·å–å€¼</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Configuration</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">ComponentScan</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">basePackages</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">PropertySource</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;jdbc.properties&quot;</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//æ‹¬å·é‡Œé¢å†™é…ç½®æ–‡ä»¶çš„è·¯å¾„</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">ApplicationConfig</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">//å…ˆåˆ©ç”¨Valueå±æ€§${}è¯»å–æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œç„¶åèµ‹å€¼ç»™å˜é‡ï¼Œç„¶åè°ƒç”¨å‡½æ•°çš„æ—¶å€™ç›´æ¥ä¼ å…¥è¯¥å˜é‡</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;${jdbc.driver}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">driverClassName;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;${jdbc.url}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">url;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;${jdbc.username}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">username;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Value</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;${jdbc.password}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">password;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Bean</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> DruidDataSource </span><span style="color:#D2A8FF;">getDataSource</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        DruidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">druidDataSource</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">DruidDataSource</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setDriverClassName</span><span style="color:#C9D1D9;">(driverClassName);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setUsername</span><span style="color:#C9D1D9;">(username);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setUrl</span><span style="color:#C9D1D9;">(url);</span></span>
<span class="line"><span style="color:#C9D1D9;">        druidDataSource.</span><span style="color:#D2A8FF;">setPassword</span><span style="color:#C9D1D9;">(password);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> druidDataSource;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>æ³¨æ„äº‹é¡¹ï¼šä½¿ç”¨@Valueè·å–è¯»åˆ°çš„propertiesæ–‡ä»¶ä¸­çš„å€¼æ—¶ä½¿ç”¨çš„æ˜¯${key},è€Œä¸æ˜¯#{key}ã€‚</strong></p><h2 id="_3-å¦‚ä½•é€‰æ‹©" tabindex="-1">3.å¦‚ä½•é€‰æ‹© <a class="header-anchor" href="#_3-å¦‚ä½•é€‰æ‹©" aria-hidden="true">#</a></h2><p>SSM</p><p>â€‹ è‡ªå·±é¡¹ç›®ä¸­çš„ç±»IOCå’ŒDIéƒ½ä½¿ç”¨æ³¨è§£ï¼Œå¯¹ç¬¬ä¸‰æ–¹jaråŒ…ä¸­çš„ç±»ï¼Œé…ç½®ç»„ä»¶æ‰«ææ—¶ä½¿ç”¨xmlè¿›è¡Œé…ç½®ã€‚</p><p>â‘¡SpringBoot</p><p>â€‹ çº¯æ³¨è§£å¼€å‘</p><h2 id="spring-03" tabindex="-1">Spring-03 <a class="header-anchor" href="#spring-03" aria-hidden="true">#</a></h2><h2 id="_1-aop" tabindex="-1">1.AOP <a class="header-anchor" href="#_1-aop" aria-hidden="true">#</a></h2><h3 id="_1-1-æ¦‚å¿µ" tabindex="-1">1.1 æ¦‚å¿µ <a class="header-anchor" href="#_1-1-æ¦‚å¿µ" aria-hidden="true">#</a></h3><p>â€‹ AOPä¸ºAspect Oriented Programmingçš„ç¼©å†™ï¼Œæ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚å®ƒæ˜¯ä¸€ç§å¯ä»¥å†ä¸ä¿®æ”¹åŸæ¥çš„æ ¸å¿ƒä»£ç çš„æƒ…å†µä¸‹ç»™ç¨‹åºåŠ¨æ€ç»Ÿä¸€è¿›è¡Œå¢å¼ºçš„ä¸€ç§æŠ€æœ¯ã€‚</p><p>â€‹ <strong>SpringAOPï¼šæ‰¹é‡å¯¹Springå®¹å™¨ä¸­beançš„æ–¹æ³•åšå¢å¼ºï¼Œå¹¶ä¸”è¿™ç§å¢å¼ºä¸ä¼šä¸åŸæ¥æ–¹æ³•ä¸­çš„ä»£ç è€¦åˆã€‚</strong></p><h3 id="_1-2-å¿«é€Ÿå…¥é—¨" tabindex="-1">1.2 å¿«é€Ÿå…¥é—¨ <a class="header-anchor" href="#_1-2-å¿«é€Ÿå…¥é—¨" aria-hidden="true">#</a></h3><h4 id="_1-2-1-éœ€æ±‚" tabindex="-1">1.2.1 éœ€æ±‚ <a class="header-anchor" href="#_1-2-1-éœ€æ±‚" aria-hidden="true">#</a></h4><p>â€‹ è¦æ±‚è®©_04_SpringAOPæ¨¡å—ä¸­serviceåŒ…ä¸‹æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•åœ¨è°ƒç”¨å‰éƒ½è¾“å‡ºï¼šæ–¹æ³•è¢«è°ƒç”¨äº†ã€‚</p><h4 id="_1-2-2-å‡†å¤‡å·¥ä½œ" tabindex="-1">1.2.2 å‡†å¤‡å·¥ä½œ <a class="header-anchor" href="#_1-2-2-å‡†å¤‡å·¥ä½œ" aria-hidden="true">#</a></h4><h5 id="æ·»åŠ ä¾èµ–" tabindex="-1">æ·»åŠ ä¾èµ– <a class="header-anchor" href="#æ·»åŠ ä¾èµ–" aria-hidden="true">#</a></h5><p>éœ€è¦æ·»åŠ SpringIOCç›¸å…³ä¾èµ–å’ŒAOPç›¸å…³ä¾èµ–ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--SpringIOCç›¸å…³ä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.springframework&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;spring-context&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.9.RELEASE&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--AOPç›¸å…³ä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.aspectj&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;aspectjweaver&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.8.13&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="_2ç›¸å…³beanè¦æ³¨å…¥å®¹å™¨ä¸­" tabindex="-1">â‘¡ç›¸å…³beanè¦æ³¨å…¥å®¹å™¨ä¸­ <a class="header-anchor" href="#_2ç›¸å…³beanè¦æ³¨å…¥å®¹å™¨ä¸­" aria-hidden="true">#</a></h5><p>å¼€å¯ç»„ä»¶æ‰«æ</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">base-package</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>åŠ @Serviceæ³¨è§£</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">PhoneService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">deleteAll</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;PhoneServiceä¸­çš„æ ¸å¿ƒä»£ç &quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">deleteAll</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;UserServiceä¸­çš„æ ¸å¿ƒä»£ç &quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_1-2-3-å®ç°aop" tabindex="-1">1.2.3 å®ç°AOP <a class="header-anchor" href="#_1-2-3-å®ç°aop" aria-hidden="true">#</a></h4><h5 id="å¼€å¯aopæ³¨è§£æ”¯æŒ" tabindex="-1">å¼€å¯AOPæ³¨è§£æ”¯æŒ <a class="header-anchor" href="#å¼€å¯aopæ³¨è§£æ”¯æŒ" aria-hidden="true">#</a></h5><p>ä½¿ç”¨<strong>aop:aspectj-autoproxy</strong>æ ‡ç­¾</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;">?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">xmlns</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:xsi</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:context</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:aop</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/aop&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xsi:schemaLocation</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å¼€å¯ç»„ä»¶æ‰«æ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">base-package</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å¼€å¯AOPæ³¨è§£æ”¯æŒ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">aop:aspectj-autoproxy</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:aspectj-autoproxy</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="_2åˆ›å»ºåˆ‡é¢ç±»" tabindex="-1">â‘¡åˆ›å»ºåˆ‡é¢ç±» <a class="header-anchor" href="#_2åˆ›å»ºåˆ‡é¢ç±»" aria-hidden="true">#</a></h5><p>åˆ›å»ºä¸€ä¸ªç±»ï¼Œåœ¨ç±»ä¸Šé¢åŠ ä¸Š@Componentå’Œ@Aspect</p><p>ä½¿ç”¨@Pointcutæ³¨è§£æ¥æŒ‡å®šè¦è¢«å¢å¼ºçš„æ–¹æ³•</p><p>ä½¿ç”¨@Beforeæ³¨è§£æ¥ç»™æˆ‘ä»¬çš„å¢å¼ºä»£ç æ‰€åœ¨çš„æ–¹æ³•è¿›è¡Œæ ‡è¯†ï¼Œå¹¶ä¸”æŒ‡å®šäº†å¢å¼ºä»£ç æ˜¯åœ¨è¢«å¢å¼ºæ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œçš„ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span><span style="color:#8B949E;">//è¡¨ç¤ºå°†è¿™ä¸ªç±»æ”¾åˆ°springå®¹å™¨ä¸­</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Aspect</span><span style="color:#8B949E;">//è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡æ¯”è¾ƒç‰¹æ®Šï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">MyAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//          å¯¹serviceåŒ…ä¸‹çš„æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼º</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Pointcut</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;execution(* com.dunxi.service.*.*(..))&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">pt</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">/*</span></span>
<span class="line"><span style="color:#8B949E;">     ç”¨@Beforeæ³¨è§£æ¥æŒ‡å®šæ–¹æ³•ä¸­æ˜¯å¢å¼ºçš„ä»£ç ï¼Œå¹¶ä¸”æ˜¯åœ¨è¢«å¢å¼ºæ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œçš„</span></span>
<span class="line"><span style="color:#8B949E;">     @Beforeçš„å±æ€§å†™ä¸ŠåŠ äº†@Pointcutæ³¨è§£çš„æ–¹æ³•ï¼šæ–¹æ³•å()</span></span>
<span class="line"><span style="color:#8B949E;">    */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Before</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//æ‹¬å·é‡Œé¢è¡¨ç¤ºè°ƒç”¨å“ªä¸ªåˆ‡ç‚¹è¡¨è¾¾å¼</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">methodbefore</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ–¹æ³•è¢«è°ƒç”¨äº†ã€‚&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_1-2-4-æµ‹è¯•" tabindex="-1">1.2.4 æµ‹è¯• <a class="header-anchor" href="#_1-2-4-æµ‹è¯•" aria-hidden="true">#</a></h4><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] args) {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//åˆ›å»ºå®¹å™¨</span></span>
<span class="line"><span style="color:#C9D1D9;">    ApplicationContext</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">applicationContext</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">ClassPathXmlApplicationContext</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;applicationContext.xml&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è·å–å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">    PhoneService</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">phoneService</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> applicationContext.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(PhoneService.class);</span></span>
<span class="line"><span style="color:#C9D1D9;">    UserService</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userService</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> applicationContext.</span><span style="color:#D2A8FF;">getBean</span><span style="color:#C9D1D9;">(UserService.class);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è°ƒç”¨æ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">    phoneService.</span><span style="color:#D2A8FF;">deleteAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    userService.</span><span style="color:#D2A8FF;">deleteAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_1-3-aopæ ¸å¿ƒæ¦‚å¿µ" tabindex="-1">1.3 AOPæ ¸å¿ƒæ¦‚å¿µ <a class="header-anchor" href="#_1-3-aopæ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true">#</a></h3><ul><li>Joinpointï¼ˆè¿æ¥ç‚¹ï¼‰ï¼šæ‰€è°“è¿æ¥ç‚¹æ˜¯æŒ‡é‚£äº›å¯ä»¥è¢«å¢å¼ºåˆ°çš„ç‚¹ã€‚åœ¨springä¸­ï¼Œè¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•ï¼Œå› ä¸ºspringåªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹</li><li><strong>Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰ï¼šæ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡è¢«å¢å¼ºçš„è¿æ¥ç‚¹ï¼ˆæ–¹æ³•ï¼‰</strong></li><li><strong>Adviceï¼ˆé€šçŸ¥/å¢å¼ºï¼‰ï¼šæ‰€è°“é€šçŸ¥æ˜¯æŒ‡å…·ä½“å¢å¼ºçš„ä»£ç </strong></li><li>Targetï¼ˆç›®æ ‡å¯¹è±¡ï¼‰ï¼šè¢«å¢å¼ºçš„å¯¹è±¡å°±æ˜¯ç›®æ ‡å¯¹è±¡</li><li><strong>Aspectï¼ˆåˆ‡é¢ï¼‰ï¼šæ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ï¼ˆå¼•ä»‹ï¼‰çš„ç»“åˆ</strong></li><li>Proxy(ä»£ç†)ï¼šä¸€ä¸ªç±»è¢«AOPå¢å¼ºåï¼Œå°±äº§ç”Ÿä¸€ä¸ªç»“æœä»£ç†ç±»</li></ul><h3 id="_1-4-åˆ‡ç‚¹ç¡®å®š" tabindex="-1">1.4 åˆ‡ç‚¹ç¡®å®š <a class="header-anchor" href="#_1-4-åˆ‡ç‚¹ç¡®å®š" aria-hidden="true">#</a></h3><h4 id="_1-4-1-åˆ‡ç‚¹è¡¨è¾¾å¼" tabindex="-1">1.4.1 åˆ‡ç‚¹è¡¨è¾¾å¼ <a class="header-anchor" href="#_1-4-1-åˆ‡ç‚¹è¡¨è¾¾å¼" aria-hidden="true">#</a></h4><p>â€‹ å¯ä»¥ä½¿ç”¨åˆ‡ç‚¹è¡¨è¾¾å¼æ¥è¡¨ç¤ºè¦å¯¹å“ªäº›æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚</p><p>å†™æ³•ï¼š<strong>execution([ä¿®é¥°ç¬¦]è¿”å›å€¼ç±»å‹ åŒ…å.ç±»å.æ–¹æ³•å(å‚æ•°))</strong></p><ul><li>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹çœç•¥</li><li>è¿”å›å€¼ç±»å‹ã€åŒ…åã€ç±»åã€æ–¹æ³•åå¯ä»¥ä½¿ç”¨æ˜Ÿå·* ä»£è¡¨ä»»æ„</li><li>åŒ…åä¸ç±»åä¹‹é—´ä¸€ä¸ªç‚¹.ä»£è¡¨å½“å‰åŒ…ä¸‹çš„ç±»ï¼Œä¸¤ä¸ªç‚¹..è¡¨ç¤ºå½“å‰åŒ…åŠå…¶å­åŒ…ä¸‹çš„ç±»</li><li>å‚æ•°åˆ—è¡¨å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç‚¹ ..è¡¨ç¤ºä»»æ„ä¸ªæ•°ï¼Œä»»æ„ç±»å‹åšå‚æ•°åˆ—è¡¨</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#D2A8FF;">execution</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> com.dunxi.service.</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">.</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">(..)) </span><span style="color:#8B949E;">//è¡¨ç¤ºcom.dunxi.serviceåŒ…ä¸‹ä»»æ„ç±»ï¼Œæ–¹æ³•åä»»æ„ï¼Œå‚æ•°åˆ—è¡¨ä»»æ„ï¼Œè¿”å›å€¼ç±»å‹ä»»æ„</span></span>
<span class="line"><span style="color:#D2A8FF;">execution</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> com.dunxi.service..</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">.</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">(..))</span><span style="color:#8B949E;">//è¡¨ç¤ºcom.dunxi.serviceåŒ…ä¸‹åŠå…¶å­åŒ…ä¸‹ä»»æ„ç±»ï¼Œæ–¹æ³•åä»»æ„ï¼Œå‚æ•°åˆ—è¡¨ä»»æ„ï¼Œè¿”å›å€¼ç±»å‹ä»»æ„ã€‚</span></span>
<span class="line"><span style="color:#D2A8FF;">execution</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> com.dunxi.service.</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">.</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">())</span><span style="color:#8B949E;">//è¡¨ç¤ºcom.dunxi.serviceåŒ…ä¸‹ä»»æ„ç±»ï¼Œæ–¹æ³•åä»»æ„ï¼Œè¦æ±‚æ–¹æ³•ä¸èƒ½æœ‰å‚æ•°ï¼Œè¿”å›å€¼ç±»å‹ä»»æ„</span></span>
<span class="line"><span style="color:#D2A8FF;">execution</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> com.dunxi.service.</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">.delete</span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;">(..))</span><span style="color:#8B949E;">//è¡¨ç¤ºcom.dunxi.serviceåŒ…ä¸‹ä»»æ„ç±»ï¼Œæ–¹æ³•åå¿…é¡»ä»¥deleteå¼€å¤´ï¼Œæ–¹æ³•ä¸èƒ½æœ‰å‚æ•°ï¼Œè¿”å›å€¼ç±»å‹ä»»æ„</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_1-4-2-åˆ‡ç‚¹å‡½æ•°-annotation" tabindex="-1">1.4.2 åˆ‡ç‚¹å‡½æ•°@annotation <a class="header-anchor" href="#_1-4-2-åˆ‡ç‚¹å‡½æ•°-annotation" aria-hidden="true">#</a></h4><p>â€‹ æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¦å¢å¼ºçš„æ–¹æ³•ä¸ŠåŠ ä¸Šæ³¨è§£ã€‚ç„¶åä½¿ç”¨@annotationæ¥è¡¨ç¤ºå¯¹åŠ äº†ä»€ä¹ˆæ³¨è§£çš„æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚</p><p>å†™æ³•**@annotation(æ³¨è§£çš„å…¨ç±»å)**</p><p>ä¾‹å¦‚ï¼š</p><p>å®šä¹‰æ³¨è§£å¦‚ä¸‹</p><div class="language-JAVA line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">JAVA</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Retention</span><span style="color:#C9D1D9;">(RetentionPolicy.RUNTIME)</span><span style="color:#8B949E;">//è¯¥æ³¨è§£å¯ä»¥ä¿ç•™åˆ°è¿è¡Œæ—¶</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Target</span><span style="color:#C9D1D9;">({ElementType.METHOD})</span><span style="color:#8B949E;">//è¯¥æ³¨è§£å¯ä»¥åŠ åœ¨æ–¹æ³•ä¸Š</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> @</span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">InvokeLog</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ç»™éœ€è¦å¢å¼ºçš„æ–¹æ³•åŠ æ³¨è§£</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">PhoneService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">InvokeLog</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">deleteAll</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;PhoneServiceä¸­çš„æ ¸å¿ƒä»£ç &quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åˆ‡é¢ç±»ä¸­ä½¿ç”¨@annotationæ¥ç¡®å®šè¦å¢å¼ºçš„æ–¹æ³•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span><span style="color:#8B949E;">//è¡¨ç¤ºå°†è¿™ä¸ªç±»æ”¾åˆ°springå®¹å™¨ä¸­</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Aspect</span><span style="color:#8B949E;">//è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡æ¯”è¾ƒç‰¹æ®Šï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">MyAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//ç”¨Pointcutæ³¨è§£ä¸­çš„å±æ€§æ¥æŒ‡å®šå¯¹å“ªäº›æ–¹æ³•è¿›è¡Œå¢å¼º</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Pointcut</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;@annotation(com.dunxi.aspect.InvokeLog)&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">pt</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Before</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//æ‹¬å·é‡Œé¢è¡¨ç¤ºè°ƒç”¨å“ªä¸ªåˆ‡ç‚¹è¡¨è¾¾å¼</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">methodbefore</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ–¹æ³•è¢«è°ƒç”¨äº†ã€‚&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_1-5-é€šçŸ¥åˆ†ç±»" tabindex="-1">1.5 é€šçŸ¥åˆ†ç±» <a class="header-anchor" href="#_1-5-é€šçŸ¥åˆ†ç±»" aria-hidden="true">#</a></h3><ul><li>@Beforeï¼šå‰ç½®é€šçŸ¥ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œ</li><li>@AfterRetuningï¼šè¿”å›åé€šçŸ¥ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œåæ‰§è¡Œï¼Œå¦‚æœå‡ºç°å¼‚å¸¸ä¸ä¼šæ‰§è¡Œ</li><li>@Afterï¼šåç½®é€šçŸ¥ï¼Œåœ¨ç›®æ ‡æ–¹æ³•è¿”å›ç»“æœä¹‹åæ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ</li><li>@AfterThrowingï¼šå¼‚å¸¸é€šçŸ¥ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ</li><li><strong>@Aroundï¼šç¯ç»•é€šçŸ¥ï¼Œå›´ç»•ç€æ–¹æ³•æ‰§è¡Œ</strong></li></ul><p>ç†è§£ä¸åŒçš„é€šçŸ¥æ‰§è¡Œæ—¶æœºã€‚ï¼ˆ<strong>ä¸‹é¢çš„ä¼ªä»£ç æ˜¯ç”¨æ¥ç†è§£å•ä¸ªé€šçŸ¥æ‰§è¡Œæ—¶æœºçš„ï¼Œä¸èƒ½ç”¨æ¥ç†è§£å¤šä¸ªé€šçŸ¥æƒ…å†µä¸‹çš„æ‰§è¡Œé¡ºåºã€‚å¦‚æœéœ€è¦é…ç½®å¤šä¸ªé€šçŸ¥æˆ‘ä»¬ä¼šé€‰æ‹©ä½¿ç”¨Aroundé€šçŸ¥ï¼Œæ›´åŠ çš„æ¸…æ™°å¹¶ä¸”å¥½ç”¨</strong>ï¼‰</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Object </span><span style="color:#D2A8FF;">test</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">before</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//@Beforeå‰ç½®é€šçŸ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">try</span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">        Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ret</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> ç›®æ ‡æ–¹æ³•();</span><span style="color:#8B949E;">//ç›®æ ‡æ–¹æ³•è°ƒç”¨</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#D2A8FF;">afterReturing</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//@AfterRetuning è¿”å›åé€šçŸ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span><span style="color:#FF7B72;">catch</span><span style="color:#C9D1D9;"> (Throwable </span><span style="color:#FFA657;">throwable</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        throwable.</span><span style="color:#D2A8FF;">printStackTrace</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#D2A8FF;">afterThrowing</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//@AfterThwowing å‡ºç°å¼‚å¸¸åé€šçŸ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span><span style="color:#FF7B72;">finally</span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#D2A8FF;">after</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//@After åç½®é€šçŸ¥ï¼Œä¸ç®¡æœ‰æ²¡æœ‰æ‰§è¡Œå‡ºç°å¼‚å¸¸ éƒ½ä¼šé€šçŸ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> ret;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ç¯ç»•åŒå¿—éå¸¸ç‰¹æ®Šï¼Œä»–å¯ä»¥å¯¹ç›®æ ‡æ–¹æ³•è¿›è¡Œå…¨æ–¹ä½çš„å¢å¼ºã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Around</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">around</span><span style="color:#C9D1D9;">(ProceedingJoinPoint pjp ){</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ç›®æ ‡æ–¹æ³•å‰ï¼Œå‰ç½®é€šçŸ¥&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">try</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">        pjp.</span><span style="color:#D2A8FF;">proceed</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ç›®æ ‡æ–¹æ³•åï¼Œåç½®é€šçŸ¥&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    } </span><span style="color:#FF7B72;">catch</span><span style="color:#C9D1D9;"> (Throwable </span><span style="color:#FFA657;">throwable</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        throwable.</span><span style="color:#D2A8FF;">printStackTrace</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ç›®æ ‡æ–¹æ³•å‡ºç°å¼‚å¸¸åé€šçŸ¥&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span><span style="color:#FF7B72;">finally</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ä¸ç®¡æ€æ ·ï¼Œå°±æ˜¯è¦é€šçŸ¥&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_1-6-è·å–è¢«å¢å¼ºæ–¹æ³•çš„ç›¸å…³ä¿¡æ¯" tabindex="-1">1.6 è·å–è¢«å¢å¼ºæ–¹æ³•çš„ç›¸å…³ä¿¡æ¯ <a class="header-anchor" href="#_1-6-è·å–è¢«å¢å¼ºæ–¹æ³•çš„ç›¸å…³ä¿¡æ¯" aria-hidden="true">#</a></h3><p>â€‹ æˆ‘ä»¬å®é™…å¯¹æ–¹æ³•è¿›è¡Œå¢å¼ºæ—¶å¾€å¾€è¿˜éœ€è¦è·å–åˆ°è¢«å¢å¼ºä»£ç çš„ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚æ–¹æ³•åï¼Œå‚æ•°ï¼Œè¿”å›å€¼ï¼Œå¼‚å¸¸å¯¹è±¡ç­‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨å‡ºäº†ç¯ç»•é€šçŸ¥å¤–çš„æ‰€æœ‰é€šçŸ¥æ–¹æ³•ä¸­å¢åŠ ä¸€ä¸ª<strong>JoinPointç±»å‹</strong>çš„å‚æ•°ã€‚è¿™ä¸ªå‚æ•°å°è£…äº†è¢«å¢å¼ºæ–¹æ³•çš„ç›¸å…³ä¿¡æ¯ã€‚<strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå‚æ•°è·å–åˆ°é™¤äº†å¼‚å¸¸å¯¹è±¡å’Œè¿”å›å€¼ä¹‹å¤–çš„æ‰€æœ‰ä¿¡æ¯ã€‚</strong></p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Before</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//æ‹¬å·é‡Œé¢è¡¨ç¤ºè°ƒç”¨å“ªä¸ªåˆ‡ç‚¹è¡¨è¾¾å¼</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">methodbefore</span><span style="color:#C9D1D9;">(JoinPoint joinPoint){</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">Object</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">args</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> joinPoint.</span><span style="color:#D2A8FF;">getArgs</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//æ–¹æ³•è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">    Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">target</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> joinPoint.</span><span style="color:#D2A8FF;">getTarget</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//è¢«ä»£ç†çš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">    MethodSignature</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">signature</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (MethodSignature) joinPoint.</span><span style="color:#D2A8FF;">getSignature</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºæ–¹æ³•ç­¾åå°è£…çš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ–¹æ³•è¢«è°ƒç”¨äº†ã€‚&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Before</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">printLog</span><span style="color:#C9D1D9;">(JoinPoint joinPoint){</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è¾“å‡ºè¢«å¢å¼ºçš„æ–¹æ³•çš„æ‰€åœ¨ç±»å æ–¹æ³•å è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">    MethodSignature</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">signature</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (MethodSignature) joinPoint.</span><span style="color:#D2A8FF;">getSignature</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºæ–¹æ³•çš„å…¨ç±»å</span></span>
<span class="line"><span style="color:#C9D1D9;">    String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ClassName</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> signature.</span><span style="color:#D2A8FF;">getDeclaringTypeName</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºæ–¹æ³•çš„æ–¹æ³•å</span></span>
<span class="line"><span style="color:#C9D1D9;">    String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> signature.</span><span style="color:#D2A8FF;">getName</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºé˜²èŒƒè°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">Object</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">args</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> joinPoint.</span><span style="color:#D2A8FF;">getArgs</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(ClassName</span><span style="color:#FF7B72;">+</span><span style="color:#A5D6FF;">&quot;===&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">name</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> Arrays.</span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">(args));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ–¹æ³•è¢«è°ƒç”¨äº†&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>â€‹</p><p>â€‹ å¦‚æœéœ€è¦<strong>è·å–è¢«å¢å¼ºæ–¹æ³•ä¸­çš„å¼‚å¸¸å¯¹è±¡æˆ–è€…è¿”å›å€¼</strong>åˆ™éœ€è¦åœ¨æ–¹æ³•å‚æ•°ä¸ŠåŠ ä¸€ä¸ªå¯¹åº”ç±»å‹çš„å‚æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨æ³¨è§£çš„å±æ€§è¿›è¡Œé…ç½®ã€‚è¿™æ ·Springä¼šæŠŠä½ æƒ³è·å–çš„æ•°æ®èµ‹å€¼ç»™å¯¹åº”çš„æ–¹æ³•å‚æ•°ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AfterReturning</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">returning</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;ret&quot;</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//ä½¿ç”¨returningå±æ€§æŒ‡å®šäº†æŠŠç›®æ ‡æ–¹æ³•è¿”å›å€¼èµ‹å€¼ç»™ä¸‹é¢æ–¹æ³•çš„å‚æ•°ret</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">afterReturning</span><span style="color:#C9D1D9;">(JoinPoint joinPoint ,Object ret){</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;AfterReturning&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">AfterThrowing</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">throwing</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;e&quot;</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//ä½¿ç”¨throwingå±æ€§æŒ‡å®šäº†æŠŠå‡ºç°å¼‚å¸¸çš„å¯¹è±¡èµ‹å€¼ç»™ä¸‹é¢æ–¹æ³•çš„å‚æ•°e</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">afterThrowing</span><span style="color:#C9D1D9;">(JoinPoint joinPoint ,Throwable e){</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;afterThrowing&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>â€‹ è¿˜æœ‰æ›´ç®€å•æ–¹ä¾¿çš„æ–¹æ³•</p><p>â€‹ ç›´æ¥åœ¨ç¯ç»•é€šçŸ¥æ–¹æ³•ä¸­å¢åŠ ä¸€ä¸ªProceedingJoinPointç±»å‹çš„å‚æ•°ã€‚è¿™ä¸ªå‚æ•°å°è£…äº†è¢«å¢å¼ºæ–¹æ³•çš„ç›¸å…³ä¿¡æ¯ã€‚</p><p>è¯¥å‚æ•°çš„proceed()æ–¹æ³•è¢«è°ƒç”¨ç›¸å½“äºè¢«å¢å¼ºæ–¹æ³•è¢«æ‰§è¡Œï¼Œè°ƒç”¨åçš„è¿”å›å€¼å°±ç›¸å½“äºè¢«å¢å¼ºæ–¹æ³•çš„è¿”å›å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">//ç¯ç»•é€šçŸ¥è·å–å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Around</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Object </span><span style="color:#D2A8FF;">around</span><span style="color:#C9D1D9;">(ProceedingJoinPoint jpj){</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">Object</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">args</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> jpj.</span><span style="color:#D2A8FF;">getArgs</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">target</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> jpj.</span><span style="color:#D2A8FF;">getTarget</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    MethodSignature</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">signature</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (MethodSignature) jpj.</span><span style="color:#D2A8FF;">getSignature</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ClassName</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> signature.</span><span style="color:#D2A8FF;">getDeclaringTypeName</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(Arrays.</span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">(args)</span><span style="color:#FF7B72;">+</span><span style="color:#A5D6FF;">&quot;==&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">ClassName</span><span style="color:#FF7B72;">+</span><span style="color:#A5D6FF;">&quot;  &quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">target);</span></span>
<span class="line"><span style="color:#C9D1D9;">    Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ret</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">try</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">        ret </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> jpj.</span><span style="color:#D2A8FF;">proceed</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//ç›®æ ‡æ–¹æ³•æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;è¿”å›å€¼ï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">ret);</span></span>
<span class="line"><span style="color:#C9D1D9;">    } </span><span style="color:#FF7B72;">catch</span><span style="color:#C9D1D9;"> (Throwable </span><span style="color:#FFA657;">throwable</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        throwable.</span><span style="color:#D2A8FF;">printStackTrace</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;é”™è¯¯ä¿¡æ¯ï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">throwable);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> ret;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_1-7-aopåº”ç”¨æ¡ˆä¾‹" tabindex="-1">1.7 AOPåº”ç”¨æ¡ˆä¾‹ <a class="header-anchor" href="#_1-7-aopåº”ç”¨æ¡ˆä¾‹" aria-hidden="true">#</a></h3><h4 id="_1-7-1-éœ€æ±‚" tabindex="-1">1.7.1 éœ€æ±‚ <a class="header-anchor" href="#_1-7-1-éœ€æ±‚" aria-hidden="true">#</a></h4><p>ç°æœ‰AIæ ¸å¿ƒåŠŸèƒ½ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">AIController</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//AIè‡ªåŠ¨å›ç­”</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getAnswer</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">question</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//AIæ ¸å¿ƒä»£ç  ä»·å€¼10ä¸ªäº¿</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">str</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> question.</span><span style="color:#D2A8FF;">replace</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å—&quot;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&quot;&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        str </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> str.</span><span style="color:#D2A8FF;">replace</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ï¼Ÿ&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;!&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> str;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//AIç®—å‘½</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">fortuneTelling</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//AIç®—å‘½æ ¸å¿ƒä»£ç </span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">String</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">strs</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#A5D6FF;">&quot;å¥³çŠ¯ä¼¤å®˜æŠŠå¤«å…‹ï¼Œæ—±åœ°è²èŠ±æ ½ä¸æ´»ï¼Œä¸æ˜¯åƒä¸Šä¸¤å®¶é¥­ï¼Œä¹Ÿè¦åˆ·ä¸Šä¸‰å®¶é”…ã€‚&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;ä¸€æœµé²œèŠ±å¤´ä¸Šæˆ´ï¼Œä¸€å¹´å››å­£ä¹Ÿä¸å¼€ï¼Œä¸€å¿ƒæƒ³è¦èŠ±å¼€æ—¶ï¼Œé‡‡èŠ±ä¹‹äººæ²¡åˆ°æ¥ã€‚&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;æ­¤å‘½ç”Ÿæ¥è„¾æ°”æš´ï¼Œä¸Šæ¥ä¸€é˜µåŒè„šè·³ï¼Œå¯¹ä½ è„¾æ°”å•¥éƒ½å¥½ï¼Œç»å¸¸ä¸äººåµå’Œé—¹ã€‚&quot;</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">index</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name.</span><span style="color:#D2A8FF;">hashCode</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">%</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> strs[index];</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>â€‹ ç°åœ¨ä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œè¦æ±‚è°ƒç”¨æ–¹æ³•æ—¶fortuneTellingä¼ å…¥çš„å§“åæ˜¯ç»è¿‡åŠ å¯†çš„ã€‚æˆ‘ä»¬éœ€è¦å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œè§£å¯†åæ‰èƒ½ä½¿ç”¨ã€‚å¹¶ä¸”è¦å¯¹è¯¥æ–¹æ³•çš„è¿”å›å€¼è¿›è¡ŒåŠ å¯†åè¿”å›ã€‚</p><p>â€‹ <strong>PSï¼šåæœŸä¹Ÿå¯èƒ½è®©å…¶ä»–æ–¹æ³•è¿›è¡Œç›¸åº”çš„åŠ å¯†å¤„ç†ã€‚</strong></p><p>å­—ç¬¦ä¸²åŠ å¯†è§£å¯†ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„å·¥å…·ç±»å³å¯ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> javax.crypto.Cipher;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> javax.crypto.KeyGenerator;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> javax.crypto.SecretKey;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> javax.crypto.spec.SecretKeySpec;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.security.SecureRandom;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">CryptUtil</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">AES</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;AES&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">keysizeAES</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">128</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">charset</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;utf-8&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">parseByte2HexStr</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">byte</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">buf</span><span style="color:#C9D1D9;">[]) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> StringBuffer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sb</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">StringBuffer</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">for</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">i</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">; i </span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;"> buf.length; i</span><span style="color:#FF7B72;">++</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">            String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">hex</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Integer.</span><span style="color:#D2A8FF;">toHexString</span><span style="color:#C9D1D9;">(buf[i] </span><span style="color:#FF7B72;">&amp;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0xFF</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (hex.</span><span style="color:#D2A8FF;">length</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">==</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">                hex </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;0&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> hex;</span></span>
<span class="line"><span style="color:#C9D1D9;">            }</span></span>
<span class="line"><span style="color:#C9D1D9;">            sb.</span><span style="color:#D2A8FF;">append</span><span style="color:#C9D1D9;">(hex.</span><span style="color:#D2A8FF;">toUpperCase</span><span style="color:#C9D1D9;">());</span></span>
<span class="line"><span style="color:#C9D1D9;">        }</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> sb.</span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">byte</span><span style="color:#C9D1D9;">[] </span><span style="color:#D2A8FF;">parseHexStr2Byte</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> String </span><span style="color:#FFA657;">hexStr</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (hexStr.</span><span style="color:#D2A8FF;">length</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">byte</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">result</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">byte</span><span style="color:#C9D1D9;">[hexStr.</span><span style="color:#D2A8FF;">length</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">/</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">];</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">for</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">i</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">;i</span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;"> hexStr.</span><span style="color:#D2A8FF;">length</span><span style="color:#C9D1D9;">()</span><span style="color:#FF7B72;">/</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">; i</span><span style="color:#FF7B72;">++</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">high</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Integer.</span><span style="color:#D2A8FF;">parseInt</span><span style="color:#C9D1D9;">(hexStr.</span><span style="color:#D2A8FF;">substring</span><span style="color:#C9D1D9;">(i </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">, i </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">), </span><span style="color:#79C0FF;">16</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">low</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Integer.</span><span style="color:#D2A8FF;">parseInt</span><span style="color:#C9D1D9;">(hexStr.</span><span style="color:#D2A8FF;">substring</span><span style="color:#C9D1D9;">(i </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">, i </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">), </span><span style="color:#79C0FF;">16</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">            result[i] </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (</span><span style="color:#FF7B72;">byte</span><span style="color:#C9D1D9;">) (high </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">16</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> low);</span></span>
<span class="line"><span style="color:#C9D1D9;">        }</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> result;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">keyGeneratorES</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> String </span><span style="color:#FFA657;">res</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> String </span><span style="color:#FFA657;">algorithm</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> String </span><span style="color:#FFA657;">key</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> Integer </span><span style="color:#FFA657;">keysize</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> Boolean </span><span style="color:#FFA657;">bEncode</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">try</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> KeyGenerator</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">g</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> KeyGenerator.</span><span style="color:#D2A8FF;">getInstance</span><span style="color:#C9D1D9;">(algorithm);</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (keysize </span><span style="color:#FF7B72;">==</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">byte</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">keyBytes</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> charset </span><span style="color:#FF7B72;">==</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">?</span><span style="color:#C9D1D9;"> key.</span><span style="color:#D2A8FF;">getBytes</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">:</span><span style="color:#C9D1D9;"> key.</span><span style="color:#D2A8FF;">getBytes</span><span style="color:#C9D1D9;">(charset);</span></span>
<span class="line"><span style="color:#C9D1D9;">                g.</span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">SecureRandom</span><span style="color:#C9D1D9;">(keyBytes));</span></span>
<span class="line"><span style="color:#C9D1D9;">            } </span><span style="color:#FF7B72;">else</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (key </span><span style="color:#FF7B72;">==</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">                g.</span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(keysize);</span></span>
<span class="line"><span style="color:#C9D1D9;">            } </span><span style="color:#FF7B72;">else</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">byte</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">keyBytes</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> charset </span><span style="color:#FF7B72;">==</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">?</span><span style="color:#C9D1D9;"> key.</span><span style="color:#D2A8FF;">getBytes</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">:</span><span style="color:#C9D1D9;"> key.</span><span style="color:#D2A8FF;">getBytes</span><span style="color:#C9D1D9;">(charset);</span></span>
<span class="line"><span style="color:#C9D1D9;">                SecureRandom</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">random</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> SecureRandom.</span><span style="color:#D2A8FF;">getInstance</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;SHA1PRNG&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">                random.</span><span style="color:#D2A8FF;">setSeed</span><span style="color:#C9D1D9;">(keyBytes);</span></span>
<span class="line"><span style="color:#C9D1D9;">                g.</span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(keysize, random);</span></span>
<span class="line"><span style="color:#C9D1D9;">            }</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> SecretKey</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sk</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> g.</span><span style="color:#D2A8FF;">generateKey</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> SecretKeySpec</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sks</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">SecretKeySpec</span><span style="color:#C9D1D9;">(sk.</span><span style="color:#D2A8FF;">getEncoded</span><span style="color:#C9D1D9;">(), algorithm);</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> Cipher</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">cipher</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Cipher.</span><span style="color:#D2A8FF;">getInstance</span><span style="color:#C9D1D9;">(algorithm);</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;"> (bEncode) {</span></span>
<span class="line"><span style="color:#C9D1D9;">                cipher.</span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(Cipher.ENCRYPT_MODE, sks);</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">byte</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">resBytes</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> charset </span><span style="color:#FF7B72;">==</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#FF7B72;">?</span><span style="color:#C9D1D9;"> res.</span><span style="color:#D2A8FF;">getBytes</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">:</span><span style="color:#C9D1D9;"> res.</span><span style="color:#D2A8FF;">getBytes</span><span style="color:#C9D1D9;">(charset);</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">parseByte2HexStr</span><span style="color:#C9D1D9;">(cipher.</span><span style="color:#D2A8FF;">doFinal</span><span style="color:#C9D1D9;">(resBytes));</span></span>
<span class="line"><span style="color:#C9D1D9;">            } </span><span style="color:#FF7B72;">else</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">                cipher.</span><span style="color:#D2A8FF;">init</span><span style="color:#C9D1D9;">(Cipher.DECRYPT_MODE, sks);</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">String</span><span style="color:#C9D1D9;">(cipher.</span><span style="color:#D2A8FF;">doFinal</span><span style="color:#C9D1D9;">(</span><span style="color:#D2A8FF;">parseHexStr2Byte</span><span style="color:#C9D1D9;">(res)));</span></span>
<span class="line"><span style="color:#C9D1D9;">            }</span></span>
<span class="line"><span style="color:#C9D1D9;">        } </span><span style="color:#FF7B72;">catch</span><span style="color:#C9D1D9;"> (Exception </span><span style="color:#FFA657;">e</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">            e.</span><span style="color:#D2A8FF;">printStackTrace</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        }</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">AESencode</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> String </span><span style="color:#FFA657;">res</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">keyGeneratorES</span><span style="color:#C9D1D9;">(res, AES, </span><span style="color:#A5D6FF;">&quot;aA11*-%&quot;</span><span style="color:#C9D1D9;">, keysizeAES, </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">AESdecode</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">final</span><span style="color:#C9D1D9;"> String </span><span style="color:#FFA657;">res</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">keyGeneratorES</span><span style="color:#C9D1D9;">(res, AES, </span><span style="color:#A5D6FF;">&quot;aA11*-%&quot;</span><span style="color:#C9D1D9;">, keysizeAES, </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] </span><span style="color:#FFA657;">args</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;åŠ å¯†å:&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">AESencode</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å°†è¦åŠ å¯†çš„æ˜æ–‡&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">        );</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;è§£å¯†å:&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">AESdecode</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;730CAE52D85B372FB161B39D0A908B8CC6EF6DA2F7D4E595D35402134C3E18AB&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">        );</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><h4 id="_1-7-2-å®ç°" tabindex="-1">1.7.2 å®ç° <a class="header-anchor" href="#_1-7-2-å®ç°" aria-hidden="true">#</a></h4><h5 id="å¯¼å…¥ä¾èµ–-2" tabindex="-1">å¯¼å…¥ä¾èµ– <a class="header-anchor" href="#å¯¼å…¥ä¾èµ–-2" aria-hidden="true">#</a></h5><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--SpringIOCç›¸å…³ä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.springframework&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;spring-context&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.9.RELEASE&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--AOPç›¸å…³ä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.aspectj&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;aspectjweaver&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.8.13&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_1-7-2-å®ç°-1" tabindex="-1">1.7.2 å®ç° <a class="header-anchor" href="#_1-7-2-å®ç°-1" aria-hidden="true">#</a></h4><h5 id="å¯¼å…¥ä¾èµ–-3" tabindex="-1">å¯¼å…¥ä¾èµ– <a class="header-anchor" href="#å¯¼å…¥ä¾èµ–-3" aria-hidden="true">#</a></h5><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--SpringIOCç›¸å…³ä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.springframework&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;spring-context&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.9.RELEASE&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--AOPç›¸å…³ä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.aspectj&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;aspectjweaver&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.8.13&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.projectlombok&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;lombok&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.18.16&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h5 id="_2å¼€å¯aopæ³¨è§£æ”¯æŒ" tabindex="-1">â‘¡å¼€å¯AOPæ³¨è§£æ”¯æŒ <a class="header-anchor" href="#_2å¼€å¯aopæ³¨è§£æ”¯æŒ" aria-hidden="true">#</a></h5><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;">?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">xmlns</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:xsi</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:context</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:aop</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/aop&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xsi:schemaLocation</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--é…ç½®ç»„ä»¶æ‰«æ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">base-package</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å¯åŠ¨AOPæ³¨è§£æ”¯æŒ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">aop:aspectj-autoproxy</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:aspectj-autoproxy</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="_3è‡ªå®šä¹‰æ³¨è§£" tabindex="-1">â‘¢è‡ªå®šä¹‰æ³¨è§£ <a class="header-anchor" href="#_3è‡ªå®šä¹‰æ³¨è§£" aria-hidden="true">#</a></h5><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">package</span><span style="color:#C9D1D9;"> com.dunxi.aspect;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.lang.annotation.ElementType;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.lang.annotation.Retention;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.lang.annotation.RetentionPolicy;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.lang.annotation.Target;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Target</span><span style="color:#C9D1D9;">(ElementType.METHOD)</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Retention</span><span style="color:#C9D1D9;">(RetentionPolicy.RUNTIME)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> @</span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">Crypt</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="_4åœ¨ç›®æ ‡æ–¹æ³•ä¸Šå¢åŠ æ³¨è§£" tabindex="-1">â‘£åœ¨ç›®æ ‡æ–¹æ³•ä¸Šå¢åŠ æ³¨è§£ <a class="header-anchor" href="#_4åœ¨ç›®æ ‡æ–¹æ³•ä¸Šå¢åŠ æ³¨è§£" aria-hidden="true">#</a></h5><p><strong>æ³¨æ„ï¼šç›®æ ‡å¯¹è±¡ä¸€å®šè¦è®°å¾—æ³¨å…¥Springå®¹å™¨ä¸­</strong></p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">AIController</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//AIè‡ªåŠ¨å›ç­”</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Crypt</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getAnswer</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">question</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//AIæ ¸å¿ƒä»£ç  ä»·å€¼10ä¸ªäº¿</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">str</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> question.</span><span style="color:#D2A8FF;">replace</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å—&quot;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&quot;&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        str </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> str.</span><span style="color:#D2A8FF;">replace</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ï¼Ÿ&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;!&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> str;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//AIç®—å‘½</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Crypt</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">fortuneTelling</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//AIç®—å‘½æ ¸å¿ƒä»£ç </span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">String</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">strs</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> {</span><span style="color:#A5D6FF;">&quot;å¥³çŠ¯ä¼¤å®˜æŠŠå¤«å…‹ï¼Œæ—±åœ°è²èŠ±æ ½ä¸æ´»ï¼Œä¸æ˜¯åƒä¸Šä¸¤å®¶é¥­ï¼Œä¹Ÿè¦åˆ·ä¸Šä¸‰å®¶é”…ã€‚&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;ä¸€æœµé²œèŠ±å¤´ä¸Šæˆ´ï¼Œä¸€å¹´å››å­£ä¹Ÿä¸å¼€ï¼Œä¸€å¿ƒæƒ³è¦èŠ±å¼€æ—¶ï¼Œé‡‡èŠ±ä¹‹äººæ²¡åˆ°æ¥ã€‚&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;æ­¤å‘½ç”Ÿæ¥è„¾æ°”æš´ï¼Œä¸Šæ¥ä¸€é˜µåŒè„šè·³ï¼Œå¯¹ä½ è„¾æ°”å•¥éƒ½å¥½ï¼Œç»å¸¸ä¸äººåµå’Œé—¹ã€‚&quot;</span><span style="color:#C9D1D9;">};</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">index</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name.</span><span style="color:#D2A8FF;">hashCode</span><span style="color:#C9D1D9;">() </span><span style="color:#FF7B72;">%</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> strs[index];</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="_5å®šä¹‰åˆ‡é¢ç±»" tabindex="-1">â‘¤å®šä¹‰åˆ‡é¢ç±» <a class="header-anchor" href="#_5å®šä¹‰åˆ‡é¢ç±»" aria-hidden="true">#</a></h5><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">package</span><span style="color:#C9D1D9;"> com.dunxi.aspect;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> com.dunxi.util.CryptUtil;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.ProceedingJoinPoint;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.annotation.Around;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.annotation.Aspect;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.annotation.Pointcut;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.springframework.stereotype.Component;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Aspect</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">CryptAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//ç¡®å®šåˆ‡ç‚¹</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Pointcut</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;@annotation(com.dunxi.aspect.Crypt)&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">pt</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//å®šä¹‰é€šçŸ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Around</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;pt()&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Object </span><span style="color:#D2A8FF;">crypt</span><span style="color:#C9D1D9;">(ProceedingJoinPoint </span><span style="color:#FFA657;">pjp</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–ç›®æ ‡æ–¹æ³•è°ƒç”¨æ—¶çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">Object</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">args</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> pjp.</span><span style="color:#D2A8FF;">getArgs</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å¯¹å‚æ•°è¿›è¡Œè§£å¯† è§£å¯†åä¼ å…¥ç›®æ ‡æ–¹æ³•æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">arg</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (String) args[</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">];</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">s</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> CryptUtil.</span><span style="color:#D2A8FF;">AESdecode</span><span style="color:#C9D1D9;">(arg);</span><span style="color:#8B949E;">//è§£å¯†</span></span>
<span class="line"><span style="color:#C9D1D9;">        args[</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">] </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> s;</span></span>
<span class="line"><span style="color:#C9D1D9;">        Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">proceed</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ret</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">try</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">            proceed </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> pjp.</span><span style="color:#D2A8FF;">proceed</span><span style="color:#C9D1D9;">(args);</span><span style="color:#8B949E;">//ç›®æ ‡æ–¹æ³•è°ƒç”¨</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">//ç›®æ ‡æ–¹æ³•æ‰§è¡Œåéœ€è¦è·å–åˆ°è¿”å›å€¼</span></span>
<span class="line"><span style="color:#C9D1D9;">            ret </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (String) proceed;</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">//å¯¹è¿”å›å€¼åŠ å¯†åè¿›è¡ŒçœŸæ­£çš„è¿”å›</span></span>
<span class="line"><span style="color:#C9D1D9;">            ret </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> CryptUtil.</span><span style="color:#D2A8FF;">AESencode</span><span style="color:#C9D1D9;">(ret);</span></span>
<span class="line"><span style="color:#C9D1D9;">        } </span><span style="color:#FF7B72;">catch</span><span style="color:#C9D1D9;"> (Throwable </span><span style="color:#FFA657;">throwable</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">            throwable.</span><span style="color:#D2A8FF;">printStackTrace</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        }</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> ret;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="_1-8xmlé…ç½®aop" tabindex="-1">1.8xmlé…ç½®AOP <a class="header-anchor" href="#_1-8xmlé…ç½®aop" aria-hidden="true">#</a></h3><h4 id="å®šä¹‰åˆ‡é¢ç±»" tabindex="-1">å®šä¹‰åˆ‡é¢ç±» <a class="header-anchor" href="#å®šä¹‰åˆ‡é¢ç±»" aria-hidden="true">#</a></h4><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">package</span><span style="color:#C9D1D9;"> com.dunxi.aspect;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.JoinPoint;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.ProceedingJoinPoint;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.Signature;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.annotation.</span><span style="color:#79C0FF;">*</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.reflect.MethodSignature;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.springframework.stereotype.Component;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.util.Arrays;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">MyAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//          å¯¹serviceåŒ…ä¸‹çš„æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼º</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Pointcut</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;execution(* com.dunxi.service..*.*(..))&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#8B949E;">//    @Pointcut(&quot;@annotation(com.dunxi.aspect.InvokeLog)&quot;)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">pt</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">//    @Before(&quot;pt()&quot;)//æ‹¬å·é‡Œé¢è¡¨ç¤ºè°ƒç”¨å“ªä¸ªåˆ‡ç‚¹è¡¨è¾¾å¼</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">methodbefore</span><span style="color:#C9D1D9;">(JoinPoint </span><span style="color:#FFA657;">joinPoint</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">Object</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">args</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> joinPoint.</span><span style="color:#D2A8FF;">getArgs</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//æ–¹æ³•è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">        Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">target</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> joinPoint.</span><span style="color:#D2A8FF;">getTarget</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//è¢«ä»£ç†çš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        MethodSignature</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">signature</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (MethodSignature) joinPoint.</span><span style="color:#D2A8FF;">getSignature</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºæ–¹æ³•ç­¾åå°è£…çš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ–¹æ³•è¢«è°ƒç”¨äº†ã€‚&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#8B949E;">//    @Before(&quot;pt()&quot;)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">before</span><span style="color:#C9D1D9;">(JoinPoint </span><span style="color:#FFA657;">joinPoint</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;before&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#8B949E;">//    @AfterReturning(value = &quot;pt()&quot;,returning = &quot;ret&quot;)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">afterReturning</span><span style="color:#C9D1D9;">(JoinPoint </span><span style="color:#FFA657;">joinPoint</span><span style="color:#C9D1D9;"> ,Object </span><span style="color:#FFA657;">ret</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;AfterReturning&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">ret);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#8B949E;">//    @After(&quot;pt()&quot;)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">after</span><span style="color:#C9D1D9;">(JoinPoint </span><span style="color:#FFA657;">joinPoint</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;after&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#8B949E;">//    @AfterThrowing(value = &quot;pt()&quot;,throwing = &quot;e&quot;)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">afterThrowing</span><span style="color:#C9D1D9;">(JoinPoint </span><span style="color:#FFA657;">joinPoint</span><span style="color:#C9D1D9;"> ,Throwable </span><span style="color:#FFA657;">e</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;afterThrowing&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#8B949E;">//    @Around(&quot;pt()&quot;)</span></span>
<span class="line"><span style="color:#8B949E;">//    public void around(ProceedingJoinPoint pjp ){</span></span>
<span class="line"><span style="color:#8B949E;">//        System.out.println(&quot;ç›®æ ‡æ–¹æ³•å‰ï¼Œå‰ç½®é€šçŸ¥&quot;);</span></span>
<span class="line"><span style="color:#8B949E;">//        try {</span></span>
<span class="line"><span style="color:#8B949E;">//            pjp.proceed();</span></span>
<span class="line"><span style="color:#8B949E;">//            System.out.println(&quot;ç›®æ ‡æ–¹æ³•åï¼Œåç½®é€šçŸ¥&quot;);</span></span>
<span class="line"><span style="color:#8B949E;">//        } catch (Throwable throwable) {</span></span>
<span class="line"><span style="color:#8B949E;">//            throwable.printStackTrace();</span></span>
<span class="line"><span style="color:#8B949E;">//            System.out.println(&quot;ç›®æ ‡æ–¹æ³•å‡ºç°å¼‚å¸¸åé€šçŸ¥&quot;);</span></span>
<span class="line"><span style="color:#8B949E;">//        }finally {</span></span>
<span class="line"><span style="color:#8B949E;">//            System.out.println(&quot;ä¸ç®¡æ€æ ·ï¼Œå°±æ˜¯è¦é€šçŸ¥&quot;);</span></span>
<span class="line"><span style="color:#8B949E;">//        }</span></span>
<span class="line"><span style="color:#8B949E;">//    }</span></span>
<span class="line"><span style="color:#8B949E;">//ç¯ç»•é€šçŸ¥è·å–å‚æ•°</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Object </span><span style="color:#D2A8FF;">around</span><span style="color:#C9D1D9;">(ProceedingJoinPoint </span><span style="color:#FFA657;">jpj</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">Object</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">args</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> jpj.</span><span style="color:#D2A8FF;">getArgs</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">target</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> jpj.</span><span style="color:#D2A8FF;">getTarget</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    MethodSignature</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">signature</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (MethodSignature) jpj.</span><span style="color:#D2A8FF;">getSignature</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ClassName</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> signature.</span><span style="color:#D2A8FF;">getDeclaringTypeName</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(Arrays.</span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">(args)</span><span style="color:#FF7B72;">+</span><span style="color:#A5D6FF;">&quot;==&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">ClassName</span><span style="color:#FF7B72;">+</span><span style="color:#A5D6FF;">&quot;  &quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">target);</span></span>
<span class="line"><span style="color:#C9D1D9;">    Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ret</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">null</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">try</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">        ret </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> jpj.</span><span style="color:#D2A8FF;">proceed</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//ç›®æ ‡æ–¹æ³•æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;è¿”å›å€¼ï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">ret);</span></span>
<span class="line"><span style="color:#C9D1D9;">    } </span><span style="color:#FF7B72;">catch</span><span style="color:#C9D1D9;"> (Throwable </span><span style="color:#FFA657;">throwable</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        throwable.</span><span style="color:#D2A8FF;">printStackTrace</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;é”™è¯¯ä¿¡æ¯ï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">throwable);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> ret;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">package</span><span style="color:#C9D1D9;"> com.dunxi.aspect;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.JoinPoint;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.Signature;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.annotation.Aspect;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.annotation.Before;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.annotation.Pointcut;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.aspectj.lang.reflect.MethodSignature;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.springframework.stereotype.Component;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.lang.reflect.Array;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> java.util.Arrays;</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">PointLogAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//å¯¹å“ªäº›æ–¹æ³•è¿›è¡Œå¢å¼º</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Pointcut</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;execution(* com.dunxi.service..*.*(..))&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">pt</span><span style="color:#C9D1D9;">(){}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">//    æ€ä¹ˆå¢å¼º</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">printLog</span><span style="color:#C9D1D9;">(JoinPoint </span><span style="color:#FFA657;">joinPoint</span><span style="color:#C9D1D9;">){</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è¾“å‡ºè¢«å¢å¼ºçš„æ–¹æ³•çš„æ‰€åœ¨ç±»å æ–¹æ³•å è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">        MethodSignature</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">signature</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (MethodSignature) joinPoint.</span><span style="color:#D2A8FF;">getSignature</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºæ–¹æ³•çš„å…¨ç±»å</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ClassName</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> signature.</span><span style="color:#D2A8FF;">getDeclaringTypeName</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºæ–¹æ³•çš„æ–¹æ³•å</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> signature.</span><span style="color:#D2A8FF;">getName</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–è¢«å¢å¼ºé˜²èŒƒè°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">Object</span><span style="color:#FFA657;">[] </span><span style="color:#C9D1D9;">args</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> joinPoint.</span><span style="color:#D2A8FF;">getArgs</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(ClassName</span><span style="color:#FF7B72;">+</span><span style="color:#A5D6FF;">&quot;===&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">name</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> Arrays.</span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">(args));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ–¹æ³•è¢«è°ƒç”¨äº†&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="_2ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»æ³¨å…¥å®¹å™¨" tabindex="-1">â‘¡ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»æ³¨å…¥å®¹å™¨ <a class="header-anchor" href="#_2ç›®æ ‡ç±»å’Œåˆ‡é¢ç±»æ³¨å…¥å®¹å™¨" aria-hidden="true">#</a></h4><p>åœ¨åˆ‡é¢ç±»å’Œç›®æ ‡ç±»ä¸ŠåŠ ä¸Šå¯¹åº”çš„æ³¨è§£ã€‚æ³¨å…¥å¦‚æœæ˜¯ä½¿ç”¨æ³¨è§£çš„æ–¹å¼æ³¨å…¥å®¹å™¨è¦è®°å¾—å¼€å¯ç»„ä»¶æ‰«æã€‚</p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨xmlä¸­ä½¿ç”¨beanæ ‡ç­¾çš„æ–¹å¼æ³¨å…¥å®¹å™¨ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">MyAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//çœç•¥æ— å…³ä»£ç </span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//çœç•¥æ— å…³ä»£ç </span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_3é…ç½®aop" tabindex="-1">â‘¢é…ç½®AOP <a class="header-anchor" href="#_3é…ç½®aop" aria-hidden="true">#</a></h4><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;">?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">xmlns</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:xsi</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:context</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xmlns:aop</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/aop&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">       </span><span style="color:#79C0FF;">xsi:schemaLocation</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å¼€å¯ç»„ä»¶æ‰«æ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">base-package</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:component-scan</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--é…ç½®AOP--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">aop:config</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--å®šä¹‰åˆ‡ç‚¹--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">aop:pointcut</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;pt1&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">expression</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;execution(* com.dunxi.service..*.*(..))&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:pointcut</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">aop:pointcut</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;pt2&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">expression</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;@annotation(com.dunxi.aspect.InvokeLog)&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:pointcut</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--é…ç½®åˆ‡é¢--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">aop:aspect</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;myAspect&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">&lt;!--&lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:before&gt;--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">&lt;!--&lt;aop:after method=&quot;after&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:after&gt;--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">&lt;!--&lt;aop:after-returning method=&quot;afterReturning&quot; pointcut-ref=&quot;pt1&quot; returning=&quot;ret&quot;&gt;&lt;/aop:after-returning&gt;--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">aop:after-throwing</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">method</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;afterThrowing&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">pointcut-ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;pt2&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">throwing</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;e&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:after-throwing</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">aop:aspect</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">aop:config</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">beans</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_1-9-å¤šåˆ‡é¢é¡ºåºé—®é¢˜" tabindex="-1">1.9 å¤šåˆ‡é¢é¡ºåºé—®é¢˜ <a class="header-anchor" href="#_1-9-å¤šåˆ‡é¢é¡ºåºé—®é¢˜" aria-hidden="true">#</a></h3><p>â€‹ åœ¨å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬å¯èƒ½ä¼šå­˜åœ¨é…ç½®äº†å¤šä¸ªåˆ‡é¢çš„æƒ…å†µã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¾ˆå¯èƒ½éœ€è¦æ§åˆ¶åˆ‡é¢çš„é¡ºåºã€‚</p><p>â€‹ æˆ‘ä»¬åœ¨é»˜è®¤æƒ…å†µä¸‹Springæœ‰å®ƒè‡ªå·±çš„æ’åºè§„åˆ™ã€‚ï¼ˆæŒ‰ç…§ç±»åæ’åºï¼‰</p><p>â€‹ é»˜è®¤æ’åºè§„åˆ™å¾€å¾€ä¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œç‰¹æ®Šæ§åˆ¶ã€‚</p><p>â€‹ å¦‚æœæ˜¯æ³¨è§£æ–¹å¼é…ç½®çš„AOPå¯ä»¥å†åˆ‡é¢ç±»ä¸ŠåŠ **@Orderæ³¨è§£<strong>æ¥æ§åˆ¶é¡ºåºã€‚</strong>@Orderä¸­çš„å±æ€§è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜**ã€‚</p><p>â€‹ å¦‚æœæ˜¯XMLæ–¹å¼é…ç½®çš„AOPï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´<strong>é…ç½®é¡ºåº</strong>æ¥æ§åˆ¶ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>ä¸‹é¢è¿™ç§é…ç½®æ–¹å¼å°±ä¼šå…ˆä½¿ç”¨CryptAspecté‡Œé¢çš„å¢å¼ºï¼Œå†ä½¿ç”¨APrintLogAspecté‡Œçš„å¢å¼º</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Aspect</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Order</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">APrintLogAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//çœç•¥æ— å…³ä»£ç </span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Component</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Aspect</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Order</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">)</span><span style="color:#8B949E;">//è¿™ä¸ªå€¼æ¯”è¾ƒå°ï¼Œæ‰€ä»¥ä¼˜å…ˆæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">CryptAspect</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//çœç•¥æ— å…³ä»£ç </span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_1-10-aopåŸç†-åŠ¨æ€ä»£ç†" tabindex="-1">1.10 AOPåŸç†-åŠ¨æ€ä»£ç† <a class="header-anchor" href="#_1-10-aopåŸç†-åŠ¨æ€ä»£ç†" aria-hidden="true">#</a></h3><p>â€‹ å®é™…ä¸ŠSpringçš„AOPå…¶å®åº•å±‚å°±æ˜¯ä½¿ç”¨åŠ¨æ€ä»£ç†æ¥å®Œæˆçš„ã€‚å¹¶ä¸”ä½¿ç”¨äº†ä¸¤ç§åŠ¨æ€ä»£ç†åˆ†åˆ«æ˜¯JDKçš„åŠ¨æ€ä»£ç†å’ŒCglibåŠ¨æ€ä»£ç†ã€‚</p><p>â€‹ æ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹å»æ¥å­¦ä¹ è¿™ä¸¤ç§åŠ¨æ€ä»£ç†ï¼Œç†è§£ä¸‹ä»–ä»¬çš„ä¸åŒç‚¹ã€‚</p><h4 id="_1-10-1-jdkåŠ¨æ€ä»£ç†" tabindex="-1">1.10.1 JDKåŠ¨æ€ä»£ç† <a class="header-anchor" href="#_1-10-1-jdkåŠ¨æ€ä»£ç†" aria-hidden="true">#</a></h4><p>â€‹ JDKçš„åŠ¨æ€ä»£ç†ä½¿ç”¨çš„java.lang.reflect.Proxyè¿™ä¸ªç±»æ¥è¿›è¡Œå®ç°çš„ã€‚è¦æ±‚è¢«ä»£ç†ï¼ˆè¢«å¢å¼ºï¼‰çš„ç±»éœ€è¦å®ç°äº†æ¥å£ã€‚å¹¶ä¸”JDKåŠ¨æ€ä»£ç†ä¹Ÿåªèƒ½å¯¹æ¥å£ä¸­çš„æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] args) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        AIControllerImpl</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">aiController</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">AIControllerImpl</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#8B949E;">//        String answer = aiController.getAnswer(&quot;ä¸‰è¿äº†å—ï¼Ÿ&quot;);</span></span>
<span class="line"><span style="color:#8B949E;">//        System.out.println(answer);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//ä½¿ç”¨åŠ¨æ€ä»£ç†å¢å¼ºgetAnsweræ–¹æ³•</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//1.JDKåŠ¨æ€ä»£ç†</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–ç±»åŠ è½½å™¨</span></span>
<span class="line"><span style="color:#C9D1D9;">        ClassLoader</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">classLoader</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Demo.class.</span><span style="color:#D2A8FF;">getClassLoader</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è¢«ä»£ç†ç±»æ‰€å®ç°æ¥å£çš„å­—èŠ‚ç å¯¹è±¡æ•°ç»„</span></span>
<span class="line"><span style="color:#C9D1D9;">        Class</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">?</span><span style="color:#FFA657;">&gt;[] </span><span style="color:#C9D1D9;">interfaces</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> AIControllerImpl.class.</span><span style="color:#D2A8FF;">getInterfaces</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        AIController</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">proxy</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (AIController) Proxy.</span><span style="color:#D2A8FF;">newProxyInstance</span><span style="color:#C9D1D9;">(classLoader, interfaces, </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">InvocationHandler</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">//ä½¿ç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ—¶ ä¼šè°ƒç”¨åˆ°invoke</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Object </span><span style="color:#D2A8FF;">invoke</span><span style="color:#C9D1D9;">(Object </span><span style="color:#FFA657;">proxy</span><span style="color:#C9D1D9;">, Method </span><span style="color:#FFA657;">method</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">Object</span><span style="color:#C9D1D9;">[] </span><span style="color:#FFA657;">args</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">throws</span><span style="color:#C9D1D9;"> Throwable {</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">//proxyæ˜¯ä»£ç†å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">//methodæ˜¯å½“å‰è¢«è°ƒç”¨çš„æ–¹æ³•å°è£…çš„Methodå¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">//argsæ˜¯è°ƒç”¨æ–¹æ³•æ—¶ä¼ å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">//è°ƒç”¨è¢«ä»£ç†å¯¹è±¡çš„å¯¹åº”æ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">//åˆ¤æ–­ å½“å‰è°ƒç”¨çš„æ˜¯å¦æ˜¯getAnsweræ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;">(method.</span><span style="color:#D2A8FF;">getName</span><span style="color:#C9D1D9;">().</span><span style="color:#D2A8FF;">equals</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;getAnswer&quot;</span><span style="color:#C9D1D9;">)){</span></span>
<span class="line"><span style="color:#C9D1D9;">                    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å¢å¼º&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">                }</span></span>
<span class="line"><span style="color:#C9D1D9;">                Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ret</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> method.</span><span style="color:#D2A8FF;">invoke</span><span style="color:#C9D1D9;">(aiController,args);</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> ret;</span></span>
<span class="line"><span style="color:#C9D1D9;">            }</span></span>
<span class="line"><span style="color:#C9D1D9;">        });</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">answer</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> proxy.</span><span style="color:#D2A8FF;">getAnswer</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ä¸‰è¿äº†å—ï¼Ÿ&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(answer);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">s</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> proxy.</span><span style="color:#D2A8FF;">fortuneTelling</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å¼ ä¸‰&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(s);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="_1-10-2-cglibåŠ¨æ€ä»£ç†" tabindex="-1">1.10.2 CglibåŠ¨æ€ä»£ç† <a class="header-anchor" href="#_1-10-2-cglibåŠ¨æ€ä»£ç†" aria-hidden="true">#</a></h4><p>â€‹ ä½¿ç”¨çš„æ˜¯org.springframework.cglib.proxy.Enhancerç±»è¿›è¡Œå®ç°çš„ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">CglibDemo</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] </span><span style="color:#FFA657;">args</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        Enhancer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">enhancer</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Enhancer</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è®¾ç½®çˆ¶ç±»çš„å­—èŠ‚ç å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        enhancer.</span><span style="color:#D2A8FF;">setSuperclass</span><span style="color:#C9D1D9;">(AIControllerImpl.class);</span></span>
<span class="line"><span style="color:#C9D1D9;">        enhancer.</span><span style="color:#D2A8FF;">setCallback</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">MethodInterceptor</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">//ä½¿ç”¨ä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ—¶éƒ½ä¼šè°ƒç”¨åˆ°interceptæ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">            @</span><span style="color:#FF7B72;">Override</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Object </span><span style="color:#D2A8FF;">intercept</span><span style="color:#C9D1D9;">(Object </span><span style="color:#FFA657;">o</span><span style="color:#C9D1D9;">, Method </span><span style="color:#FFA657;">method</span><span style="color:#C9D1D9;">, </span><span style="color:#FF7B72;">Object</span><span style="color:#C9D1D9;">[] </span><span style="color:#FFA657;">objects</span><span style="color:#C9D1D9;">, MethodProxy </span><span style="color:#FFA657;">methodProxy</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">throws</span><span style="color:#C9D1D9;"> Throwable {</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">//åˆ¤æ–­å½“å‰è°ƒç”¨çš„æ–¹æ³•æ˜¯ä¸æ˜¯getAnsweræ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">if</span><span style="color:#C9D1D9;">(method.</span><span style="color:#D2A8FF;">getName</span><span style="color:#C9D1D9;">().</span><span style="color:#D2A8FF;">equals</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;getAnswer&quot;</span><span style="color:#C9D1D9;">)){</span></span>
<span class="line"><span style="color:#C9D1D9;">                    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å¢å¼º&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">                }</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">//è°ƒç”¨çˆ¶ç±»ä¸­å¯¹åº”çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">                Object</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">ret</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> methodProxy.</span><span style="color:#D2A8FF;">invokeSuper</span><span style="color:#C9D1D9;">(o, objects);</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> ret;</span></span>
<span class="line"><span style="color:#C9D1D9;">            }</span></span>
<span class="line"><span style="color:#C9D1D9;">        });</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//ç”Ÿæˆä»£ç†å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        AIController</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">proxy</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> (AIController) enhancer.</span><span style="color:#D2A8FF;">create</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#8B949E;">//        System.out.println(proxy.getAnswer(&quot;ä½ å¥½å—ï¼Ÿ&quot;));</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(proxy.</span><span style="color:#D2A8FF;">fortuneTelling</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;nihaohnai&quot;</span><span style="color:#C9D1D9;">));</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_1-10-3-æ€»ç»“" tabindex="-1">1.10.3 æ€»ç»“ <a class="header-anchor" href="#_1-10-3-æ€»ç»“" aria-hidden="true">#</a></h4><p>â€‹ JDKåŠ¨æ€ä»£ç†è¦æ±‚è¢«ä»£ç†ï¼ˆè¢«å¢å¼ºï¼‰çš„ç±»æ¡ˆå¿…é¡»è¦å®ç°æ¥å£ï¼Œç”Ÿæˆçš„ä»£ç†å¯¹è±¡ç›¸å½“äºæ˜¯è¢«ä»£ç†å¯¹è±¡çš„å…„å¼Ÿã€‚</p><p><img src="https://bed-1309358403.cos.ap-shanghai.myqcloud.com/img/2023/01/08/20230108223938.png" alt="image-20220517154413061"></p><p>Cglibçš„åŠ¨æ€ä»£ç†ä¸è¦æ±‚è¢«ä»£ç†ï¼ˆè¢«å¢å¼ºï¼‰çš„ç±»è¦å®ç°æ¥å£ï¼Œç”Ÿæˆçš„ä»£ç†å¯¹è±¡ç›¸å½“äºè¢«ä»£ç†å¯¹è±¡çš„å­ç±»å¯¹è±¡ã€‚</p><p><img src="https://bed-1309358403.cos.ap-shanghai.myqcloud.com/img/2023/01/08/20230108223952.png" alt="image-20220517154503628"></p><p>â€‹ <strong>Springçš„AOPé»˜è®¤æƒ…å†µä¸‹æœ‰é™ä½¿ç”¨çš„æ˜¯JDKçš„åŠ¨æ€ä»£ç†ï¼Œå¦‚æœä½¿ç”¨ä¸äº†JDKçš„åŠ¨æ€ä»£ç†æ‰ä¼šä½¿ç”¨Cglibçš„åŠ¨æ€ä»£ç†ã€‚</strong></p><h3 id="_1-11-åˆ‡æ¢é»˜è®¤åŠ¨æ€ä»£ç†æ–¹å¼" tabindex="-1">1.11 åˆ‡æ¢é»˜è®¤åŠ¨æ€ä»£ç†æ–¹å¼ <a class="header-anchor" href="#_1-11-åˆ‡æ¢é»˜è®¤åŠ¨æ€ä»£ç†æ–¹å¼" aria-hidden="true">#</a></h3><p>â€‹ æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦ä¿®æ”¹AOPçš„ä»£ç†æ–¹å¼ã€‚</p><p>â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¿®æ”¹ï¼š</p><p>å¦‚æœæˆ‘ä»¬æ˜¯é‡‡ç”¨æ³¨è§£æ–¹å¼é…ç½®AOPçš„è¯ï¼š</p><p>è®¾ç½®aop:aspectj-autoproxyæ ‡ç­¾çš„proxy-target-classå±æ€§ä¸ºtrueï¼Œä»£ç†æ–¹å¼å°±ä¼šä¿®æ”¹æˆCglib</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">aop:aspectj-autoproxy</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">proxy-target-class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;true&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:aspectj-autoproxy</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¦‚æœæˆ‘ä»¬æ˜¯é‡‡ç”¨xmlæ–¹å¼é…ç½®çš„è¯ï¼š</p><p>è®¾ç½®aop:configæ ‡ç­¾çš„proxy-target-classå±æ€§ä¸ºtrueï¼Œä»£ç†æ–¹å¼å°±ä¼šä¿®æ”¹æˆCglib</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">aop:config</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">proxy-target-class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;true&quot;</span><span style="color:#C9D1D9;">&gt;    &lt;/</span><span style="color:#7EE787;">aop:config</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="spring-04" tabindex="-1">Spring-04 <a class="header-anchor" href="#spring-04" aria-hidden="true">#</a></h2><h3 id="_1-springæ•´åˆjunit" tabindex="-1">1.Springæ•´åˆJunit <a class="header-anchor" href="#_1-springæ•´åˆjunit" aria-hidden="true">#</a></h3><h4 id="å¯¼å…¥ä¾èµ–-4" tabindex="-1">å¯¼å…¥ä¾èµ– <a class="header-anchor" href="#å¯¼å…¥ä¾èµ–-4" aria-hidden="true">#</a></h4><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!-- junit --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;junit&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;junit&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;4.12&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!-- springæ•´åˆjunitçš„ä¾èµ– --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.springframework&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;spring-test&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.9.RELEASE&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2ç¼–å†™æµ‹è¯•ç±»" tabindex="-1">â‘¡ç¼–å†™æµ‹è¯•ç±» <a class="header-anchor" href="#_2ç¼–å†™æµ‹è¯•ç±»" aria-hidden="true">#</a></h3><p>åœ¨æµ‹è¯•ç±»ä¸ŠåŠ ä¸Š</p><p>**@RunWith(SpringJUnit4ClassRunner.class)**æ³¨è§£ï¼ŒæŒ‡å®šè®©æµ‹è¯•è¿è¡ŒäºSpringç¯å¢ƒ</p><p><strong>@ContextConfigurationæ³¨è§£</strong>ï¼ŒæŒ‡å®šSpringå®¹å™¨åˆ›å»ºéœ€è¦çš„é…ç½®æ–‡ä»¶æˆ–è€…é…ç½®ç±»</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">RunWith</span><span style="color:#C9D1D9;">(SpringJUnit4ClassRunner.class)</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">ContextConfiguration</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">locations</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;classpath:applicationContext.xml&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">SpringTest</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_3æ³¨å…¥å¯¹è±¡è¿›è¡Œæµ‹è¯•" tabindex="-1">â‘¢æ³¨å…¥å¯¹è±¡è¿›è¡Œæµ‹è¯• <a class="header-anchor" href="#_3æ³¨å…¥å¯¹è±¡è¿›è¡Œæµ‹è¯•" aria-hidden="true">#</a></h3><p>â€‹ åœ¨æµ‹è¯•ç±»ä¸­æ³¨å…¥è¦æµ‹è¯•çš„å¯¹è±¡ï¼Œå®šä¹‰æµ‹è¯•æ–¹æ³•ï¼Œåœ¨å…¶ä¸­ä½¿ç”¨è¦æµ‹è¯•çš„å¯¹è±¡ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">package</span><span style="color:#C9D1D9;"> com.dunxi;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> com.dunxi.service.UserService;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.junit.Test;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.junit.runner.RunWith;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.springframework.beans.factory.annotation.Autowired;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.springframework.test.context.ContextConfiguration;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">RunWith</span><span style="color:#C9D1D9;">(SpringJUnit4ClassRunner.class)</span></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">ContextConfiguration</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">locations</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;classpath:applicationContext.xml&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">SpringTest</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// æƒ³æµ‹å“ªä¸ªå¯¹è±¡ï¼Œå°±æ³¨å…¥å“ªä¸ªå¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Autowired</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> UserService</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userService;ã€</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//å®šä¹‰æµ‹è¯•æ–¹æ³•</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Test</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">testJunit</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        userService.</span><span style="color:#D2A8FF;">findById</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_2-springæ•´åˆmybatis" tabindex="-1">2.Springæ•´åˆMybatis <a class="header-anchor" href="#_2-springæ•´åˆmybatis" aria-hidden="true">#</a></h2><p>â€‹ æˆ‘ä»¬å¦‚æœæƒ³æŠŠMybatisæ•´åˆåˆ°Springä¸­éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ•´åˆåŒ…mybatis-spring</p><p>â€‹ å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://mybatis.org/spring/zh/index.html" target="_blank" rel="noreferrer">http://mybatis.org/spring/zh/index.html</a></p><h3 id="å¯¼å…¥ä¾èµ–-5" tabindex="-1">å¯¼å…¥ä¾èµ– <a class="header-anchor" href="#å¯¼å…¥ä¾èµ–-5" aria-hidden="true">#</a></h3><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!-- spring-jdbc --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.springframework&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;spring-jdbc&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.9.RELEASE&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!-- mybatisæ•´åˆåˆ°Springçš„æ•´åˆåŒ… --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.mybatis&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;mybatis-spring&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;2.0.4&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">&lt;!--mybatisä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.mybatis&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;mybatis&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;3.5.4&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--mysqlé©±åŠ¨--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;mysql&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;mysql-connector-java&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.47&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">&lt;!-- druidæ•°æ®æº --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;com.alibaba&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;druid&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.1.16&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="_2å¾€å®¹å™¨ä¸­æ³¨å…¥æ•´åˆç›¸å…³å¯¹è±¡" tabindex="-1">â‘¡å¾€å®¹å™¨ä¸­æ³¨å…¥æ•´åˆç›¸å…³å¯¹è±¡ <a class="header-anchor" href="#_2å¾€å®¹å™¨ä¸­æ³¨å…¥æ•´åˆç›¸å…³å¯¹è±¡" aria-hidden="true">#</a></h3><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--è¯»å–propertiesæ–‡ä»¶--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">context:property-placeholder</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">location</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;classpath:jdbc.properties&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">context:property-placeholder</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--åˆ›å»ºè¿æ¥æ± æ³¨å…¥å®¹å™¨--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;url&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.url}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.username}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.password}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;driverClassName&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.driver}&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;sessionFactoryBean&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--é…ç½®Mybatisé…ç½®æ–‡ä»¶çš„è·¯å¾„--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;configLocation&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;classpath:mybatis-config.xml&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">&lt;!--mapperæ‰«æé…ç½®ï¼Œæ‰«æåˆ°çš„mapperå¯¹è±¡ä¼šæ³¨å…¥åˆ°Springå®¹å™¨ä¸­--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;mapperScannerConfigurer&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;basePackage&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.dao&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>Mybatisé…ç½®æ–‡ä»¶mybatis-config.xmlå¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;"> ?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#FF7B72;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">configuration</span></span>
<span class="line"><span style="color:#C9D1D9;">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">configuration</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">configuration</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3ä»å®¹å™¨ä¸­è·å–mapperå¯¹è±¡è¿›è¡Œä½¿ç”¨" tabindex="-1">â‘¢ä»å®¹å™¨ä¸­è·å–mapperå¯¹è±¡è¿›è¡Œä½¿ç”¨ <a class="header-anchor" href="#_3ä»å®¹å™¨ä¸­è·å–mapperå¯¹è±¡è¿›è¡Œä½¿ç”¨" aria-hidden="true">#</a></h3><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Autowired</span></span>
<span class="line"><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Test</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">testUserDao</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">    List</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">all</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> userDao.</span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(all);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_3-springå£°æ˜å¼äº‹åŠ¡" tabindex="-1">3.Springå£°æ˜å¼äº‹åŠ¡ <a class="header-anchor" href="#_3-springå£°æ˜å¼äº‹åŠ¡" aria-hidden="true">#</a></h2><h3 id="_3-1-äº‹åŠ¡å›é¡¾" tabindex="-1">3.1 äº‹åŠ¡å›é¡¾ <a class="header-anchor" href="#_3-1-äº‹åŠ¡å›é¡¾" aria-hidden="true">#</a></h3><h4 id="_3-1-1-äº‹åŠ¡çš„æ¦‚å¿µ" tabindex="-1">3.1.1 äº‹åŠ¡çš„æ¦‚å¿µ <a class="header-anchor" href="#_3-1-1-äº‹åŠ¡çš„æ¦‚å¿µ" aria-hidden="true">#</a></h4><p>â€‹ ä¿è¯ä¸€ç»„æ•°æ®åº“çš„æ“ä½œï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥</p><h4 id="_3-1-2-å››å¤§ç‰¹æ€§" tabindex="-1">3.1.2 å››å¤§ç‰¹æ€§ <a class="header-anchor" href="#_3-1-2-å››å¤§ç‰¹æ€§" aria-hidden="true">#</a></h4><ul><li><p>éš”ç¦»æ€§</p><p>å¤šä¸ªäº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»ï¼Œä¸èƒ½ç›¸äº’å¹²æ‰°</p></li><li><p>åŸå­æ€§</p><p>æŒ‡äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“ï¼Œç±»ä¼¼ä¸€ä¸ªä¸å¯åˆ†å‰²çš„åŸå­</p></li><li><p>ä¸€è‡´æ€§</p><p>ä¿éšœäº‹åŠ¡å‰åè¿™ç»„æ•°æ®çš„çŠ¶æ€æ˜¯ä¸€è‡´çš„ã€‚è¦ä¹ˆéƒ½æ˜¯æˆåŠŸçš„ï¼Œè¦ä¹ˆéƒ½æ˜¯å¤±è´¥çš„ã€‚</p></li><li><p>æŒä¹…æ€§</p><p>æŒ‡äº‹åŠ¡ä¸€æ—¦è¢«æäº¤ï¼Œè¿™ç»„æ“ä½œä¿®æ”¹çš„æ•°æ®å°±çœŸçš„å‘ç”Ÿå˜åŒ–äº†ã€‚å³ä½¿æ¥ä¸‹æ¥æ•°æ®åº“æ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰å½±å“ã€‚</p></li></ul><h3 id="_3-2-å®ç°å£°æ˜å¼äº‹åŠ¡" tabindex="-1">3.2 å®ç°å£°æ˜å¼äº‹åŠ¡ <a class="header-anchor" href="#_3-2-å®ç°å£°æ˜å¼äº‹åŠ¡" aria-hidden="true">#</a></h3><p>â€‹ å¦‚æœæˆ‘ä»¬è‡ªå·±å»å¯¹äº‹åŠ¡è¿›è¡Œæ§åˆ¶çš„è¯æˆ‘ä»¬å°±éœ€è¦åœ¨åŸæ¥æ ¸å¿ƒä»£ç çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº‹åŠ¡æ§åˆ¶ç›¸å…³çš„ä»£ç ã€‚è€Œåœ¨æˆ‘ä»¬çš„å®é™…å¼€å‘ä¸­è¿™ç§æ§åˆ¶çš„æ“ä½œä¹Ÿæ˜¯éå¸¸å¸¸è§çš„ã€‚æ‰€ä»¥Springæä¾›äº†å£°æ˜å¼äº‹åŠ¡çš„æ–¹å¼è®©æˆ‘ä»¬å»æ§åˆ¶äº‹åŠ¡ã€‚</p><p>â€‹ åªè¦ç®€å•çš„åŠ ä¸ªæ³¨è§£ï¼ˆæˆ–è€…æ˜¯xmlé…ç½®ï¼‰å°±å¯ä»¥å®ç°äº‹åŠ¡æ§åˆ¶ï¼Œä¸éœ€è¦äº‹åŠ¡æ§åˆ¶çš„æ—¶å€™åªéœ€è¦å»æ‰ç›¸åº”çš„æ³¨è§£å³å¯ã€‚</p><h4 id="_3-2-0-æ¡ˆä¾‹ç¯å¢ƒå‡†å¤‡" tabindex="-1">3.2.0 æ¡ˆä¾‹ç¯å¢ƒå‡†å¤‡ <a class="header-anchor" href="#_3-2-0-æ¡ˆä¾‹ç¯å¢ƒå‡†å¤‡" aria-hidden="true">#</a></h4><p>æ•°æ®åˆå§‹åŒ–</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DATABASE</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">/*!32312 IF NOT EXISTS*/</span><span style="color:#A5D6FF;">`spring_db`</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">/*!40100 DEFAULT CHARACTER SET utf8 */</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">USE</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`spring_db`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">DROP</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">IF</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">EXISTS</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`account`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> `</span><span style="color:#D2A8FF;">account</span><span style="color:#C9D1D9;">` (</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">INT</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">NOT NULL</span><span style="color:#C9D1D9;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`name`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">VARCHAR</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">50</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`money`</span><span style="color:#C9D1D9;"> DOUBLE </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">PRIMARY KEY</span><span style="color:#C9D1D9;"> (</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">) ENGINE</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">INNODB AUTO_INCREMENT</span><span style="color:#FF7B72;">=</span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> CHARSET</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">utf8;</span></span>
<span class="line"><span style="color:#FF7B72;">INSERT  INTO</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`account`</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`name`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`money`</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">VALUES</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;ä¸‰æ›´&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;è‰å ‚&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>â‘¡Springæ•´åˆMybatis</p><p>â‘¢åˆ›å»ºServiceå’ŒDao</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">AccountService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#8B949E;">    /**</span></span>
<span class="line"><span style="color:#8B949E;">     * è½¬è´¦</span></span>
<span class="line"><span style="color:#8B949E;">     * </span><span style="color:#FF7B72;">@param</span><span style="color:#8B949E;"> </span><span style="color:#FFA657;">outUserId</span><span style="color:#8B949E;"> è½¬å‡ºè´¦æˆ·ID</span></span>
<span class="line"><span style="color:#8B949E;">     * </span><span style="color:#FF7B72;">@param</span><span style="color:#8B949E;"> </span><span style="color:#FFA657;">inUserId</span><span style="color:#8B949E;"> è½¬å…¥è´¦æˆ·ID</span></span>
<span class="line"><span style="color:#8B949E;">     * </span><span style="color:#FF7B72;">@param</span><span style="color:#8B949E;"> </span><span style="color:#FFA657;">money</span><span style="color:#8B949E;"> é’±æ•°</span></span>
<span class="line"><span style="color:#8B949E;">     */</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">transfer</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">outUserId</span><span style="color:#C9D1D9;">, Integer </span><span style="color:#FFA657;">inUserId</span><span style="color:#C9D1D9;">, Double </span><span style="color:#FFA657;">money</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">AccountServiceImpl</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">implements</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">AccountService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Autowired</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> AccountDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">accountDao;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">transfer</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">outUserId</span><span style="color:#C9D1D9;">, Integer </span><span style="color:#FFA657;">inUserId</span><span style="color:#C9D1D9;">, Double </span><span style="color:#FFA657;">money</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å¢åŠ </span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(inUserId,money);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å‡å°‘</span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(outUserId,</span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;">money);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">AccountDao</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">) Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;"> , @</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;updateMoney&quot;</span><span style="color:#C9D1D9;">) Double </span><span style="color:#FFA657;">money</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>AccoutDao.xmlå¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;"> ?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#FF7B72;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">mapper</span><span style="color:#C9D1D9;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">namespace</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.dao.AccountDao&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">update</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;updateMoney&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        update account set money = money + #{updateMoney} where id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">update</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-2-1-æ³¨è§£å®ç°" tabindex="-1">3.2.1 æ³¨è§£å®ç° <a class="header-anchor" href="#_3-2-1-æ³¨è§£å®ç°" aria-hidden="true">#</a></h4><h5 id="é…ç½®äº‹åŠ¡ç®¡ç†å™¨å’Œäº‹åŠ¡æ³¨è§£é©±åŠ¨" tabindex="-1">é…ç½®äº‹åŠ¡ç®¡ç†å™¨å’Œäº‹åŠ¡æ³¨è§£é©±åŠ¨ <a class="header-anchor" href="#é…ç½®äº‹åŠ¡ç®¡ç†å™¨å’Œäº‹åŠ¡æ³¨è§£é©±åŠ¨" aria-hidden="true">#</a></h5><p>åœ¨springçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--æŠŠäº‹åŠ¡ç®¡ç†å™¨æ³¨å…¥Springå®¹å™¨ï¼Œéœ€è¦é…ç½®ä¸€ä¸ªè¿æ¥æ± --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;txManager&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å¼€å¯äº‹åŠ¡æ³¨è§£é©±åŠ¨ï¼Œé…ç½®ä½¿ç”¨çš„äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">tx:annotation-driven</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">transaction-manager</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;txManager&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_2æ·»åŠ æ³¨è§£" tabindex="-1">â‘¡æ·»åŠ æ³¨è§£ <a class="header-anchor" href="#_2æ·»åŠ æ³¨è§£" aria-hidden="true">#</a></h5><p>åœ¨éœ€è¦è¿›è¡Œäº‹åŠ¡æ§åˆ¶çš„æ–¹æ³•æˆ–è€…ç±»ä¸Šæ·»åŠ @Transactionæ³¨è§£å°±å¯ä»¥å®ç°äº‹åŠ¡æ§åˆ¶ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Transactional</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">transfer</span><span style="color:#C9D1D9;">(Integer outId, Integer inId, Double money) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å¢åŠ </span></span>
<span class="line"><span style="color:#C9D1D9;">        accoutDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(inId,money);</span></span>
<span class="line"><span style="color:#8B949E;">//        System.out.println(1/0);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å‡å°‘</span></span>
<span class="line"><span style="color:#C9D1D9;">        accoutDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(outId,</span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;">money);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>æ³¨æ„ï¼šå¦‚æœåŠ åœ¨ç±»ä¸Šï¼Œè¿™ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½ä¼šå—äº‹åŠ¡æ§åˆ¶ï¼Œå¦‚æœåŠ åœ¨æ–¹æ³•ä¸Šï¼Œå°±æ˜¯é‚£ä¸€ä¸ªæ–¹æ³•å—äº‹åŠ¡æ§åˆ¶ã€‚</strong></p><p>æ³¨æ„ï¼Œå› ä¸ºå£°æ˜å¼äº‹åŠ¡åº•å±‚æ˜¯é€šè¿‡AOPå®ç°çš„ï¼Œæ‰€ä»¥æœ€å¥½æŠŠAOPç›¸å…³ä¾èµ–éƒ½åŠ ä¸Šã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">       &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.aspectj&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;aspectjweaver&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.9.6&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3-2-2-xmlæ–¹å¼å®ç°" tabindex="-1">3.2.2 xmlæ–¹å¼å®ç° <a class="header-anchor" href="#_3-2-2-xmlæ–¹å¼å®ç°" aria-hidden="true">#</a></h4><h5 id="é…ç½®äº‹åŠ¡ç®¡ç†å™¨" tabindex="-1">é…ç½®äº‹åŠ¡ç®¡ç†å™¨ <a class="header-anchor" href="#é…ç½®äº‹åŠ¡ç®¡ç†å™¨" aria-hidden="true">#</a></h5><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;txManager&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dataSource&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">bean</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="_2é…ç½®äº‹åŠ¡åˆ‡é¢" tabindex="-1">â‘¡é…ç½®äº‹åŠ¡åˆ‡é¢ <a class="header-anchor" href="#_2é…ç½®äº‹åŠ¡åˆ‡é¢" aria-hidden="true">#</a></h5><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">&lt;!--å®šä¹‰äº‹åŠ¡ç®¡ç†çš„é€šçŸ¥ç±»--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">tx:advice</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">transaction-manager</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;txManager&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;txAdvice&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">tx:attributes</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">tx:method</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;trans*&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">tx:attributes</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">tx:advice</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">aop:config</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">aop:pointcut</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;pt&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">expression</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;execution(* com.sangeng.service..*.*(..))&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:pointcut</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">aop:advisor</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">advice-ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;txAdvice&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">pointcut-ref</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;pt&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">aop:advisor</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">aop:config</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æ³¨æ„ï¼Œå› ä¸ºå£°æ˜å¼äº‹åŠ¡åº•å±‚æ˜¯é€šè¿‡AOPå®ç°çš„ï¼Œæ‰€ä»¥æœ€å¥½æŠŠAOPç›¸å…³ä¾èµ–éƒ½åŠ ä¸Šã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">   &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.aspectj&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;aspectjweaver&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.9.6&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-3-å±æ€§é…ç½®" tabindex="-1">3.3 å±æ€§é…ç½® <a class="header-anchor" href="#_3-3-å±æ€§é…ç½®" aria-hidden="true">#</a></h3><h4 id="_3-3-1-äº‹åŠ¡ä¼ æ’­è¡Œä¸ºpropagation" tabindex="-1">3.3.1 äº‹åŠ¡ä¼ æ’­è¡Œä¸ºpropagation <a class="header-anchor" href="#_3-3-1-äº‹åŠ¡ä¼ æ’­è¡Œä¸ºpropagation" aria-hidden="true">#</a></h4><p>â€‹ å½“äº‹åŠ¡æ–¹æ³•åµŒå¥—è°ƒç”¨æ—¶ï¼Œéœ€è¦æ§åˆ¶æ˜¯å¦å¼€å¯æ–°äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ¥æ§åˆ¶ã€‚</p><p>æµ‹è¯•æ¡ˆä¾‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">TestServiceImpl</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Autowired</span></span>
<span class="line"><span style="color:#C9D1D9;">    AccountService</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">accountService;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Transactional</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">test</span><span style="color:#C9D1D9;">(){</span></span>
<span class="line"><span style="color:#C9D1D9;">        accountService.</span><span style="color:#D2A8FF;">transfer</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">10D</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        accountService.</span><span style="color:#D2A8FF;">log</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Service</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">AccountServiceImpl</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">implements</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">AccountService</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Autowired</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> AccountDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">accountDao;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Transactional</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">transfer</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">outUserId</span><span style="color:#C9D1D9;">, Integer </span><span style="color:#FFA657;">inUserId</span><span style="color:#C9D1D9;">, Double </span><span style="color:#FFA657;">money</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å¢åŠ </span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(inUserId,money);</span></span>
<span class="line"><span style="color:#8B949E;">//        System.out.println(1/0);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å‡å°‘</span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(outUserId,</span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;">money);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Transactional</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">log</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ‰“å°æ—¥å¿—&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#8B949E;">//        int i = 1/0;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><table><thead><tr><th>å±æ€§å€¼</th><th>è¡Œä¸º</th></tr></thead><tbody><tr><td>REQUIREDï¼ˆå¿…é¡»è¦æœ‰ï¼‰</td><td>å¤–å±‚æ–¹æ³•æœ‰äº‹åŠ¡ï¼Œå†…å±‚æ–¹æ³•å°±åŠ å…¥ã€‚å¤–å±‚æ²¡æœ‰ï¼Œå†…å±‚å°±æ–°å»º</td></tr><tr><td>REQUIRES_NEWï¼ˆå¿…é¡»è¦æœ‰æ–°äº‹åŠ¡ï¼‰</td><td>å¤–å±‚æ–¹æ³•æœ‰äº‹åŠ¡ï¼Œå†…å±‚æ–¹æ³•æ–°å»ºã€‚å¤–å±‚æ²¡æœ‰ï¼Œå†…å±‚ä¹Ÿæ–°å»º</td></tr><tr><td>SUPPORTS(æ”¯æŒæœ‰)</td><td>å¤–å±‚æ–¹æ³•æœ‰äº‹åŠ¡ï¼Œå†…å±‚æ–¹æ³•å°±åŠ å…¥ã€‚å¤–å±‚æ²¡æœ‰ï¼Œå†…å±‚å°±ä¹Ÿæ²¡æœ‰</td></tr><tr><td>NOT_SUPPORTED(æ”¯æŒæ²¡æœ‰)</td><td>å¤–å±‚æ–¹æ³•æœ‰äº‹åŠ¡ï¼Œå†…å±‚æ–¹æ³•æ²¡æœ‰ã€‚å¤–å±‚æ²¡æœ‰ï¼Œå†…å±‚ä¹Ÿæ²¡æœ‰</td></tr><tr><td>MANDATORY(å¼ºåˆ¶è¦æ±‚å¤–å±‚æœ‰)</td><td>å¤–å±‚æ–¹æ³•æœ‰äº‹åŠ¡ï¼Œå†…å±‚æ–¹æ³•åŠ å…¥ã€‚å¤–å±‚æ²¡æœ‰ï¼Œå†…å±‚å°±æŠ¥é”™</td></tr><tr><td>NEVERï¼ˆç»ä¸å…è®¸æœ‰ï¼‰</td><td>å¤–å±‚æ–¹æ³•æœ‰äº‹åŠ¡ï¼Œå†…å±‚æ–¹æ³•å°±æŠ¥é”™ã€‚å¤–å±‚æ²¡æœ‰ï¼Œå†…å±‚ä¹Ÿå°±æ²¡æœ‰</td></tr></tbody></table><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Transactional</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">propagation</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Propagation.REQUIRES_NEW)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">transfer</span><span style="color:#C9D1D9;">(Integer outUserId, Integer inUserId, Double money) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å¢åŠ </span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(inUserId,money);</span></span>
<span class="line"><span style="color:#8B949E;">//        System.out.println(1/0);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å‡å°‘</span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(outUserId,</span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;">money);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-3-2-éš”ç¦»çº§åˆ«isolation" tabindex="-1">3.3.2 éš”ç¦»çº§åˆ«isolation <a class="header-anchor" href="#_3-3-2-éš”ç¦»çº§åˆ«isolation" aria-hidden="true">#</a></h4><p>Isolation.DEFAULT ä½¿ç”¨æ•°æ®åº“é»˜è®¤éš”ç¦»çº§åˆ«</p><p>Isolation.READ_UNCOMMITTED</p><p>Isolation.READ_COMMITTED</p><p>Isolation.REPEATABLE_READ</p><p>Isolation.SERIALIZABLE</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Transactional</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">propagation</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Propagation.REQUIRES_NEW ,</span><span style="color:#79C0FF;">isolation</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Isolation.READ_COMMITTED)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">transfer</span><span style="color:#C9D1D9;">(Integer outUserId, Integer inUserId, Double money) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å¢åŠ </span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(inUserId,money);</span></span>
<span class="line"><span style="color:#8B949E;">//        System.out.println(1/0);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å‡å°‘</span></span>
<span class="line"><span style="color:#C9D1D9;">        accountDao.</span><span style="color:#D2A8FF;">updateMoney</span><span style="color:#C9D1D9;">(outUserId,</span><span style="color:#FF7B72;">-</span><span style="color:#C9D1D9;">money);</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-3-3-åªè¯»readonly" tabindex="-1">3.3.3 åªè¯»readOnly <a class="header-anchor" href="#_3-3-3-åªè¯»readonly" aria-hidden="true">#</a></h4><p>â€‹ å¦‚æœäº‹åŠ¡ä¸­çš„æ“ä½œéƒ½æ˜¯è¯»æ“ä½œï¼Œæ²¡æ¶‰åŠåˆ°å¯¹æ•°æ®çš„å†™æ“ä½œå¯ä»¥è®¾ç½®readOnlyä¸ºtrueã€‚è¿™æ ·å¯ä»¥æé«˜æ•ˆç‡ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">@</span><span style="color:#FF7B72;">Transactional</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">readOnly</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">log</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">    System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ‰“å°æ—¥å¿—&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">int</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">i</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">1</span><span style="color:#FF7B72;">/</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-22d94e81 data-v-d057f2bd><div class="edit-info" data-v-d057f2bd><!----><div class="last-updated" data-v-d057f2bd><p class="VPLastUpdated" data-v-d057f2bd data-v-8698a6d5>Last updated: <time datetime="2023-01-08T14:43:35.000Z" data-v-8698a6d5></time></p></div></div><div class="prev-next" data-v-d057f2bd><div class="pager" data-v-d057f2bd><a class="pager-link prev" href="/lindocs/java/spring/springSecurityJwt.html" data-v-d057f2bd><span class="desc" data-v-d057f2bd>Previous page</span><span class="title" data-v-d057f2bd>Spring Security â• JWT</span></a></div><div class="has-prev pager" data-v-d057f2bd><a class="pager-link next" href="/lindocs/java/spring/SpringMVC.html" data-v-d057f2bd><span class="desc" data-v-d057f2bd>Next page</span><span class="title" data-v-d057f2bd>SpringMvc</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-2855b47a data-v-d7033f51><div class="container" data-v-d7033f51><p class="message" data-v-d7033f51>Released under the MIT License.</p><p class="copyright" data-v-d7033f51>Copyright Â© 2021-present Lin ZiLi</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"java_docker.md\":\"445c2adc\",\"java_gradle.md\":\"fcf39b63\",\"frontend_vue_quick-start.md\":\"77904946\",\"database_mysql_navicat.md\":\"ac4a924b\",\"frontend_vue_api_general.md\":\"10174fd8\",\"frontend_js_index.md\":\"7eab9b02\",\"index.md\":\"5181adc1\",\"frontend_vue_code-standard.md\":\"ac86a784\",\"database_mysql_mysql-base.md\":\"2ec7e61e\",\"java_spring_mybatisplus.md\":\"bd49eab4\",\"java_spring_ssmæ•´åˆ.md\":\"c9974bcd\",\"java_java-base.md\":\"a4735c17\",\"java_spring_springmvc.md\":\"3525fbc6\",\"java_spring_spring.md\":\"c79cad2c\",\"java_spring_mybatis.md\":\"ae963d55\",\"java_spring_springboot.md\":\"cc41f106\",\"spring_index.md\":\"ce4a6ec9\",\"kotlin_index.md\":\"3f9c5751\",\"spring_springcloud_springcloudgateway.md\":\"0bd50fce\",\"spring_springcloud_springcloud.md\":\"b4e90d86\",\"spring_springboot_springboot.md\":\"c70be407\",\"spring_springboot_rabbitmq.md\":\"ab265fb0\",\"spring_springcloud_openfeign.md\":\"ba57b4af\",\"java_spring_springsecurityjwt.md\":\"573e0c8f\",\"spring_springcloud_sentinel.md\":\"513d4a23\",\"spring_springcloud_nacos.md\":\"141dce0d\"}")</script>
    <script type="module" async src="/lindocs/assets/app.368cfe21.js"></script>
    
  </body>
</html>