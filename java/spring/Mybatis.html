<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mybatis-01 | LinDocs</title>
    <meta name="description" content="Vite & Vue powered static site generator.">
    <link rel="preload stylesheet" href="/lindocs/assets/style.3f977174.css" as="style">
    <link rel="modulepreload" href="/lindocs/assets/chunks/VPAlgoliaSearchBox.fa032c1e.js">
    <link rel="modulepreload" href="/lindocs/assets/app.66df897c.js">
    <link rel="modulepreload" href="/lindocs/assets/java_spring_Mybatis.md.b8883719.lean.js">
    
    <link rel="icon" href="./favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-8e0293cf data-v-2855b47a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-59736647></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-59736647> Skip to content </a><!--]--><!----><header class="VPNav" data-v-2855b47a data-v-c96f2c5c><div class="VPNavBar has-sidebar" data-v-c96f2c5c data-v-fffd92b9><div class="container" data-v-fffd92b9><div class="VPNavBarTitle has-sidebar" data-v-fffd92b9 data-v-cca63090><a class="title" href="/lindocs/" data-v-cca63090><!--[--><!--]--><!----><!--[-->LinDocs<!--]--><!--[--><!--]--></a></div><div class="content" data-v-fffd92b9><!--[--><!--]--><div class="VPNavBarSearch search" data-v-fffd92b9 style="--65f62738:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fffd92b9 data-v-28f09fbf><span id="main-nav-aria-label" class="visually-hidden" data-v-28f09fbf>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/lindocs/frontend/js/" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ‰å‰ç«¯<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/lindocs/database/mysql/mysql-base.html" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ”¥æ•°æ®åº“<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/lindocs/java/java-base.html" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ”¥JAVA<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/lindocs/spring/springcloud/nacos.html" data-v-28f09fbf data-v-985a9e89 data-v-87c72c21><!--[-->ğŸ¥³spring<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fffd92b9 data-v-43fbcba2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-43fbcba2 data-v-3e5b53af data-v-4ca06f51><span class="check" data-v-4ca06f51><span class="icon" data-v-4ca06f51><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3e5b53af><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3e5b53af><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-fffd92b9 data-v-d03627c8 data-v-1b5b2373><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-1b5b2373><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-1b5b2373><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-1b5b2373><div class="VPMenu" data-v-1b5b2373 data-v-09926e5f><!----><!--[--><!--[--><!----><div class="group" data-v-d03627c8><div class="item appearance" data-v-d03627c8><p class="label" data-v-d03627c8>Appearance</p><div class="appearance-action" data-v-d03627c8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-d03627c8 data-v-3e5b53af data-v-4ca06f51><span class="check" data-v-4ca06f51><span class="icon" data-v-4ca06f51><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3e5b53af><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3e5b53af><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fffd92b9 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-2855b47a data-v-54fccb40><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-54fccb40><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-54fccb40><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-54fccb40>Menu</span></button><a class="top-link" href="#" data-v-54fccb40> Return to top </a></div><aside class="VPSidebar" data-v-2855b47a data-v-284e079d><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-284e079d><span class="visually-hidden" id="sidebar-aria-label" data-v-284e079d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-284e079d><section class="VPSidebarGroup" data-v-284e079d data-v-3f16556a><div class="title" data-v-3f16556a><h2 class="title-text" data-v-3f16556a>Java</h2><div class="action" data-v-3f16556a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-3f16556a><!--[--><!--[--><a class="VPLink link link" href="/lindocs/java/java-base.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>javaåŸºç¡€</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-284e079d><section class="VPSidebarGroup" data-v-284e079d data-v-3f16556a><div class="title" data-v-3f16556a><h2 class="title-text" data-v-3f16556a>Gradle</h2><div class="action" data-v-3f16556a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-3f16556a><!--[--><!--[--><a class="VPLink link link" href="/lindocs/java/Gradle.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>Gradle</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-284e079d><section class="VPSidebarGroup" data-v-284e079d data-v-3f16556a><div class="title" data-v-3f16556a><h2 class="title-text" data-v-3f16556a>Springå…¨å®¶æ¡¶</h2><div class="action" data-v-3f16556a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-3f16556a><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-3f16556a><!--[--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/springSecurityJwt.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>Spring Security â• JWT</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/Spring.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SpringFrameword</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/SpringMVC.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SpringMvc</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/SpringBoot.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SpringBoot</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/SSM%E6%95%B4%E5%90%88.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>SSMæ•´åˆ</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/lindocs/java/spring/Mybatis.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>Mybatis</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/lindocs/java/spring/MybatisPlus.html" style="padding-left:0px;" tabindex="-1" data-v-a61ef70d data-v-87c72c21><!--[--><span class="link-text" data-v-a61ef70d>MyBatis Plus</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-2855b47a data-v-a4e4f0b2><div class="VPDoc has-sidebar has-aside" data-v-a4e4f0b2 data-v-22d94e81><div class="container" data-v-22d94e81><div class="aside" data-v-22d94e81><div class="aside-curtain" data-v-22d94e81></div><div class="aside-container" data-v-22d94e81><div class="aside-content" data-v-22d94e81><div class="VPDocAside" data-v-22d94e81 data-v-8efc4ac7><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-8efc4ac7 data-v-a094936b><div class="content" data-v-a094936b><div class="outline-marker" data-v-a094936b></div><div class="outline-title" data-v-a094936b>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-a094936b><span class="visually-hidden" id="doc-outline-aria-label" data-v-a094936b> Table of Contents for current page </span><ul class="root" data-v-a094936b data-v-c6ed8bb7><!--[--><!--]--></ul></nav></div></div><!--[--><!--[--><!--[--><!--[--><div class="recommend-container" data-v-8e0293cf><p data-v-8e0293cf>æ‰«ç è”ç³»</p><p class="item-desc" data-v-8e0293cf>IT å’¨è¯¢ &amp; ä¸€èµ·å­¦ä¹ </p><img src="http://cdn.azhiyuan.com.cn/markdown/img/6593924985b60756ef48c391e43d48a.png" alt="å‰ç«¯" data-v-8e0293cf></div><!--]--><!--]--><!--]--><!--]--><div class="spacer" data-v-8efc4ac7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-22d94e81><div class="content-container" data-v-22d94e81><!--[--><!--]--><main class="main" data-v-22d94e81><div style="position:relative;" class="vp-doc _lindocs_java_spring_Mybatis" data-v-22d94e81><div><h1 id="mybatis-01" tabindex="-1">Mybatis-01 <a class="header-anchor" href="#mybatis-01" aria-hidden="true">#</a></h1><h2 id="_1-æ¡†æ¶" tabindex="-1">1.æ¡†æ¶ <a class="header-anchor" href="#_1-æ¡†æ¶" aria-hidden="true">#</a></h2><p>â€‹ æ¡†æ¶ç›¸å½“äºæ˜¯ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œå†…éƒ¨å·²ç»å†™å¥½äº†å¾ˆå¤šä»£ç ï¼Œæˆ‘ä»¬åªè¦åœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘å°±å¯ä»¥æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚</p><p>æ¡†æ¶é˜¶æ®µå­¦ä¹ ï¼š</p><p>â‘ å…ˆå»å­¦ä¹ å¦‚ä½•ä½¿ç”¨æ¡†æ¶</p><p>â‘¡ç„¶ååœ¨ä½¿ç”¨ç†Ÿç»ƒçš„æƒ…å†µä¸‹å»çŒœæµ‹å†…éƒ¨çš„åŸç†</p><p>â‘¢é€šè¿‡æºç å»éªŒè¯è‡ªå·±çš„çŒœæµ‹ã€‚</p><h2 id="_2-mybatisä»‹ç»" tabindex="-1">2.Mybatisä»‹ç» <a class="header-anchor" href="#_2-mybatisä»‹ç»" aria-hidden="true">#</a></h2><ul><li>MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ã€‚</li><li>MyBatiså…é™¤äº†å‡ ä¹æ‰€æœ‰çš„JDBCä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚</li><li>å®˜ç½‘<a href="https://mybatis.org/mybatis-3/zh/" target="_blank" rel="noreferrer">https://mybatis.org/mybatis-3/zh/</a>#</li></ul><h2 id="_3-å¿«é€Ÿå…¥é—¨" tabindex="-1">3.å¿«é€Ÿå…¥é—¨ <a class="header-anchor" href="#_3-å¿«é€Ÿå…¥é—¨" aria-hidden="true">#</a></h2><p>â‘ æ•°æ®å‡†å¤‡</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DATABASE</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">/*!32312 IF NOT EXISTS*/</span><span style="color:#A5D6FF;">`mybatis_db`</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">/*!40100 DEFAULT CHARACTER SET utf8 */</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">USE</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`mybatis_db`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">DROP</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">IF</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">EXISTS</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`user`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> `</span><span style="color:#D2A8FF;">user</span><span style="color:#C9D1D9;">` (</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">NOT NULL</span><span style="color:#C9D1D9;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`username`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">varchar</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">50</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`age`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`address`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">varchar</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">50</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">PRIMARY KEY</span><span style="color:#C9D1D9;"> (</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">) ENGINE</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">InnoDB AUTO_INCREMENT</span><span style="color:#FF7B72;">=</span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> CHARSET</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">utf8;</span></span>
<span class="line"><span style="color:#FF7B72;">insert  into</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`user`</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`username`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`age`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`address`</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">values</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;UZI&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">19</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;ä¸Šæµ·&#39;</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;PDD&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">25</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;ä¸Šæµ·&#39;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>â‘¡å¯¼å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--mybatisä¾èµ–--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;org.mybatis&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;mybatis&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;3.5.9&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--mysqlé©±åŠ¨--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;mysql&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;mysql-connector-java&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;5.1.47&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>â‘¢ç¼–å†™æ ¸å¿ƒé…ç½®</p><p>åœ¨èµ„æºç›®å½•ä¸‹åˆ›å»ºï¼šmybatis-config.xml å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;"> ?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#FF7B72;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">configuration</span></span>
<span class="line"><span style="color:#C9D1D9;">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">configuration</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">environments</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">default</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;development&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">environment</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;development&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">transactionManager</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;JDBC&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">dataSource</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;POOLED&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;driver&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.mysql.jdbc.Driver&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;url&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;jdbc:mysql://localhost:3306/test&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;root&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;123456&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">dataSource</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">environment</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">environments</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resource</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com/sangeng/dao/UserDao.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">configuration</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>â‘£å®šä¹‰æ¥å£åŠå¯¹åº”çš„xmlæ˜ å°„æ–‡ä»¶</p><p>com.dunxi.dao.UserDao:</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserDao</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    List&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#C9D1D9;">&gt; </span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>èµ„æºç›®å½•ä¸‹ï¼šcom/dunxi/dao/UserDao.xml</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;"> ?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#FF7B72;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">mapper</span></span>
<span class="line"><span style="color:#C9D1D9;">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">namespace</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.dao.UserDao&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findAll&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">      select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>â‘¤ç¼–å†™æµ‹è¯•ç±»</p><p>è·å–SqlSession,é€šè¿‡SqlSessionè·å–UserDaoè°ƒç”¨å¯¹åº”çš„æ–¹æ³•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] args) throws IOException {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å®šä¹‰mybatisé…ç½®æ–‡ä»¶çš„è·¯å¾„</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">resource</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;mybatis-config.xml&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        InputStream</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">inputStream</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Resources.</span><span style="color:#D2A8FF;">getResourceAsStream</span><span style="color:#C9D1D9;">(resource);</span></span>
<span class="line"><span style="color:#C9D1D9;">        SqlSessionFactory</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sqlSessionFactory</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">SqlSessionFactoryBuilder</span><span style="color:#C9D1D9;">().</span><span style="color:#D2A8FF;">build</span><span style="color:#C9D1D9;">(inputStream);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–Sqlsessionå¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        SqlSession</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sqlSession</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> sqlSessionFactory.</span><span style="color:#D2A8FF;">openSession</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–UserDaoå®ç°ç±»å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> sqlSession.</span><span style="color:#D2A8FF;">getMapper</span><span style="color:#C9D1D9;">(UserDao.class);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è°ƒç”¨æ–¹æ³•æµ‹è¯•</span></span>
<span class="line"><span style="color:#C9D1D9;">        List</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">userList</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> userDao.</span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(userList);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//é‡Šæ”¾èµ„æº</span></span>
<span class="line"><span style="color:#C9D1D9;">        sqlSession.</span><span style="color:#D2A8FF;">close</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_3-9-é«˜æ•ˆç¼–ç¨‹" tabindex="-1">3.9 é«˜æ•ˆç¼–ç¨‹ <a class="header-anchor" href="#_3-9-é«˜æ•ˆç¼–ç¨‹" aria-hidden="true">#</a></h2><h3 id="_3-9-1-é…ç½®ä»£ç æ¨¡æ¿" tabindex="-1">3.9.1 é…ç½®ä»£ç æ¨¡æ¿ <a class="header-anchor" href="#_3-9-1-é…ç½®ä»£ç æ¨¡æ¿" aria-hidden="true">#</a></h3><p><img src="https://raw.githubusercontent.com/DunXi/zdx/main/img/202202191921677.png" alt="image-1"></p><h3 id="_3-9-2-mybatisæ’ä»¶" tabindex="-1">3.9.2 Mybatisæ’ä»¶ <a class="header-anchor" href="#_3-9-2-mybatisæ’ä»¶" aria-hidden="true">#</a></h3><p>Mybatis X å¯ä»¥å®ç°mapperå’Œxmlæ–‡ä»¶ç›¸äº’è·³è½¬</p><h2 id="_4-å‚æ•°è·å–" tabindex="-1">4. å‚æ•°è·å– <a class="header-anchor" href="#_4-å‚æ•°è·å–" aria-hidden="true">#</a></h2><h3 id="_4-1-ä¸€ä¸ªå‚æ•°" tabindex="-1">4.1 ä¸€ä¸ªå‚æ•° <a class="header-anchor" href="#_4-1-ä¸€ä¸ªå‚æ•°" aria-hidden="true">#</a></h3><h4 id="_4-1-1-åŸºæœ¬å‚æ•°" tabindex="-1">4.1.1 åŸºæœ¬å‚æ•° <a class="header-anchor" href="#_4-1-1-åŸºæœ¬å‚æ•°" aria-hidden="true">#</a></h4><p>â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨#{}ç›´æ¥æ¥å–å€¼ï¼Œå†™ä»»æ„åå­—éƒ½å¯ä»¥è·å–åˆ°å‚æ•°ã€‚ä½†æ˜¯ä¸€èˆ¬ç”¨æ–¹æ³•çš„å‚æ•°åæ¥å–ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findById</span><span style="color:#C9D1D9;">(Integer id);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>xmlä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> id</span><span style="color:#A5D6FF;">&quot;findById&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt; select * from user where id = #{id}&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-1-2-pojo" tabindex="-1">4.1.2 POJO <a class="header-anchor" href="#_4-1-2-pojo" aria-hidden="true">#</a></h4><p>â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨POJOä¸­çš„å±æ€§åæ¥è·å–å¯¹åº”çš„å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findByUser</span><span style="color:#C9D1D9;">(User user);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>xmlä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByUser&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.sangeng.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        select * from user where id = #{id} and username = #{username} and age = #{age} and address = #{address}</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_4-1-3-map" tabindex="-1">4.1.3 Map <a class="header-anchor" href="#_4-1-3-map" aria-hidden="true">#</a></h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨mapä¸­çš„keyæ¥è·å–å¯¹åº”çš„å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findByMap</span><span style="color:#C9D1D9;">(Map map);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>xmlä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;">select id</span><span style="color:#FF7B72;">=</span><span style="color:#A5D6FF;">&quot;findByMap&quot;</span><span style="color:#C9D1D9;"> resultType</span><span style="color:#FF7B72;">=</span><span style="color:#A5D6FF;">&quot;com.sangeng.pojo.User&quot;</span><span style="color:#FF7B72;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        select </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> from user where id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> #{id} and username </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> #{username} and age </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> #{age} and address </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> #{address}</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">&lt;/</span><span style="color:#C9D1D9;">select</span><span style="color:#FF7B72;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æ–¹æ³•è°ƒç”¨ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">        Map</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">map</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">HashMap</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        map.</span><span style="color:#D2A8FF;">put</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        map.</span><span style="color:#D2A8FF;">put</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;PDD&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        map.</span><span style="color:#D2A8FF;">put</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">25</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        map.</span><span style="color:#D2A8FF;">put</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&quot;ä¸Šæµ·&quot;</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">        userDao.</span><span style="color:#D2A8FF;">findByMap</span><span style="color:#C9D1D9;">(map);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_4-2-å¤šä¸ªå‚æ•°" tabindex="-1">4.2 å¤šä¸ªå‚æ•° <a class="header-anchor" href="#_4-2-å¤šä¸ªå‚æ•°" aria-hidden="true">#</a></h3><p>Mybatisä¼šæŠŠå¤šä¸ªå‚æ•°æ”¾å…¥ä¸€ä¸ªMapé›†åˆä¸­ï¼Œé»˜è®¤çš„keyæ˜¯argxå’Œparamxè¿™ç§æ ¼å¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­çš„æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findByCondition</span><span style="color:#C9D1D9;">(Integer id,String username);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æœ€ç»ˆmapä¸­çš„é”®å€¼å¯¹å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">{arg1 </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> PDD,arg0 </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,param1 </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,param2 </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> PDD}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â€‹ æˆ‘ä»¬è™½ç„¶å¯ä»¥ä½¿ç”¨å¯¹åº”çš„é»˜è®¤keyæ¥è·å–å€¼ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¯è¯»æ€§ä¸å¥½ã€‚æˆ‘ä»¬ä¸€èˆ¬åœ¨æ–¹æ³•å‰ä½¿ç”¨@paramæ¥è®¾ç½®å‚æ•°åã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­çš„æ–¹æ³•å®šä¹‰ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findByCondition</span><span style="color:#C9D1D9;">(@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">) Integer id,@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">) String username);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æœ€ç»ˆmapä¸­çš„é”®å€¼å¯¹å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">{id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,Param1 </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,username </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> PDD,param2 </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> PDD}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•æ¥è·å–å‚æ•°</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select * from user where id = #{id} and username = #{username}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_4-3-æ€»ç»“" tabindex="-1">4.3 æ€»ç»“ <a class="header-anchor" href="#_4-3-æ€»ç»“" aria-hidden="true">#</a></h3><p>â€‹ å»ºè®®å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ä¸ç”¨åšä»€ä¹ˆç‰¹æ®Šå¤„ç†ã€‚å¦‚æœæ˜¯æœ‰å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ä¸€å®šè¦åŠ ä¸Š@Paramæ¥è®¾ç½®å‚æ•°åã€‚</p><h2 id="_5-æ ¸å¿ƒç±»" tabindex="-1">5.æ ¸å¿ƒç±» <a class="header-anchor" href="#_5-æ ¸å¿ƒç±»" aria-hidden="true">#</a></h2><h3 id="_5-1-sqlsessionfactory" tabindex="-1">5.1 SQLSessionFactory <a class="header-anchor" href="#_5-1-sqlsessionfactory" aria-hidden="true">#</a></h3><p>SqlSessionFactoryæ˜¯ä¸€ä¸ªSqlSessionçš„å·¥å‚ç±»ã€‚ä¸»è¦ç”¨æ¥è·å–SqlSessionå¯¹è±¡ã€‚</p><p>æˆå‘˜æ–¹æ³•å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">SqlSession </span><span style="color:#D2A8FF;">openSession</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#8B949E;">//è·å–SqlSessionå¯¹è±¡ï¼Œä¼ å…¥çš„å‚æ•°ä»£è¡¨åˆ›å»ºçš„SqlSessionæ˜¯å¦è‡ªåŠ¨æäº¤</span></span>
<span class="line"><span style="color:#C9D1D9;">SqlSession </span><span style="color:#D2A8FF;">openSession</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">boolean</span><span style="color:#C9D1D9;"> autoCommit);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-2-sqlsession" tabindex="-1">5.2 SqlSession <a class="header-anchor" href="#_5-2-sqlsession" aria-hidden="true">#</a></h3><p>â€‹ SqlSessionæä¾›äº†åœ¨æ•°æ®åº“æ‰§è¡ŒSQLå‘½ä»¤æ‰€éœ€è¦çš„æ‰€æœ‰æ–¹æ³•ã€‚å®ƒè¿˜æä¾›äº†äº‹ç‰©çš„ç›¸å…³æ“ä½œã€‚</p><p>æˆå‘˜æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">T </span><span style="color:#D2A8FF;">getMapper</span><span style="color:#C9D1D9;">(Class</span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;">T</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;"> type);</span><span style="color:#8B949E;">//è·å–mapperå¯¹è±¡</span></span>
<span class="line"><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">commit</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//æäº¤äº‹åŠ¡</span></span>
<span class="line"><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">rollback</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//å›æ»šäº‹åŠ¡</span></span>
<span class="line"><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">close</span><span style="color:#C9D1D9;">();</span><span style="color:#8B949E;">//é‡Šæ”¾èµ„æº</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_6-mybatiså®ç°å¢åˆ æ”¹æŸ¥" tabindex="-1">6.Mybatiså®ç°å¢åˆ æ”¹æŸ¥ <a class="header-anchor" href="#_6-mybatiså®ç°å¢åˆ æ”¹æŸ¥" aria-hidden="true">#</a></h2><h3 id="_6-1-æ–°å¢" tabindex="-1">6.1 æ–°å¢ <a class="header-anchor" href="#_6-1-æ–°å¢" aria-hidden="true">#</a></h3><p>â‘ æ¥å£ä¸­çš„å®ç°æ–¹æ³•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">insertUser</span><span style="color:#C9D1D9;">(User user);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ ç›¸åº”çš„æ ‡ç­¾</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">insert</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;"> = </span><span style="color:#A5D6FF;">&quot;insertUser&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> insert into user values(null,k#{username},#{age},#{address})</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">insert</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>æ³¨æ„ï¼šä¸€å®šè¦è®°å¾—æäº¤äº‹åŠ¡</strong></p><h3 id="_6-2-åˆ é™¤" tabindex="-1">6.2 åˆ é™¤ <a class="header-anchor" href="#_6-2-åˆ é™¤" aria-hidden="true">#</a></h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">deleteById</span><span style="color:#C9D1D9;">(Integer id);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">delete</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;"> = </span><span style="color:#A5D6FF;">&quot;deleteById&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> delete from user where id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">delete</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>æ³¨æ„ï¼šä¸€å®šè¦è®°å¾—æäº¤äº‹åŠ¡ã€‚</strong></p><h3 id="_6-3-ä¿®æ”¹" tabindex="-1">6.3 ä¿®æ”¹ <a class="header-anchor" href="#_6-3-ä¿®æ”¹" aria-hidden="true">#</a></h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">updateUser</span><span style="color:#C9D1D9;">(User user);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--æ›´æ–°ç”¨æˆ·--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">update</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;"> =</span><span style="color:#A5D6FF;">&quot;updateUser&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> UPDATE USER SET age = #{age} , username = #{username},address = #{address} WHERE id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">update</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>æ³¨æ„ï¼šä¸€å®šè¦è®°å¾—æäº¤äº‹åŠ¡ã€‚</strong></p><h3 id="_6-4-æ ¹æ®idæŸ¥è¯¢" tabindex="-1">6.4 æ ¹æ®idæŸ¥è¯¢ <a class="header-anchor" href="#_6-4-æ ¹æ®idæŸ¥è¯¢" aria-hidden="true">#</a></h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findById</span><span style="color:#C9D1D9;">(Integer id);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findById&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> select * from user where id =#{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_6-5-æŸ¥è¯¢æ‰€æœ‰" tabindex="-1">6.5 æŸ¥è¯¢æ‰€æœ‰ <a class="header-anchor" href="#_6-5-æŸ¥è¯¢æ‰€æœ‰" aria-hidden="true">#</a></h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">List</span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;">User</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findAll&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_7-é…ç½®æ–‡ä»¶è¯¦è§£" tabindex="-1">7.é…ç½®æ–‡ä»¶è¯¦è§£ <a class="header-anchor" href="#_7-é…ç½®æ–‡ä»¶è¯¦è§£" aria-hidden="true">#</a></h2><h3 id="_7-1-properties" tabindex="-1">7.1 properties <a class="header-anchor" href="#_7-1-properties" aria-hidden="true">#</a></h3><p>â€‹ å¯ä»¥ä½¿ç”¨propertiesè¯»å–propertiesé…ç½®æ–‡ä»¶ã€‚ä½¿ç”¨å…¶ä¸­çš„resourceå±æ€§æ¥è®¾ç½®é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚ç„¶åä½¿ç”¨${key}æ¥è·å–é…ç½®æ–‡ä»¶ä¸­çš„å€¼</p><p>ä¾‹å¦‚ï¼š</p><p>åœ¨resourcesç›®å½•ä¸‹æœ‰jdbc.propertiesæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark"><code><span class="line"><span style="color:#c9d1d9;">jdbc.url=jdbc:mysql://localhost:3306/mybatis_db</span></span>
<span class="line"><span style="color:#c9d1d9;">jdbc.driver=com.mysql.jdbc.Driver</span></span>
<span class="line"><span style="color:#c9d1d9;">jdbc.username=root</span></span>
<span class="line"><span style="color:#c9d1d9;">jdbc.password=123456</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>åœ¨mybatis-config.xmlä¸­ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;"> ?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#FF7B72;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">configuration</span></span>
<span class="line"><span style="color:#C9D1D9;">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">configuration</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--propertiesè¦åœ¨environmentsçš„å‰é¢ï¼Œè®¾ç½®é…ç½®æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">properties</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resource</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;jdbc.properties&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">properties</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">environments</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">default</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;development&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">environment</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;development&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">transactionManager</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;JDBC&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">dataSource</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;POOLED&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">&lt;!--è·å–é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼æ¥è®¾ç½®è¿æ¥ç›¸å…³å‚æ•°--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;driver&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.driver}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;url&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.url}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.username}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.password}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">dataSource</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">environment</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">environments</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resource</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com/dunxi/dao/UserDao.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">configuration</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_7-2-settings" tabindex="-1">7.2 settings <a class="header-anchor" href="#_7-2-settings" aria-hidden="true">#</a></h3><p>â€‹ å¯ä»¥ä½¿ç”¨è¯¥æ ‡ç­¾æ¥è¿›è¡Œä¸€äº›è®¾ç½®</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">settings</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åæ˜ å°„--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">setting</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;mapUnderscoreToCamelCase&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;true&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">settings</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å…·ä½“çš„è®¾ç½®å‚è€ƒï¼š<a href="https://mybatis.org/mybatis-3/zh/configuration.html#settings" target="_blank" rel="noreferrer">https://mybatis.org/mybatis-3/zh/configuration.html#settings</a></p><h3 id="_7-3-typealiases" tabindex="-1">7.3 typeAliases <a class="header-anchor" href="#_7-3-typealiases" aria-hidden="true">#</a></h3><p>â€‹ å¯ä»¥ç”¨æ¥è®¾ç½®ç»™å…¨ç±»åè®¾ç½®åˆ«åï¼Œç®€åŒ–ä¹¦å†™ã€‚ä¸€èˆ¬è®¾ç½®ä¸€ä¸ªåŒ…ä¸‹çš„ç±»å…¨éƒ¨æœ‰é»˜è®¤åˆ«åã€‚è«é»˜è®¤åˆ«åæ˜¯ç±»åé¦–å­—æ¯å°å†™ã€‚ä¾‹å¦‚ï¼šcom.dunxi.pojo.Useråˆ«åä¸ºuser</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark"><code><span class="line"><span style="color:#c9d1d9;">&lt;typeAliases&gt;</span></span>
<span class="line"><span style="color:#c9d1d9;"> &lt;package name=&quot;com.dunxi.dao&quot;&gt;&lt;/package&gt;</span></span>
<span class="line"><span style="color:#c9d1d9;">&lt;/typeAliases&gt;</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_7-4-environments" tabindex="-1">7.4 environments <a class="header-anchor" href="#_7-4-environments" aria-hidden="true">#</a></h3><p>â€‹ é…ç½®æ•°æ®åº“ç›¸å…³çš„ç¯å¢ƒï¼Œä¾‹å¦‚äº‹åŠ¡ç®¡ç†å™¨ï¼Œè¿æ¥æ± ç›¸å…³å‚æ•°ç­‰ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--è®¾ç½®é»˜è®¤ç¯å¢ƒ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> &lt;</span><span style="color:#7EE787;">environments</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">default</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;development&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--è®¾ç½®è¯¥ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">environment</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;development&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">transactionManager</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;JDBC&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">dataSource</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;POOLED&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#8B949E;">&lt;!--è·å–é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼æ¥è®¾ç½®è¿æ¥ç›¸å…³å‚æ•°--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;driver&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.driver}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;url&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.url}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.username}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;password&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;${jdbc.password}&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">dataSource</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">environment</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">environments</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_7-5-mappers" tabindex="-1">7.5 mappers <a class="header-anchor" href="#_7-5-mappers" aria-hidden="true">#</a></h3><p>â€‹ è¯¥æ ‡ç­¾çš„ä½œç”¨æ˜¯åŠ è½½æ˜ å°„çš„ï¼ŒåŠ è½½æ–¹å¼æœ‰å¦‚ä¸‹å‡ ç§ï¼ˆ<strong>ä¸»è¦ä½¿ç”¨çš„æ˜¯ç¬¬å››ç§</strong>ï¼‰ï¼š</p><p>â€‹ â‘ ä½¿ç”¨ç›¸å¯¹äºç±»åè·¯å¾„çš„èµ„æºå¼•ç”¨ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!-- ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resource</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org/mybatis/builder/AuthorMapper.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resource</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org/mybatis/builder/BlogMapper.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resource</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org/mybatis/builder/PostMapper.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>â‘¡ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!-- ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">url</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;file:///var/mappers/AuthorMapper.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">url</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;file:///var/mappers/BlogMapper.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">url</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;file:///var/mappers/PostMapper.xml&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>â‘¢ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»åï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!-- ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.mybatis.builder.AuthorMapper&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.mybatis.builder.BlogMapper&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.mybatis.builder.PostMapper&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>â‘£å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!-- å®šä¹‰daoæ¥å£æ‰€åœ¨çš„åŒ….è¦æ±‚xmlæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„å’Œdaoæ¥å£çš„åŒ…åè¦å¯¹åº”ï¼ --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">package</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;org.mybatis.builder&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_8-æ‰“å°æ—¥å¿—" tabindex="-1">8.æ‰“å°æ—¥å¿— <a class="header-anchor" href="#_8-æ‰“å°æ—¥å¿—" aria-hidden="true">#</a></h2><p>â‘ log4jé…ç½® åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºlog4j.propertiesæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark"><code><span class="line"><span style="color:#c9d1d9;">### direct log messages to stdout ###</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.stdout.Target=System.out</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span>
<span class="line"><span style="color:#c9d1d9;">### direct messages to file mylog.log ###</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.file=org.apache.log4j.FileAppender</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.file.File=c:/mylog.log</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.file.layout=org.apache.log4j.PatternLayout</span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.appender.file.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span>
<span class="line"><span style="color:#c9d1d9;">### set log levels - for more verbose logging change &#39;info&#39; to &#39;debug&#39; ###</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span>
<span class="line"><span style="color:#c9d1d9;">log4j.rootLogger=debug, stdout</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>â‘¡å¼•å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;log4j&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;log4j&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;1.2.17&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_9-è·å–å‚æ•°æ—¶-å’Œ-çš„åŒºåˆ«-é¢è¯•é—®é¢˜" tabindex="-1">9.è·å–å‚æ•°æ—¶#{}å’Œ${}çš„åŒºåˆ«ï¼ˆé¢è¯•é—®é¢˜ï¼‰ <a class="header-anchor" href="#_9-è·å–å‚æ•°æ—¶-å’Œ-çš„åŒºåˆ«-é¢è¯•é—®é¢˜" aria-hidden="true">#</a></h2><p>â€‹ å¦‚æœä½¿ç”¨#{}ä»–æ˜¯é¢„ç¼–è¯‘çš„sqlå¯ä»¥é˜²æ­¢SQLæ³¨å…¥æ”»å‡»</p><p>â€‹ å¦‚æœä½¿ç”¨${}ä»–æ˜¯ç›´æ¥æŠŠå‚æ•°å€¼æ‹¿æ¥è¿›è¡Œæ‹¼æ¥ï¼Œè¿™æ ·ä¼šæœ‰SQLæ³¨å…¥çš„é£é™©</p><p>å¦‚æœä½¿ç”¨çš„æ˜¯#{}æ¥è·å–å‚æ•°å€¼æ—¥å¿—å¦‚ä¸‹ï¼š</p><p>Preparing: select * from user where id = ? and username = ? and age = ? and address = ?</p><p>Parameters:2(Integer)å¿«ä¹é£ç”·(String),29(Integer),åŒ—äº¬(String)</p><p>å¦‚æœä½¿ç”¨${}æ¥è·å–å‚æ•°å€¼æ—¥å¿—å¦‚ä¸‹ï¼š</p><p>Preparing: select * from user where id = 2 and username = å¿«ä¹é£ç”· and age = 29 and address = åŒ—äº¬</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;"> //ä½¿ç”¨$ç¬¦å·è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œæ‹¼æ¥å¼çš„æŸ¥æ‰¾ï¼Œå¼•å·é‡Œé¢çš„å€¼ä¼šè¢«è‡ªåŠ¨è§£æå‡ºæ¥ï¼Œä»¥è‡³äºæŠŠå€¼å½“æˆæ˜¯åˆ—æ¥æŸ¥æ‰¾ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œè€Œä¸”ä¼šæœ‰è¢«SQLæ³¨å…¥çš„é£é™©ï¼Œä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼</span></span>
<span class="line"><span style="color:#C9D1D9;">--select * from user where id = ${id} and username = ${username} and age = ${age} and address = ${address}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>$</code> ç¬¦å·å¤§æ‹¬å·å¯ä»¥ç”¨æ¥åŠ¨æ€å˜æ¢è¡¨åï¼Œæä¾›ç»™ç®¡ç†å‘˜æ¥ä½¿ç”¨ï¼Œä¸è¦æä¾›ç»™æ™®é€šç”¨æˆ·æ¥ä½¿ç”¨ï¼Œä¸ç„¶è¿˜æ˜¯ä¼šæœ‰SQLæ³¨å…¥çš„é£é™©çš„ã€‚</p><h2 id="mybatis-02" tabindex="-1">Mybatis-02 <a class="header-anchor" href="#mybatis-02" aria-hidden="true">#</a></h2><h2 id="_1-æ³¨è§£å¼€å‘" tabindex="-1">1.æ³¨è§£å¼€å‘ <a class="header-anchor" href="#_1-æ³¨è§£å¼€å‘" aria-hidden="true">#</a></h2><p>â€‹ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ³¨è§£çš„å½¢å¼æ¥è¿›è¡Œå¼€å‘ï¼Œç”¨æ³¨è§£æ¥æ›¿æ¢æ‰xmlã€‚ä½¿ç”¨æ³¨è§£æ¥æ˜ å°„ç®€å•è¯­å¥ä¼šä½¿ä»£ç æ˜¾å¾—æ›´åŠ ç®€æ´ï¼Œä½†å¯¹äºç¨å¾®å¤æ‚çš„è¯­å¥ï¼ŒJavaæ³¨è§£ä¸ä»…åŠ›ä¸ä»å¿ƒï¼Œè¿˜ä¼šè®©ä½ æœ¬å°±å¤æ‚çš„SQLè¯­å¥æ›´åŠ æ··ä¹±ä¸å ªã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å®é™…ä¼ä¸šå¼€å‘ä¸­ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨xmlçš„å½¢å¼ã€‚</p><h3 id="_1-1-æ­¥éª¤" tabindex="-1">1.1 æ­¥éª¤ <a class="header-anchor" href="#_1-1-æ­¥éª¤" aria-hidden="true">#</a></h3><p>â‘ åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®mapperæ¥å£æ‰€åœ¨çš„åŒ…å</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">package</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.dao&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">package</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mappers</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>â‘¡åœ¨æ¥å£å¯¹åº”æ–¹æ³•ä¸Šä½¿ç”¨æ³¨è§£æ¥é…ç½®éœ€è¦æ‰§è¡Œçš„SQL</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">UserDao</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Select</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;select * from user&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    List&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#C9D1D9;">&gt; </span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Select</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;select * from user where id = 2&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    User </span><span style="color:#D2A8FF;">findUser</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Select</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;select * from user where id = #{id}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    User </span><span style="color:#D2A8FF;">findById</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Select</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;select * from user where id = #{id} and username = #{username} and age = #{age} and address = #{address}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    User </span><span style="color:#D2A8FF;">findByUser</span><span style="color:#C9D1D9;">(User </span><span style="color:#FFA657;">user</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Select</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;select * from user where id = #{id} and username = #{username} and age = #{age} and address = #{address}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    User </span><span style="color:#D2A8FF;">findByMap</span><span style="color:#C9D1D9;">(Map </span><span style="color:#FFA657;">map</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    User </span><span style="color:#D2A8FF;">findByCondition</span><span style="color:#C9D1D9;">(@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">) Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">,@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">) String </span><span style="color:#FFA657;">username</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//æ–°å¢æ•°æ®</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Insert</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;insert into user values(null,#{username},#{age},#{address})&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">insertUser</span><span style="color:#C9D1D9;">(User </span><span style="color:#FFA657;">user</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//åˆ é™¤æ•°æ®</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Delete</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;delete from user where id = #{id}&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">deleteById</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//ä¿®æ”¹æ•°æ®</span></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Update</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;UPDATE USER SET username = #{username},age = #{age},address=#{address} where id = #{id}s&quot;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">updateUser</span><span style="color:#C9D1D9;">(User </span><span style="color:#FFA657;">user</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>â‘¢å’Œä¹‹å‰çš„ä¸€æ ·è·å–Mapperè°ƒç”¨æ–¹æ³•å³å¯</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">static</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">main</span><span style="color:#C9D1D9;">(</span><span style="color:#FF7B72;">String</span><span style="color:#C9D1D9;">[] args) throws IOException {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//å®šä¹‰mybatisé…ç½®æ–‡ä»¶çš„è·¯å¾„</span></span>
<span class="line"><span style="color:#C9D1D9;">        String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">resource</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;mybatis-config.xml&quot;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">        InputStream</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">inputStream</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> Resources.</span><span style="color:#D2A8FF;">getResourceAsStream</span><span style="color:#C9D1D9;">(resource);</span></span>
<span class="line"><span style="color:#C9D1D9;">        SqlSessionFactory</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sqlSessionFactory</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">SqlSessionFactoryBuilder</span><span style="color:#C9D1D9;">().</span><span style="color:#D2A8FF;">build</span><span style="color:#C9D1D9;">(inputStream);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–Sqlsessionå¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        SqlSession</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">sqlSession</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> sqlSessionFactory.</span><span style="color:#D2A8FF;">openSession</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è·å–UserDaoå®ç°ç±»å¯¹è±¡</span></span>
<span class="line"><span style="color:#C9D1D9;">        UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> sqlSession.</span><span style="color:#D2A8FF;">getMapper</span><span style="color:#C9D1D9;">(UserDao.class);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//è°ƒç”¨æ–¹æ³•æµ‹è¯•</span></span>
<span class="line"><span style="color:#C9D1D9;">        List</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">userList</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> userDao.</span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">        System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(userList);</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">//é‡Šæ”¾èµ„æº</span></span>
<span class="line"><span style="color:#C9D1D9;">        sqlSession.</span><span style="color:#D2A8FF;">close</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h1 id="_2-åŠ¨æ€sql" tabindex="-1">2.åŠ¨æ€SQL <a class="header-anchor" href="#_2-åŠ¨æ€sql" aria-hidden="true">#</a></h1><p>â€‹ åœ¨å®é™…å¼€å‘ä¸­çš„SQLè¯­å¥æ²¡æœ‰ä¹‹å‰é‚£ä¹ˆç®€å•ï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦æ ¹æ®ä¼ å…¥çš„å‚æ•°æƒ…å†µåŠ¨æ€ç”ŸæˆSQLè¯­å¥ã€‚Mybatisæä¾›äº†åŠ¨æ€SQLç›¸å…³çš„æ ‡ç­¾è®©æˆ‘ä»¬ä½¿ç”¨ã€‚</p><h3 id="_2-1-if" tabindex="-1">2.1 if <a class="header-anchor" href="#_2-1-if" aria-hidden="true">#</a></h3><p>â€‹ å¯ä»¥ä½¿ç”¨ifæ ‡ç­¾è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œæ¡ä»¶æˆç«‹æ‰ä¼šæŠŠifæ ‡ç­¾ä¸­çš„å†…å®¹æ‹¼æ¥åˆ°SQLè¯­å¥ä¸­ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select * from user where id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        and username = #{username}</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p id="">å¦‚æœå‚æ•°usernameä¸ºnullåˆ™æ‰§è¡Œsqlä¸ºï¼šselect * from user where id = #</p><p username="">å¦‚æœå‚æ•°usernameä¸ºnullåˆ™æ‰§è¡Œsqlä¸ºï¼šselect * from user where id = #{id} and username = #</p><p><strong>æ³¨æ„ï¼šåœ¨testå±æ€§ä¸­è¡¨ç¤ºå‚æ•°çš„æ—¶å€™ä¸éœ€è¦å†™#{},å†™äº†ä¼šå‡ºé—®é¢˜ã€‚</strong></p><h3 id="_2-2-trim" tabindex="-1">2.2 trim <a class="header-anchor" href="#_2-2-trim" aria-hidden="true">#</a></h3><p>â€‹ å¯ä»¥ä½¿ç”¨è¯¥æ ‡ç­¾åŠ¨æ€çš„æ·»åŠ å‰ç¼€æˆ–åç¼€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥æ ‡ç­¾åŠ¨æ€çš„æ¶ˆé™¤å‰ç¼€ã€‚</p><p>2.2.1prefixOverrideså±æ€§</p><p>â€‹ ç”¨æ¥è®¾ç½®éœ€è¦è¢«æ¸…é™¤çš„å‰ç¼€ï¼Œå¤šä¸ªå€¼å¯ä»¥ç”¨|åˆ†éš”ï¼Œæ³¨æ„|å‰åä¸è¦æœ‰ç©ºæ ¼ã€‚ä¾‹å¦‚:and|or</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;con.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">prefixOverrides</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;and|or&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        and</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æœ€ç»ˆæ‰§è¡Œçš„sqlä¸ºï¼š select * from user</p><h3 id="_2-2-2-suffixoverrideså±æ€§" tabindex="-1">2.2.2 suffixOverrideså±æ€§ <a class="header-anchor" href="#_2-2-2-suffixoverrideså±æ€§" aria-hidden="true">#</a></h3><p>â€‹ ç”¨æ¥è®¾ç½®éœ€è¦è¢«æ¸…é™¤çš„åç¼€ï¼Œå¤šä¸ªå€¼å¯ä»¥ç”¨|åˆ†éš”ï¼Œæ³¨æ„|å‰åä¸è¦æœ‰ç©ºæ ¼ã€‚ä¾‹å¦‚ï¼šand|or</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">suffixOverrides</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;and|or&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">     id = #{id} and</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æœ€ç»ˆæ‰§è¡Œçš„SQLä¸º: select * from user å»æ‰äº†åç¼€and</p><h3 id="_2-2-3prefixå±æ€§" tabindex="-1">2.2.3prefixå±æ€§ <a class="header-anchor" href="#_2-2-3prefixå±æ€§" aria-hidden="true">#</a></h3><p>â€‹ ç”¨æ¥è®¾ç½®åŠ¨æ€æ·»åŠ çš„å‰ç¼€ï¼Œå¦‚æœæ ‡ç­¾ä¸­æœ‰å†…å®¹å°±ä¼šæ·»åŠ ä¸Šè®¾ç½®çš„å‰ç¼€ï¼Œå¦‚æœæ ‡ç­¾ä¸­æ²¡æœ‰å†…å®¹å°±ä¸ä¼šæ·»åŠ ä¸Šè®¾ç½®çš„å‰ç¼€</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findBYCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">prefix</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;where&quot;</span><span style="color:#C9D1D9;"> &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">     1=1</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æœ€ç»ˆæ‰§è¡Œçš„SQLä¸ºï¼šselect * from user where 1= 1 åŠ¨æ€å¢åŠ äº†å‰ç¼€where</p><h3 id="_2-2-4suffixå±æ€§" tabindex="-1">2.2.4suffixå±æ€§ <a class="header-anchor" href="#_2-2-4suffixå±æ€§" aria-hidden="true">#</a></h3><p>â€‹ ç”¨æ¥è®¾ç½®åŠ¨æ€æ·»åŠ çš„åç¼€ï¼Œå¦‚æœæ ‡ç­¾ä¸­æœ‰å†…å®¹å°±ä¼šæ·»åŠ ä¸Šè®¾ç½®çš„åç¼€ï¼Œå¦‚æœæ ‡ç­¾ä¸­æ²¡æœ‰å†…å®¹å°±ä¸ä¼šæ·»åŠ ä¸Šè®¾ç½®çš„åç¼€</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findBYCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">suffix</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1=1&quot;</span><span style="color:#C9D1D9;"> &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">     where</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æœ€ç»ˆæ‰§è¡Œçš„SQLä¸ºï¼šselect * from user where 1=1 åŠ¨æ€å¢åŠ äº†åç¼€1=1</p><p>2.2.5 åŠ¨æ€æ·»åŠ å‰ç¼€whereå¹¶ä¸”æ¶ˆé™¤andæˆ–è€…or</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findByCondition</span><span style="color:#C9D1D9;">(@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">) Integer id,@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">) String username);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">prefix</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;where&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">prefixOverrides</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;and|or&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            username = #{username}</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è°ƒç”¨æ–¹æ³•çš„æ—¶å€™å¦‚æœä¼ å…¥çš„idå’Œusernameä¸ºnullåˆ™SQLä¸ºï¼š <strong>select * from user</strong></p><p>è°ƒç”¨æ–¹æ³•çš„æ—¶å€™å¦‚æœä¼ å…¥çš„idä¸ºnullï¼Œusernameä¸ä¸ºnullï¼Œåˆ™æ‰§è¡Œçš„SQLä¸º: <strong>select * from user where username = ?</strong></p><h3 id="_2-2-where" tabindex="-1">2.2 where <a class="header-anchor" href="#_2-2-where" aria-hidden="true">#</a></h3><p>â€‹ whereæ ‡ç­¾ç­‰ä»·äºï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">prefix</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;where&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">prefixOverrides</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;and|or&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â€‹ å¯ä»¥ä½¿ç”¨whereæ ‡ç­¾åŠ¨æ€çš„æ‹¼æ¥whereå¹¶ä¸”å»å¤„å‰ç¼€çš„andæˆ–è€…orã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findByCondition</span><span style="color:#C9D1D9;">(@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">) Integer id,@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">) String username);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByCondition&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">where</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                username = #{username}</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">where</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è°ƒç”¨æ–¹æ³•çš„æ—¶å€™å¦‚æœä¼ å…¥çš„idå’Œusernameä¸ºnullåˆ™SQLä¸ºï¼š <strong>select * from user</strong></p><p>è°ƒç”¨æ–¹æ³•çš„æ—¶å€™å¦‚æœä¼ å…¥çš„idä¸ºnullï¼Œusernameä¸ä¸ºnullï¼Œåˆ™æ‰§è¡Œçš„SQLä¸º: <strong>select * from user where username = ?</strong></p><h3 id="_2-3-set" tabindex="-1">2.3 set <a class="header-anchor" href="#_2-3-set" aria-hidden="true">#</a></h3><p>â€‹ setæ ‡ç­¾ç­‰ä»·äº</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;"> prefix</span><span style="color:#A5D6FF;">&quot;set&quot;</span><span style="color:#C9D1D9;"> suffixOverrides</span><span style="color:#A5D6FF;">&quot;,&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">trim</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>â€‹ å¯ä»¥ä½¿ç”¨setæ ‡ç­¾åŠ¨æ€çš„æ‹¼æ¥setå¹¶ä¸”å»å¤„åç¼€çš„é€—å·ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">update</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;updateUser&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    UPDATE USER</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">set</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            username = #{username},</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            age = #{age},</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            address=#{address},</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">if</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">set</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    where id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">update</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>å¦‚æœè°ƒç”¨æ–¹æ³•æ—¶ä¼ å…¥çš„Userå¯¹è±¡çš„idä¸º2ï¼Œusernameä¸ä¸ºnullï¼Œå…¶ä»–å±æ€§éƒ½ä¸ºnullåˆ™æœ€ç»ˆæ‰§è¡Œçš„SQLä¸ºï¼šupdate user set username = ? where id = ?</p><h3 id="_2-4-foreach" tabindex="-1">2.4 foreach <a class="header-anchor" href="#_2-4-foreach" aria-hidden="true">#</a></h3><p>â€‹ å¯ä»¥ä½¿ç”¨foreachæ ‡ç­¾éå†é›†åˆæˆ–è€…æ•°ç»„ç±»å‹çš„å‚æ•°ï¼Œè·å–å…¶ä¸­å…ƒç´ æ‹¿æ¥åŠ¨æ€çš„æ‹¼æ¥SQLè¯­å¥ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">List</span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;">User</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">findByIds</span><span style="color:#C9D1D9;">(@</span><span style="color:#FF7B72;">Param</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;ids&quot;</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">Integer</span><span style="color:#C9D1D9;">[] ids);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¦‚æœæœŸæœ›åŠ¨æ€çš„æ ¹æ®ä¸–çºªä¼ å…¥çš„æ•°ç»„çš„é•¿åº¦æ‹¼æ¥SQLè¯­å¥ã€‚ä¾‹å¦‚ä¼ å…¥é•¿åº¦ä¸º4ä¸ªæ•°ç»„æœ€ç»ˆæ‰§è¡Œçš„SQLè¯­å¥ä¸ºï¼š</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">*</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> User </span><span style="color:#FF7B72;">where</span><span style="color:#C9D1D9;"> id </span><span style="color:#FF7B72;">in</span><span style="color:#C9D1D9;">(? , ? , ? , ?)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>åˆ™åœ¨xmlæ˜ å°„æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByIds&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select * from User</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">where</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--        é›†åˆ             åˆšå¼€å§‹è¦æ‹¼æ¥çš„å­—æ®µ    ç»“æŸ        åå­—       åˆ†éš”ç¬¦--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">foreach</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">collection</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;ids&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">open</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id in(&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">close</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;)&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">item</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">separator</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;,&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">foreach</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">where</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>cllection:è¡¨ç¤ºéå†çš„å‚æ•°ã€‚</strong></p><p><strong>open:è¡¨ç¤ºéå†å¼€å§‹æ—¶æ‹¼æ¥çš„è¯­å¥</strong></p><p><strong>itemï¼šè¡¨ç¤ºç»™å½“å‰éå†åˆ°çš„å…ƒç´ å–çš„åå­—</strong></p><p><strong>separatorï¼šè¡¨ç¤ºæ¯éå†å®Œä¸€æ¬¡æ‹¼æ¥çš„åˆ†éš”ç¬¦</strong></p><p><strong>closeï¼šè¡¨ç¤ºæœ€åä¸€æ¬¡éå†å®Œæ‹¼æ¥çš„è¯­å¥</strong></p><p><strong>æ³¨æ„ï¼šå¦‚æœæ–¹æ³•å‚æ•°æ˜¯æ•°ç»„ç±»å‹ï¼Œé»˜è®¤çš„å‚æ•°åæ˜¯arrayï¼Œå¦‚æœæ–¹æ³•å‚æ•°æ˜¯listé›†åˆé»˜è®¤å‚æ•°åæ˜¯listã€‚å»ºè®®é‡åˆ°æ•°ç»„æˆ–è€…é›†åˆç±»å‹çš„å‚æ•°ç»Ÿä¸€ä½¿ç”¨@Paramæ³¨è§£è¿›è¡Œå‘½åã€‚</strong></p><h3 id="_2-5-chooseã€whenã€otherwise" tabindex="-1">2.5 chooseã€whenã€otherwise <a class="header-anchor" href="#_2-5-chooseã€whenã€otherwise" aria-hidden="true">#</a></h3><p>â€‹ å½“æˆ‘ä»¬ä¸æƒ³ä½¿ç”¨æ‰€æœ‰çš„æ¡ä»¶ï¼Œè€Œåªæ˜¯æƒ³ä»å¤šä¸ªæ¡ä»¶ä¸­é€‰æ‹©ä¸€ä¸ªä½¿ç”¨æ—¶ã€‚å¯ä»¥ä½¿ç”¨shooseç³»åˆ—æ ‡ç­¾ã€‚ç±»ä¼¼äºjavaä¸­çš„switchã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ç±»ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">LIst</span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;">User</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">selectChose</span><span style="color:#C9D1D9;">(User user)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æœŸæœ›ï¼š</p><p>â€‹ å¦‚æœuserå¯¹è±¡çš„idä¸ä¸ºç©ºæ—¶å°±é€šè¿‡idæŸ¥è¯¢ã€‚</p><p>â€‹ å¦‚æœidä¸ºnullï¼Œusernameä¸ä¸ºnullå°±é€šè¿‡usernameæŸ¥è¯¢ã€‚</p><p>â€‹ å¦‚æœidå’Œusernameéƒ½ä¸ºnullå°±æŸ¥è¯¢idä¸º3çš„ç”¨æˆ·ã€‚</p><p>xmlæ˜ å°„æ–‡ä»¶å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;selectChose&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select * from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">where</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">choose</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">when</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">when</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">when</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">test</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username!=null&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">               username = #{username}</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">when</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">otherwise</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">                id = 3</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;/</span><span style="color:#7EE787;">otherwise</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">choose</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">where</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li><p><strong>chooseç±»ä¼¼äºjavaä¸­çš„switch</strong></p></li><li><p><strong>whenç±»ä¼¼äºjavaä¸­çš„case</strong></p></li><li><p><strong>otherwiseç±»ä¼¼äºjavaä¸­çš„default</strong></p><p>ä¸€ä¸ªchooseæ ‡ç­¾ä¸­æœ€å¤šåªä¼šæœ‰ä¸€ä¸ªwhenä¸­çš„åˆ¤æ–­æˆç«‹ã€‚ä»ä¸Šåˆ°ä¸‹å»è¿›è¡Œåˆ¤æ–­ã€‚å¦‚æœæˆç«‹äº†å°±æŠŠæ ‡ç­¾ä½“çš„å†…å®¹æ‹¼æ¥åˆ°SQLä¸­ï¼Œå¹¶ä¸”ä¸ä¼šè¿›è¡Œå…¶ä»–whençš„åˆ¤æ–­å’Œæ‹¼æ¥ã€‚å¦‚æœæ‰€æœ‰çš„whenéƒ½ä¸æˆç«‹åˆ™æ‹¼æ¥otherwiseä¸­çš„è¯­å¥ã€‚</p></li></ul><h2 id="_3-sqlç‰‡æ®µæŠ½å–" tabindex="-1">3.SQLç‰‡æ®µæŠ½å– <a class="header-anchor" href="#_3-sqlç‰‡æ®µæŠ½å–" aria-hidden="true">#</a></h2><p>â€‹ æˆ‘ä»¬åœ¨xmlæ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLè¯­å¥çš„æ—¶å€™å¯èƒ½ä¼šé‡åˆ°é‡å¤çš„SQLç‰‡æ®µã€‚è¿™ç§SQLç‰‡æ®µæˆ‘ä»¬å¯ä»¥ä½¿ç”¨SQLæ ‡ç­¾æ¥è¿›è¡ŒæŠ½å–ã€‚ç„¶ååœ¨éœ€è¦ä½¿ç”¨çš„æ—¶å€™ç”¨includeæ ‡ç­¾è¿›è¡Œä½¿ç”¨ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">sql</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseSelect&quot;</span><span style="color:#C9D1D9;">&gt;id,username,age,address&lt;/</span><span style="color:#7EE787;">sql</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findAll&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select &lt;</span><span style="color:#7EE787;">include</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">refid</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseSelect&quot;</span><span style="color:#C9D1D9;">/&gt; from user</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>æœ€ç»ˆæ‰§è¡Œçš„SQLä¸ºï¼šselect id,username,age,address from user</strong></p><h1 id="mybatis-03" tabindex="-1">Mybatis-03 <a class="header-anchor" href="#mybatis-03" aria-hidden="true">#</a></h1><h2 id="_0-æ¡ˆä¾‹ç¯å¢ƒ" tabindex="-1">0. æ¡ˆä¾‹ç¯å¢ƒ <a class="header-anchor" href="#_0-æ¡ˆä¾‹ç¯å¢ƒ" aria-hidden="true">#</a></h2><h3 id="_0-1-æ¡ˆä¾‹æ•°æ®åˆå§‹åŒ–sql" tabindex="-1">0.1 æ¡ˆä¾‹æ•°æ®åˆå§‹åŒ–sql <a class="header-anchor" href="#_0-1-æ¡ˆä¾‹æ•°æ®åˆå§‹åŒ–sql" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DATABASE</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">/*!32312 IF NOT EXISTS*/</span><span style="color:#A5D6FF;">`mybatis_db`</span><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">/*!40100 DEFAULT CHARACTER SET utf8 */</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">USE</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`mybatis_db`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">DROP</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">IF</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">EXISTS</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`orders`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> `</span><span style="color:#D2A8FF;">orders</span><span style="color:#C9D1D9;">` (</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">NOT NULL</span><span style="color:#C9D1D9;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`createtime`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">timestamp</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NOT NULL</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> CURRENT_TIMESTAMP </span><span style="color:#FF7B72;">ON</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">UPDATE</span><span style="color:#C9D1D9;"> CURRENT_TIMESTAMP COMMENT </span><span style="color:#A5D6FF;">&#39;åˆ›å»ºæ—¶é—´&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`price`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;"> COMMENT </span><span style="color:#A5D6FF;">&#39;ä»·æ ¼&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`remark`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">varchar</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;"> COMMENT </span><span style="color:#A5D6FF;">&#39;å¤‡æ³¨&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;"> COMMENT </span><span style="color:#A5D6FF;">&#39;ç”¨æˆ·id&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">PRIMARY KEY</span><span style="color:#C9D1D9;"> (</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">) ENGINE</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">InnoDB AUTO_INCREMENT</span><span style="color:#FF7B72;">=</span><span style="color:#79C0FF;">4</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> CHARSET</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">utf8;</span></span>
<span class="line"><span style="color:#FF7B72;">insert  into</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`orders`</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`createtime`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`price`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`remark`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">values</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;2014-06-26 16:55:43&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">2000</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;æ— &#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;2021-02-23 16:55:57&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">3000</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;æ— &#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;2021-02-23 16:56:21&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">4000</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;æ— &#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#FF7B72;">DROP</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">IF</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">EXISTS</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`role`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> `</span><span style="color:#D2A8FF;">role</span><span style="color:#C9D1D9;">` (</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">NOT NULL</span><span style="color:#C9D1D9;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`name`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">varchar</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;"> COMMENT </span><span style="color:#A5D6FF;">&#39;è§’è‰²å&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`desc`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">varchar</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;"> COMMENT </span><span style="color:#A5D6FF;">&#39;è§’è‰²æè¿°&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">PRIMARY KEY</span><span style="color:#C9D1D9;"> (</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">) ENGINE</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">InnoDB AUTO_INCREMENT</span><span style="color:#FF7B72;">=</span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> CHARSET</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">/*Data for the table `role` */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">insert  into</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`role`</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`name`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`desc`</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">values</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;æ€»ç»ç†&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;ä¸€äººä¹‹ä¸‹&#39;</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;CFO&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">/*Table structure for table `user` */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">DROP</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">IF</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">EXISTS</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`user`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> `</span><span style="color:#D2A8FF;">user</span><span style="color:#C9D1D9;">` (</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">NOT NULL</span><span style="color:#C9D1D9;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`username`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">varchar</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">50</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`age`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`address`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">varchar</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">50</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#FF7B72;">PRIMARY KEY</span><span style="color:#C9D1D9;"> (</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">) ENGINE</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">InnoDB AUTO_INCREMENT</span><span style="color:#FF7B72;">=</span><span style="color:#79C0FF;">33</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> CHARSET</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">/*Data for the table `user` */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">insert  into</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`user`</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`username`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`age`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`address`</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">values</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;pdd&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">26</span><span style="color:#C9D1D9;">,</span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;UZI&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">19</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;ä¸Šæµ·11&#39;</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">4</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">&#39;RF&#39;</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">19</span><span style="color:#C9D1D9;">,</span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">/*Table structure for table `user_role` */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">DROP</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">IF</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">EXISTS</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`user_role`</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">CREATE</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">TABLE</span><span style="color:#C9D1D9;"> `</span><span style="color:#D2A8FF;">user_role</span><span style="color:#C9D1D9;">` (</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#A5D6FF;">`role_id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">int</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">11</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">NULL</span></span>
<span class="line"><span style="color:#C9D1D9;">) ENGINE</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">InnoDB </span><span style="color:#FF7B72;">DEFAULT</span><span style="color:#C9D1D9;"> CHARSET</span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">/*Data for the table `user_role` */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">insert  into</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">`user_role`</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;">,</span><span style="color:#A5D6FF;">`role_id`</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">values</span><span style="color:#C9D1D9;"> (</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">2</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">),(</span><span style="color:#79C0FF;">3</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h3 id="_0-2-å®ä½“ç±»" tabindex="-1">0.2 å®ä½“ç±» <a class="header-anchor" href="#_0-2-å®ä½“ç±»" aria-hidden="true">#</a></h3><h4 id="_0-2-1-user-java" tabindex="-1">0.2.1 User.java <a class="header-anchor" href="#_0-2-1-user-java" aria-hidden="true">#</a></h4><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">User</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">id;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">username;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">age;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">address;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Override</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;User{&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;id=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> id </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, username=&#39;&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> username </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;</span><span style="color:#79C0FF;">\&#39;</span><span style="color:#A5D6FF;">&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, age=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> age </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, address=&#39;&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> address </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;</span><span style="color:#79C0FF;">\&#39;</span><span style="color:#A5D6FF;">&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&#39;}&#39;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Integer </span><span style="color:#D2A8FF;">getId</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setId</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getUsername</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> username;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setUsername</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">username</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.username </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> username;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Integer </span><span style="color:#D2A8FF;">getAge</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setAge</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">age</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.age </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getAddress</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> address;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setAddress</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">address</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.address </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> address;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">User</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">User</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">, String </span><span style="color:#FFA657;">username</span><span style="color:#C9D1D9;">, Integer </span><span style="color:#FFA657;">age</span><span style="color:#C9D1D9;">, String </span><span style="color:#FFA657;">address</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.username </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> username;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.age </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> age;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.address </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> address;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><h4 id="_0-2-2-order-java" tabindex="-1">0.2.2 Order.java <a class="header-anchor" href="#_0-2-2-order-java" aria-hidden="true">#</a></h4><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Order</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Date</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">createtime;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">price;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">remark;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userId;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Override</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Order{&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;id=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> id </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, createtime=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> createtime </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, price=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> price </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, remark=&#39;&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> remark </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;</span><span style="color:#79C0FF;">\&#39;</span><span style="color:#A5D6FF;">&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, userId=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> userId </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&#39;}&#39;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">   </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Order</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Integer </span><span style="color:#D2A8FF;">getId</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setId</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Date </span><span style="color:#D2A8FF;">getCreatetime</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> createtime;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setCreatetime</span><span style="color:#C9D1D9;">(Date </span><span style="color:#FFA657;">createtime</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.createtime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> createtime;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Integer </span><span style="color:#D2A8FF;">getPrice</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> price;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setPrice</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">price</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.price </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> price;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getRemark</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> remark;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setRemark</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">remark</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.remark </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> remark;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Integer </span><span style="color:#D2A8FF;">getUserId</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> userId;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setUserId</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">userId</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.userId </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> userId;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Order</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">, Date </span><span style="color:#FFA657;">createtime</span><span style="color:#C9D1D9;">, Integer </span><span style="color:#FFA657;">price</span><span style="color:#C9D1D9;">, String </span><span style="color:#FFA657;">remark</span><span style="color:#C9D1D9;">, Integer </span><span style="color:#FFA657;">userId</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.createtime </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> createtime;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.price </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> price;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.remark </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> remark;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.userId </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> userId;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><h4 id="_0-2-3-role-java" tabindex="-1">0.2.3 Role.java <a class="header-anchor" href="#_0-2-3-role-java" aria-hidden="true">#</a></h4><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">class</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">Role</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> Integer</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> String</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">desc;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    @</span><span style="color:#FF7B72;">Override</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">toString</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&quot;Role{&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;id=&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> id </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, name=&#39;&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> name </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;</span><span style="color:#79C0FF;">\&#39;</span><span style="color:#A5D6FF;">&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&quot;, desc=&#39;&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> desc </span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;</span><span style="color:#79C0FF;">\&#39;</span><span style="color:#A5D6FF;">&#39;</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">+</span></span>
<span class="line"><span style="color:#C9D1D9;">                </span><span style="color:#A5D6FF;">&#39;}&#39;</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Role</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> Integer </span><span style="color:#D2A8FF;">getId</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setId</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getName</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setName</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.name </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> String </span><span style="color:#D2A8FF;">getDesc</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> desc;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">void</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">setDesc</span><span style="color:#C9D1D9;">(String </span><span style="color:#FFA657;">desc</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.desc </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> desc;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">Role</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">id</span><span style="color:#C9D1D9;">, String </span><span style="color:#FFA657;">name</span><span style="color:#C9D1D9;">, String </span><span style="color:#FFA657;">desc</span><span style="color:#C9D1D9;">) {</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.id </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> id;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.name </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> name;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.desc </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> desc;</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h2 id="_1-resultmap" tabindex="-1">1. ResultMap <a class="header-anchor" href="#_1-resultmap" aria-hidden="true">#</a></h2><h3 id="_1-1-åŸºæœ¬ä½¿ç”¨" tabindex="-1">1.1 åŸºæœ¬ä½¿ç”¨ <a class="header-anchor" href="#_1-1-åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a></h3><p>â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨resultMapæ ‡ç­¾è‡ªå®šä¹‰ç»“æœé›†å’Œå®ä½“ç±»å±æ€§çš„æ˜ å°„è§„åˆ™ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--</span></span>
<span class="line"><span style="color:#8B949E;">	resultMap ç”¨æ¥è‡ªå®šä¹‰ç»“æœé›†å’Œå®ä½“ç±»çš„æ˜ å°„</span></span>
<span class="line"><span style="color:#8B949E;">		å±æ€§ï¼š</span></span>
<span class="line"><span style="color:#8B949E;">			id ç›¸å½“äºè¿™ä¸ªresultMapçš„å”¯ä¸€æ ‡è¯†</span></span>
<span class="line"><span style="color:#8B949E;">			type ç”¨æ¥æŒ‡å®šæ˜ å°„åˆ°å“ªä¸ªå®ä½“ç±»</span></span>
<span class="line"><span style="color:#8B949E;">	idæ ‡ç­¾ ç”¨æ¥æŒ‡å®šä¸»é”®åˆ—çš„æ˜ å°„è§„åˆ™</span></span>
<span class="line"><span style="color:#8B949E;">		å±æ€§ï¼š</span></span>
<span class="line"><span style="color:#8B949E;">			property è¦æ˜ å°„çš„å±æ€§å</span></span>
<span class="line"><span style="color:#8B949E;">			column  å¯¹åº”çš„åˆ—å</span></span>
<span class="line"><span style="color:#8B949E;">	resultæ ‡ç­¾ ç”¨æ¥æŒ‡å®šæ™®é€šåˆ—çš„æ˜ å°„è§„åˆ™</span></span>
<span class="line"><span style="color:#8B949E;">		å±æ€§ï¼š</span></span>
<span class="line"><span style="color:#8B949E;">			property è¦æ˜ å°„çš„å±æ€§å</span></span>
<span class="line"><span style="color:#8B949E;">			column å¯¹åº”çš„åˆ—å</span></span>
<span class="line"><span style="color:#8B949E;">--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user_id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userId&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findAll&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultMap</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select id,createtime,price,remark,user_id from ORDERS</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_1-2-è‡ªåŠ¨æ˜ å°„" tabindex="-1">1.2 è‡ªåŠ¨æ˜ å°„ <a class="header-anchor" href="#_1-2-è‡ªåŠ¨æ˜ å°„" aria-hidden="true">#</a></h3><p>â€‹ æˆ‘ä»¬å®šä¹‰resultMapæ—¶é»˜è®¤æƒ…å†µä¸‹è‡ªåŠ¨æ˜ å°„æ˜¯å¼€å¯çŠ¶æ€çš„ã€‚ä¹Ÿå°±æ˜¯å¦‚æœç»“æœé›†çš„åˆ—åå’Œæˆ‘ä»¬çš„å±æ€§åç›¸åŒæ˜¯ä¼šè‡ªåŠ¨æ˜ å°„çš„æˆ‘ä»¬åªéœ€è¦å†™ç‰¹æ®Šæƒ…å†µçš„æ˜ å°„å…³ç³»å³å¯ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>ä¸‹é¢è¿™ç§å†™æ³•å’Œä¸Šé¢çš„å†™æ³•ä¼šæœ‰ç›¸åŒçš„æ•ˆæœï¼Œå› ä¸ºå…¶ä»–å±æ€§çš„å±æ€§åå’Œç»“æœé›†çš„åˆ—åéƒ½æ˜¯ç›¸é€šçš„ä¼šè‡ªåŠ¨æ˜ å°„ã€‚</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--&lt;id column=&quot;id&quot; property=&quot;id&quot;&gt;&lt;/id&gt;--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--&lt;result column=&quot;createtime&quot; property=&quot;createtime&quot;&gt;&lt;/result&gt;--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--&lt;result column=&quot;price&quot; property=&quot;price&quot;&gt;&lt;/result&gt;--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--&lt;result column=&quot;remark&quot; property=&quot;remark&quot;&gt;&lt;/result&gt;--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user_id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userId&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--ä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„æ˜ å°„è§„åˆ™--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findAll&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultMap</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select id,createtime,price,remark,user_id from ORDERS</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>â€‹ å¦‚æœæœ‰éœ€è¦å¯ä»¥é€‰æ‹©å…³é—­è‡ªåŠ¨æ˜ å°„,å¯ä»¥æŠŠresultMapçš„autoMappingå±æ€§è®¾ç½®ä¸ºfalseã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">autoMapping</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;false&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user_id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userId&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findAll&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultMap</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    select id,createtime,price,remark,user_id from ORDERS</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_1-3-ç»§æ‰¿æ˜ å°„å…³ç³»" tabindex="-1">1.3 ç»§æ‰¿æ˜ å°„å…³ç³» <a class="header-anchor" href="#_1-3-ç»§æ‰¿æ˜ å°„å…³ç³»" aria-hidden="true">#</a></h3><p>â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨resultMapçš„extendså±æ€§æ¥æŒ‡å®šä¸€ä¸ªresultMapï¼Œä»è€Œå¤ç”¨é‡å¤çš„æ˜ å°„å…³ç³»é…ç½®ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseOrderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">autoMapping</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;false&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#8B949E;">&lt;!--ç»§æ‰¿çˆ¶mapé‡Œé¢çš„ä¸œè¥¿ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œåªéœ€è¦æ”¹å†™éœ€è¦æ”¹å†™çš„å†…å®¹å°±å¯ä»¥äº†--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">autoMapping</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;false&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseOrderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user_id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userId&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_2-å¤šè¡¨æŸ¥è¯¢" tabindex="-1">2.å¤šè¡¨æŸ¥è¯¢ <a class="header-anchor" href="#_2-å¤šè¡¨æŸ¥è¯¢" aria-hidden="true">#</a></h2><p>â€‹ æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æŸ¥è¯¢å¤šå¼ è¡¨çš„æ•°æ®æ‰å¯ä»¥å¾—åˆ°æˆ‘ä»¬è¦çš„ç»“æœã€‚</p><p>â€‹ æˆ‘ä»¬å¯ä»¥ç›´æ¥å†™ä¸€ä¸ªå¤šè¡¨å…³è”çš„SQLè¿›è¡ŒæŸ¥è¯¢ã€‚ä¹Ÿå¯ä»¥åˆ†æ­¥è¿›è¡Œå¤šæ¬¡çš„æŸ¥è¯¢æ¥æ‹¿åˆ°æˆ‘ä»¬éœ€è¦çš„ç»“æœã€‚</p><p>â€‹ Mybatiså°±æä¾›äº†å¯¹åº”çš„é…ç½®ï¼Œå¯ä»¥è®©æˆ‘ä»¬å»æ›´æ–¹ä¾¿çš„è¿›è¡Œç›¸åº”çš„æŸ¥è¯¢å’Œå¯¹åº”çš„ç»“æœé›†å¤„ç†ã€‚</p><h3 id="_2-1-å¤šè¡¨å…³è”æŸ¥è¯¢" tabindex="-1">2.1 å¤šè¡¨å…³è”æŸ¥è¯¢ <a class="header-anchor" href="#_2-1-å¤šè¡¨å…³è”æŸ¥è¯¢" aria-hidden="true">#</a></h3><h4 id="_2-1-1-ä¸€å¯¹ä¸€å…³ç³»" tabindex="-1">2.1.1 ä¸€å¯¹ä¸€å…³ç³» <a class="header-anchor" href="#_2-1-1-ä¸€å¯¹ä¸€å…³ç³»" aria-hidden="true">#</a></h4><p>â€‹ ä¸¤ä¸ªå®ä½“ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚ï¼ˆä¾‹å¦‚æˆ‘ä»¬éœ€è¦æŸ¥è¯¢è®¢å•ï¼Œè¦æ±‚è¿˜éœ€è¦ä¸‹å•ç”¨æˆ·çš„æ•°æ®ã€‚è¿™é‡Œçš„è®¢å•ç›¸å¯¹äºç”¨æˆ·æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚ï¼‰</p><p>ä¾‹å¦‚ï¼š</p><p>æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">//æ ¹æ®è®¢å•idæŸ¥è¯¢è®¢å•ï¼Œè¦æ±‚æŠŠä¸‹å•ç”¨æˆ·çš„ä¿¡æ¯ä¹ŸæŸ¥è¯¢å‡ºæ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">Order </span><span style="color:#D2A8FF;">findById</span><span style="color:#C9D1D9;">(Integer id);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å› ä¸ºå¾€Orderä¸­è¿˜èƒ½åŒ…å«ä¸‹å•ç”¨æˆ·çš„æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥åœ¨Orderä¸­å¢åŠ ä¸€ä¸ªå±æ€§</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> User</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">user;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>SQLè¯­å¥å¦‚ä¸‹</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">select</span><span style="color:#C9D1D9;"> </span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">o</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`createtime`</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`price`</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`remark`</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">uid</span><span style="color:#C9D1D9;">,u..</span><span style="color:#A5D6FF;">`username`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`age`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`address`</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">from</span></span>
<span class="line"><span style="color:#C9D1D9;">        orders o,user u</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">where</span></span>
<span class="line"><span style="color:#C9D1D9;">        o.</span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> u.</span><span style="color:#A5D6FF;">`id`</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">and</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">o</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span></span>
<span class="line"><span style="color:#C9D1D9;"> </span></span>
<span class="line"><span style="color:#C9D1D9;"> </span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">SELECT</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#79C0FF;">o</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`createtime`</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`price`</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`remark`</span><span style="color:#C9D1D9;">,o.</span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">uid</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`username`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`age`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`address`</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">FROM</span></span>
<span class="line"><span style="color:#C9D1D9;">        orders o,USER u</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">WHERE</span></span>
<span class="line"><span style="color:#C9D1D9;">        o.</span><span style="color:#A5D6FF;">`user_id`</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> u.</span><span style="color:#A5D6FF;">`id`</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#FF7B72;">AND</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">o</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> #{id}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ç»“æœé›†</p><p><img src="https://bed-1309358403.cos.ap-shanghai.myqcloud.com/img/2023/01/08/20230108213418.png" alt="image-20210224155400455"></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼å°è£…ç»“æœé›†</p><h5 id="_2-1-1-1-ä½¿ç”¨resultmapå¯¹æ‰€æœ‰å­—æ®µè¿›è¡Œæ˜ å°„" tabindex="-1">2.1.1.1 ä½¿ç”¨ResultMapå¯¹æ‰€æœ‰å­—æ®µè¿›è¡Œæ˜ å°„ <a class="header-anchor" href="#_2-1-1-1-ä½¿ç”¨resultmapå¯¹æ‰€æœ‰å­—æ®µè¿›è¡Œæ˜ å°„" aria-hidden="true">#</a></h5><p>â€‹ å¯ä»¥ä½¿ç”¨ResultMapè®¾ç½®userå¯¹è±¡çš„å±æ€§è®¾ç½®æ˜ å°„è§„åˆ™ã€‚</p><p>â‘ resultMapå®šä¹‰ï¼Œä¸»è¦æ˜¯å¯¹userå¯¹è±¡çš„å±æ€§è®¾ç½®æ˜ å°„è§„åˆ™</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--çˆ¶map--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseOrderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">autoMapping</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;false&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">&lt;!--ç»§æ‰¿çˆ¶mapé‡Œé¢çš„ä¸œè¥¿ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œåªéœ€è¦æ”¹å†™éœ€è¦æ”¹å†™çš„å†…å®¹å°±å¯ä»¥äº†--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">autoMapping</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;false&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseOrderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user_id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userId&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderUserMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;uid&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user.id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user.username&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user.age&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user.address&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>â‘¡ä½¿ç”¨å®šä¹‰å¥½çš„resultMap</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--æ ¹æ®è®¢å•idæŸ¥è¯¢è®¢å•ï¼Œè¦æ±‚æŠŠä¸‹å•ç”¨æˆ·çš„ä¿¡æ¯ä¹ŸæŸ¥è¯¢å‡ºæ¥--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findById&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultMap</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderUserMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        SELECT</span></span>
<span class="line"><span style="color:#C9D1D9;">            o.`id`,o.`createtime`,o.`price`,o.`remark`,o.`user_id`,u.`id` uid,u.`username`,u.`age`,u.`address`</span></span>
<span class="line"><span style="color:#C9D1D9;">        FROM</span></span>
<span class="line"><span style="color:#C9D1D9;">            orders o,`user` u</span></span>
<span class="line"><span style="color:#C9D1D9;">        WHERE</span></span>
<span class="line"><span style="color:#C9D1D9;">            o.id = #{id} AND</span></span>
<span class="line"><span style="color:#C9D1D9;">            o.`user_id`=u.`id`</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="_2-1-1-2-ä½¿ç”¨resultmapä¸­çš„association" tabindex="-1">2.1.1.2 ä½¿ç”¨ResultMapä¸­çš„association <a class="header-anchor" href="#_2-1-1-2-ä½¿ç”¨resultmapä¸­çš„association" aria-hidden="true">#</a></h5><p>â€‹ å¯ä»¥ä½¿ç”¨ResultMapä¸­çš„å­—æ ‡ç­¾associationæ¥è®¾ç½®å…³è”å®ä½“ç±»çš„æ˜ å°„è§„åˆ™ã€‚</p><p>â‘ å®šä¹‰resultMap</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--çˆ¶map--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseOrderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">autoMapping</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;false&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;createtime&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;price&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;remark&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E;">&lt;!--ç»§æ‰¿çˆ¶mapé‡Œé¢çš„ä¸œè¥¿ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œåªéœ€è¦æ”¹å†™éœ€è¦æ”¹å†™çš„å†…å®¹å°±å¯ä»¥äº†--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">autoMapping</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;false&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;baseOrderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user_id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userId&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderUserMapUserAssociation&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Order&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">association</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;user&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">javaType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;uid&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">association</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>â‘¡ä½¿ç”¨resultMap</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findById&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultMap</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;orderUserMapUserAssociation&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    SELECT</span></span>
<span class="line"><span style="color:#C9D1D9;">        o.id,o.`createtime`,o.`price`,o.`remark`,o.`user_id`,u.`id` uid,u.`username`,u.`age`,u.`address`</span></span>
<span class="line"><span style="color:#C9D1D9;">    FROM</span></span>
<span class="line"><span style="color:#C9D1D9;">        orders o,USER u</span></span>
<span class="line"><span style="color:#C9D1D9;">    WHERE</span></span>
<span class="line"><span style="color:#C9D1D9;">        o.`user_id` = u.`id`</span></span>
<span class="line"><span style="color:#C9D1D9;">        AND o.id = #{id}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-1-2-ä¸€å¯¹å¤šå…³ç³»" tabindex="-1">2.1.2 ä¸€å¯¹å¤šå…³ç³» <a class="header-anchor" href="#_2-1-2-ä¸€å¯¹å¤šå…³ç³»" aria-hidden="true">#</a></h4><p>â€‹ ä¸¤ä¸ªå®ä½“ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ï¼ˆä¾‹å¦‚æˆ‘ä»¬éœ€è¦æŸ¥è¯¢ç”¨æˆ·ï¼Œè¦æ±‚è¿˜éœ€è¦è¯¥ç”¨æˆ·æ‰€å…·æœ‰çš„è§’è‰²ä¿¡æ¯ã€‚è¿™é‡Œçš„ç”¨æˆ·ç›¸å¯¹äºè§’è‰²æ˜¯ä¸€å¯¹å¤šçš„ã€‚ï¼‰</p><p>ä¾‹å¦‚ï¼š</p><p>æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">//æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ï¼Œå¹¶ä¸”è¦æ±‚æŠŠè¯¥ç”¨æˆ·æ‰€å…·æœ‰çš„è§’è‰²ä¿¡æ¯ä¹ŸæŸ¥è¯¢å‡ºæ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findById</span><span style="color:#C9D1D9;">(Integer id);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å› ä¸ºæœŸæœ›Userä¸­è¿˜èƒ½åŒ…å«è¯¥ç”¨æˆ·æ‰€å…·æœ‰çš„è§’è‰²ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥åœ¨Userä¸­å¢åŠ ä¸€ä¸ªå±æ€§</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">//è¯¥ç”¨æˆ·æ‰€å…·æœ‰çš„è§’è‰²</span></span>
<span class="line"><span style="color:#FF7B72;">private</span><span style="color:#C9D1D9;"> List</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">Role</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">roles;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>SQLè¯­å¥å¦‚ä¸‹</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">SELECT</span><span style="color:#C9D1D9;"> </span></span>
<span class="line"><span style="color:#C9D1D9;"> u.</span><span style="color:#A5D6FF;">`id`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`username`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`age`</span><span style="color:#C9D1D9;">,u.</span><span style="color:#A5D6FF;">`address`</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">r</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;"> rid,</span><span style="color:#79C0FF;">r</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">r</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">desc</span></span>
<span class="line"><span style="color:#FF7B72;">FROM</span><span style="color:#C9D1D9;"> </span></span>
<span class="line"><span style="color:#C9D1D9;"> USER u,user_role ur,</span><span style="color:#FF7B72;">role</span><span style="color:#C9D1D9;"> r</span></span>
<span class="line"><span style="color:#FF7B72;">WHERE</span><span style="color:#C9D1D9;"> </span></span>
<span class="line"><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">u</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span><span style="color:#FF7B72;">=</span><span style="color:#79C0FF;">ur</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">user_id</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">AND</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ur</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">role_id</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">r</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span></span>
<span class="line"><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">AND</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">u</span><span style="color:#C9D1D9;">.</span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç»“æœé›†</p><p><img src="https://raw.githubusercontent.com/DunXi/zdx/main/img/202203051856087.png" alt="image-4"></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å°è£…ç»“æœé›†ã€‚</p><h5 id="_2-1-2-1-ä½¿ç”¨resultmapä¸­çš„collection" tabindex="-1">2.1.2.1 ä½¿ç”¨ResultMapä¸­çš„collection <a class="header-anchor" href="#_2-1-2-1-ä½¿ç”¨resultmapä¸­çš„collection" aria-hidden="true">#</a></h5><p>â€‹ å¯ä»¥ä½¿ç”¨ResultMapä¸­çš„å­—æ ‡ç­¾associationæ¥è®¾ç½®å…³è”å®ä½“ç±»çš„æ˜ å°„è§„åˆ™ã€‚</p><p>â‘ å®šä¹‰ResultMap</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--å®šä¹‰UseråŸºæœ¬å±æ€§æ˜ å°„è§„åˆ™--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>â‘¡ä½¿ç”¨ResultMap</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userRoleMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">collection</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;roles&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">ofType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Role&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;rid&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;name&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;name&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;desc&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;desc&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">collection</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æœ€ç»ˆå°è£…å®Œçš„æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/DunXi/zdx/main/img/202203051904520.png" alt="image-20220305190442960"></p><h3 id="_2-2-åˆ†æ­¥æŸ¥è¯¢" tabindex="-1">2.2 åˆ†æ­¥æŸ¥è¯¢ <a class="header-anchor" href="#_2-2-åˆ†æ­¥æŸ¥è¯¢" aria-hidden="true">#</a></h3><p>â€‹ å¦‚æœæœ‰éœ€è¦å¤šè¡¨æŸ¥è¯¢çš„éœ€æ±‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©ç”¨å¤šæ¬¡æŸ¥è¯¢çš„æ–¹å¼æ¥æŸ¥è¯¢å‡ºæˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚Mybatisä¹Ÿæä¾›äº†å¯¹åº”çš„é…ç½®ã€‚</p><p>â€‹ ä¾‹å¦‚æˆ‘ä»¬éœ€è¦æŸ¥è¯¢ç”¨æˆ·ï¼Œè¦æ±‚è¿˜éœ€è¦æŸ¥è¯¢å‡ºè¯¥ç”¨æˆ·æ‰€å…·æœ‰çš„è§’è‰²ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©å…ˆæŸ¥è¯¢Userè¡¨æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åå†å»æŸ¥è¯¢å…³è”è§’è‰²çš„ä¿¡æ¯ã€‚</p><h4 id="_2-2-1-å®ç°æ­¥éª¤" tabindex="-1">2.2.1 å®ç°æ­¥éª¤ <a class="header-anchor" href="#_2-2-1-å®ç°æ­¥éª¤" aria-hidden="true">#</a></h4><p>â€‹ å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><h5 id="_1å®šä¹‰æŸ¥è¯¢æ–¹æ³•" tabindex="-1">â‘ å®šä¹‰æŸ¥è¯¢æ–¹æ³• <a class="header-anchor" href="#_1å®šä¹‰æŸ¥è¯¢æ–¹æ³•" aria-hidden="true">#</a></h5><p>â€‹ å› ä¸ºæˆ‘ä»¬éœ€è¦åˆ†ä¸¤æ­¥æŸ¥è¯¢ï¼š1.æŸ¥è¯¢User 2.æ ¹æ®ç”¨æˆ·çš„idæŸ¥è¯¢Role æ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”æŠŠå¯¹åº”çš„æ ‡ç­¾ä¹Ÿå…ˆå†™å¥½ã€‚</p><p>1.æŸ¥è¯¢User</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">//æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·ã€å¹¶ä¸”è¦æ±‚æŠŠè¯¥ç”¨æˆ·æ‰€å…·æœ‰çš„è§’è‰²ä¿¡æ¯ä¹ŸæŸ¥è¯¢å‡ºæ¥</span></span>
<span class="line"><span style="color:#C9D1D9;">User </span><span style="color:#D2A8FF;">findByUsername</span><span style="color:#C9D1D9;">(String username);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByUsername&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> select id,username,age,address from user where username = #{username}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>2.æ ¹æ®user_idæŸ¥è¯¢Role</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#FF7B72;">public</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">RoleDao</span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">//æ ¹æ®userIdæŸ¥è¯¢æ‰€å…·æœ‰çš„è§’è‰²</span></span>
<span class="line"><span style="color:#C9D1D9;">    List&lt;</span><span style="color:#FF7B72;">Role</span><span style="color:#C9D1D9;">&gt; </span><span style="color:#D2A8FF;">findRoleByUserId</span><span style="color:#C9D1D9;">(Integer </span><span style="color:#FFA657;">userId</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--æ ¹æ®userIdæŸ¥è¯¢æ‰€å…·æœ‰çš„è§’è‰²--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findRoleByUserId&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.sangeng.pojo.Role&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        select </span></span>
<span class="line"><span style="color:#C9D1D9;">            r.id,r.name,r.desc</span></span>
<span class="line"><span style="color:#C9D1D9;">        from </span></span>
<span class="line"><span style="color:#C9D1D9;">            role r,user_role ur</span></span>
<span class="line"><span style="color:#C9D1D9;">        where </span></span>
<span class="line"><span style="color:#C9D1D9;">            ur.role_id = r.id</span></span>
<span class="line"><span style="color:#C9D1D9;">            and ur.user_id = #{userId}</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h5 id="_2é…ç½®åˆ†æ­¥æŸ¥è¯¢" tabindex="-1">â‘¡é…ç½®åˆ†æ­¥æŸ¥è¯¢ <a class="header-anchor" href="#_2é…ç½®åˆ†æ­¥æŸ¥è¯¢" aria-hidden="true">#</a></h5><p>â€‹ æˆ‘ä»¬æœŸæœ›çš„æ•ˆæœæ˜¯è°ƒç”¨findByUsernameæ–¹æ³•æŸ¥è¯¢å‡ºæ¥çš„ç»“æœä¸­å°±åŒ…å«è§’è‰²çš„ä¿¡æ¯ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¾ç½®findByUsernameæ–¹æ³•çš„ResultMapï¼ŒæŒ‡å®šåˆ†æ­¥æŸ¥è¯¢</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">&lt;!--å®šä¹‰UseråŸºæœ¬å±æ€§æ˜ å°„è§„åˆ™--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userMap&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">id</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;username&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;age&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address&quot;</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">result</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--</span></span>
<span class="line"><span style="color:#8B949E;">       selectå±æ€§ï¼šæŒ‡å®šç”¨å“ªä¸ªæŸ¥è¯¢æ¥æŸ¥è¯¢å½“å‰å±æ€§çš„æ•°æ® å†™æ³•ï¼šåŒ…å.æ¥å£å.æ–¹æ³•å</span></span>
<span class="line"><span style="color:#8B949E;">       columnå±æ€§ï¼šè®¾ç½®å½“å‰ç»“æœé›†ä¸­å“ªåˆ—çš„æ•°æ®ä½œä¸ºselectå±æ€§æŒ‡å®šçš„æŸ¥è¯¢æ–¹æ³•éœ€è¦å‚æ•°</span></span>
<span class="line"><span style="color:#8B949E;">   --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userRoleMapBySelect&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--rolesçš„æ•°æ®æ€ä¹ˆæŸ¥ï¼Ÿ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!--æŠŠå½“å‰ç»“æœé›†çš„é‚£ä¸ªæ•°æ®å½“åšå‚æ•°ä¼ é€’è¿‡å»--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">collection</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;roles&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                    </span><span style="color:#79C0FF;">ofType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Role&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                    </span><span style="color:#79C0FF;">select</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.dao.RoleDao.findRoleByUserId&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                    </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                    &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">collection</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>æŒ‡å®šfindByUsernameä½¿ç”¨æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„resultMap</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·ï¼Œå¹¶ä¸”è¦æ±‚æŠŠè¯¥ç”¨æˆ·æ‰€å…·æœ‰çš„è§’è‰²ä¿¡æ¯ä¹ŸæŸ¥è¯¢å‡ºæ¥--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findByUsername&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultMap</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userRoleMapBySelect&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        select id,username,age,address from user where username = #{username}</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-2-2-è®¾ç½®æŒ‰éœ€åŠ è½½" tabindex="-1">2.2.2 è®¾ç½®æŒ‰éœ€åŠ è½½ <a class="header-anchor" href="#_2-2-2-è®¾ç½®æŒ‰éœ€åŠ è½½" aria-hidden="true">#</a></h4><p>â€‹ æˆ‘ä»¬å¯ä»¥è®¾ç½®æŒ‰éœ€åŠ è½½ï¼Œè¿™æ ·åœ¨æˆ‘ä»¬ä»£ç ä¸­éœ€è¦ç”¨åˆ°å…³è”æ•°æ®çš„æ—¶å€™æ‰ä¼šå»æŸ¥è¯¢å…³è”æ•°æ®ã€‚</p><p>â€‹ æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥é…ç½®åˆ†åˆ«æ˜¯å…¨å±€é…ç½®å’Œå±€éƒ¨é…ç½®</p><ol><li>å±€éƒ¨é…ç½®</li></ol><p>â€‹ è®¾ç½®fetchTypeå±æ€§ä¸ºlazy</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">&lt;!--</span></span>
<span class="line"><span style="color:#8B949E;">    selectå±æ€§ï¼šæŒ‡å®šç”¨å“ªä¸ªæŸ¥è¯¢æ¥æŸ¥è¯¢å½“å‰å±æ€§çš„æ•°æ® å†™æ³•ï¼šåŒ…å.æ¥å£å.æ–¹æ³•å</span></span>
<span class="line"><span style="color:#8B949E;">    columnå±æ€§ï¼šè®¾ç½®å½“å‰ç»“æœé›†ä¸­å“ªåˆ—çš„æ•°æ®ä½œä¸ºselectå±æ€§æŒ‡å®šçš„æŸ¥è¯¢æ–¹æ³•éœ€è¦å‚æ•°</span></span>
<span class="line"><span style="color:#8B949E;">--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> </span><span style="color:#8B949E;">&lt;!-- fetchType=&quot;lazy&quot;è®¾ç½®æ‡’åŠ è½½ æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚æ¥ç¡®å®šè¦ä¸è¦æŸ¥è¯¢ç¬¬äºŒæ­¥--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> &lt;</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userRoleMapBySelect&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">type</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.User&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">extends</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;userMap&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">     </span><span style="color:#8B949E;">&lt;!--rolesçš„æ•°æ®æ€ä¹ˆæŸ¥ï¼Ÿ--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">     </span><span style="color:#8B949E;">&lt;!--æŠŠå½“å‰ç»“æœé›†çš„é‚£ä¸ªæ•°æ®å½“åšå‚æ•°ä¼ é€’è¿‡å»--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">     &lt;</span><span style="color:#7EE787;">collection</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">property</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;roles&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                 </span><span style="color:#79C0FF;">ofType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.pojo.Role&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                 </span><span style="color:#79C0FF;">select</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.dunxi.dao.RoleDao.findRoleByUserId&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                 </span><span style="color:#79C0FF;">column</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;id&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">                 </span><span style="color:#79C0FF;">fetchType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;lazy&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">             &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">     &lt;/</span><span style="color:#7EE787;">collection</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;"> &lt;/</span><span style="color:#7EE787;">resultMap</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="2"><li>å…¨å±€é…ç½®</li></ol><p>è®¾ç½®lazyLoadingEnabledä¸ºtrue</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">settings</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">       &lt;</span><span style="color:#7EE787;">setting</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;lazyLoadingEnabled&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;true&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">settings</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_3-åˆ†é¡µæŸ¥è¯¢-pagehelper" tabindex="-1">3.åˆ†é¡µæŸ¥è¯¢-PageHelper <a class="header-anchor" href="#_3-åˆ†é¡µæŸ¥è¯¢-pagehelper" aria-hidden="true">#</a></h2><p>â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨PageHelperéå¸¸æ–¹ä¾¿çš„å¸®æˆ‘ä»¬å®ç°åˆ†é¡µæŸ¥è¯¢çš„éœ€æ±‚ã€‚ä¸éœ€è¦è‡ªå·±åœ¨SQLä¸­æ‹¼æ¥SQLç›¸å…³å‚æ•°ï¼Œå¹¶ä¸”èƒ½éå¸¸æ–¹ä¾¿çš„è·å–æ€»é¡µæ•°æ€»æ¡æ•°ç­‰åˆ†é¡µç›¸å…³æ•°æ®ã€‚</p><h3 id="_3-1-å®ç°æ­¥éª¤" tabindex="-1">3.1 å®ç°æ­¥éª¤ <a class="header-anchor" href="#_3-1-å®ç°æ­¥éª¤" aria-hidden="true">#</a></h3><h4 id="_1å®šä¹‰æ–¹æ³•æŸ¥è¯¢æ–¹æ³•ä»¥åŠç”Ÿæˆå¯¹åº”æ ‡ç­¾" tabindex="-1">â‘ å®šä¹‰æ–¹æ³•æŸ¥è¯¢æ–¹æ³•ä»¥åŠç”Ÿæˆå¯¹åº”æ ‡ç­¾ <a class="header-anchor" href="#_1å®šä¹‰æ–¹æ³•æŸ¥è¯¢æ–¹æ³•ä»¥åŠç”Ÿæˆå¯¹åº”æ ‡ç­¾" aria-hidden="true">#</a></h4><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;"> List</span><span style="color:#FF7B72;">&lt;</span><span style="color:#C9D1D9;">User</span><span style="color:#FF7B72;">&gt;</span><span style="color:#C9D1D9;"> </span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;findAll&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">resultType</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.sangeng.pojo.User&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        select id,username,age,address from user</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">select</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2-å¼•å…¥ä¾èµ–" tabindex="-1">â‘¡ å¼•å…¥ä¾èµ– <a class="header-anchor" href="#_2-å¼•å…¥ä¾èµ–" aria-hidden="true">#</a></h4><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;com.github.pagehelper&lt;/</span><span style="color:#7EE787;">groupId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;pagehelper&lt;/</span><span style="color:#7EE787;">artifactId</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;4.0.0&lt;/</span><span style="color:#7EE787;">version</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">dependency</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3-é…ç½®mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä½¿ç”¨åˆ†é¡µæ’ä»¶" tabindex="-1">â‘¢ é…ç½®Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä½¿ç”¨åˆ†é¡µæ’ä»¶ <a class="header-anchor" href="#_3-é…ç½®mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä½¿ç”¨åˆ†é¡µæ’ä»¶" aria-hidden="true">#</a></h4><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;"> &lt;</span><span style="color:#7EE787;">plugins</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        </span><span style="color:#8B949E;">&lt;!-- æ³¨æ„ï¼šåˆ†é¡µåŠ©æ‰‹çš„æ’ä»¶  é…ç½®åœ¨é€šç”¨é¦†mapperä¹‹å‰ --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;</span><span style="color:#7EE787;">plugin</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">interceptor</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.github.pagehelper.PageHelper&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            </span><span style="color:#8B949E;">&lt;!-- æŒ‡å®šæ–¹è¨€ --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">            &lt;</span><span style="color:#7EE787;">property</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;dialect&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;mysql&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">        &lt;/</span><span style="color:#7EE787;">plugin</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">plugins</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_4-å¼€å§‹åˆ†é¡µæŸ¥è¯¢" tabindex="-1">â‘£ å¼€å§‹åˆ†é¡µæŸ¥è¯¢ <a class="header-anchor" href="#_4-å¼€å§‹åˆ†é¡µæŸ¥è¯¢" aria-hidden="true">#</a></h4><p>æˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æŸ¥è¯¢è´¹æ–¹æ³•å‰è®¾ç½®åˆ†é¡µå‚æ•°å³å¯</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#8B949E;">//è®¾ç½®åˆ†é¡µå‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">UserDao</span><span style="color:#FFA657;"> </span><span style="color:#C9D1D9;">userDao</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> session.</span><span style="color:#D2A8FF;">getMapper</span><span style="color:#C9D1D9;">(UserDao.class);</span></span>
<span class="line"><span style="color:#8B949E;">//è®¾ç½®åˆ†é¡µæŸ¥è¯¢å‚æ•°</span></span>
<span class="line"><span style="color:#C9D1D9;">PageHelper.</span><span style="color:#D2A8FF;">startPage</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">,</span><span style="color:#79C0FF;">1</span><span style="color:#C9D1D9;">);</span></span>
<span class="line"><span style="color:#C9D1D9;">List</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">users</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> userDao.</span><span style="color:#D2A8FF;">findAll</span><span style="color:#C9D1D9;">();</span></span>
<span class="line"><span style="color:#C9D1D9;">System.out.</span><span style="color:#D2A8FF;">pringln</span><span style="color:#C9D1D9;">(users.</span><span style="color:#D2A8FF;">get</span><span style="color:#C9D1D9;">(</span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;">));</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å¦‚æœéœ€è¦è·å–æ€»é¡µæ•°æ€»æ¡æ•°ç­‰åˆ†é¡µç›¸å…³æ•°æ®ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªPageInfoå¯¹è±¡ï¼ŒæŠŠåˆšåˆšæŸ¥è¯¢å‡ºçš„è¿”å›å€¼ä½œä¸ºæ„é€ å‚æ•°ä¼ å…¥ã€‚ç„¶åä½¿ç”¨PageInfoå¯¹è±¡è·å–å³å¯ã€‚</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">PageInfo</span><span style="color:#FFA657;">&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#FFA657;">&gt; </span><span style="color:#C9D1D9;">pageInfo</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">=</span><span style="color:#C9D1D9;"> </span><span style="color:#FF7B72;">new</span><span style="color:#C9D1D9;"> PageInfo&lt;</span><span style="color:#FF7B72;">User</span><span style="color:#C9D1D9;">&gt;(users);</span></span>
<span class="line"><span style="color:#C9D1D9;">System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ€»æ¡æ•°ï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">pageInfo.</span><span style="color:#D2A8FF;">getTotal</span><span style="color:#C9D1D9;">());</span></span>
<span class="line"><span style="color:#C9D1D9;">System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ€»é¡µæ•°ï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">pageInfo.</span><span style="color:#D2A8FF;">getPages</span><span style="color:#C9D1D9;">());</span></span>
<span class="line"><span style="color:#C9D1D9;">System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;å½“å‰é¡µï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">pageInfo.</span><span style="color:#D2A8FF;">getPageNum</span><span style="color:#C9D1D9;">());</span></span>
<span class="line"><span style="color:#C9D1D9;">System.out.</span><span style="color:#D2A8FF;">println</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&quot;æ¯é¡µæ˜¾ç¤ºé•¿åº¦ï¼š&quot;</span><span style="color:#FF7B72;">+</span><span style="color:#C9D1D9;">pageInfo.</span><span style="color:#D2A8FF;">getPageSize</span><span style="color:#C9D1D9;">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-2-ä¸€å¯¹å¤šå¤šè¡¨æŸ¥è¯¢åˆ†é¡µé—®é¢˜" tabindex="-1">3.2 ä¸€å¯¹å¤šå¤šè¡¨æŸ¥è¯¢åˆ†é¡µé—®é¢˜ <a class="header-anchor" href="#_3-2-ä¸€å¯¹å¤šå¤šè¡¨æŸ¥è¯¢åˆ†é¡µé—®é¢˜" aria-hidden="true">#</a></h3><p>â€‹ æˆ‘ä»¬åœ¨è¿›è¡Œä¸€å¯¹å¤šçš„å¤šè¡¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨äº†PageHelperè¿›è¡Œåˆ†é¡µã€‚ä¼šå‡ºç°å…³è”æ•°æ®ä¸å…¨çš„æƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†æ­¥æŸ¥è¯¢çš„æ–¹å¼æ¥è§£å†³è¯¥é—®é¢˜ã€‚</p><h2 id="_4-mybatisç¼“å­˜" tabindex="-1">4.Mybatisç¼“å­˜ <a class="header-anchor" href="#_4-mybatisç¼“å­˜" aria-hidden="true">#</a></h2><p>â€‹ Mybatisçš„ç¼“å­˜å…¶å®å°±æ˜¯æŠŠä¹‹å‰æŸ¥åˆ°çš„æ•°æ®å­˜å…¥å†…å­˜(map) ,ç‘•ç–µå¦‚æœè¿˜æ˜¯æŸ¥è¯¢ç›¸åŒçš„ä¸œè¥¿ï¼Œå°±å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­å–ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚</p><p>â€‹ Mybatisæœ‰ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ä¹‹åˆ†ï¼Œä¸€çº§ç¼“å­˜ï¼ˆé»˜è®¤å¼€å¯ï¼‰æ˜¯sqlsessionçº§åˆ«çš„ç¼“å­˜ã€‚äºŒçº§ç¼“å­˜ç›¸å½“äºmapperçº§åˆ«çš„ç¼“å­˜ã€‚</p><h3 id="_4-1-ä¸€çº§ç¼“å­˜" tabindex="-1">4.1 ä¸€çº§ç¼“å­˜ <a class="header-anchor" href="#_4-1-ä¸€çº§ç¼“å­˜" aria-hidden="true">#</a></h3><p>å‡ ç§ä¸ä¼šä½¿ç”¨ä¸€çº§ç¼“å­˜çš„æƒ…å†µ</p><ol><li>è°ƒç”¨ç›¸åŒçš„æ–¹æ³•ä½†æ˜¯ä¼ å…¥çš„å‚æ•°å€¼ä¸åŒ</li><li>è°ƒç”¨ç›¸åŒçš„æ–¹æ³•å‚æ•°ä¹Ÿç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨çš„æ˜¯å¦å¤–ä¸€ä¸ªsqlSessionä¸Šçš„ç¼“å­˜</li><li>å¦‚æœæŸ¥è¯¢å®Œåï¼Œå¯¹ä¸€ä¸ªè¡¨è¿›è¡Œäº†å¢ï¼Œåˆ æ”¹æ“ä½œï¼Œéƒ½ä¼šæƒ…å†µè¿™sqlSessionä¸Šçš„ç¼“å­˜</li><li>å¦‚æœæ‰‹åŠ¨è°ƒç”¨SqlSessionçš„clearCacheæ–¹æ³•æ¸…é™¤ç¼“å­˜äº†ï¼Œåé¢ä¹Ÿæ˜¯ç”¨ä¸äº†ç¼“å­˜</li></ol><p><img src="https://raw.githubusercontent.com/DunXi/zdx/main/img/202203081711936.png" alt="image-20220308171152320"></p><h3 id="_4-2-äºŒçº§ç¼“å­˜" tabindex="-1">4.2 äºŒçº§ç¼“å­˜ <a class="header-anchor" href="#_4-2-äºŒçº§ç¼“å­˜" aria-hidden="true">#</a></h3><p>â€‹ æ³¨æ„ï¼šåªåœ¨sqlsessionè°ƒç”¨äº†closeæˆ–è€…commitåçš„æ•°æ®æ‰ä¼šè¿›å…¥äºŒçº§ç¼“å­˜ã€‚</p><h4 id="_4-2-1-å¼€å¯äºŒçº§ç¼“å­˜" tabindex="-1">4.2.1 å¼€å¯äºŒçº§ç¼“å­˜ <a class="header-anchor" href="#_4-2-1-å¼€å¯äºŒçº§ç¼“å­˜" aria-hidden="true">#</a></h4><p>â‘ å…¨å±€å¼€å¯</p><p>åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">settings</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">setting</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;cacheEnabled&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">value</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;true&quot;</span><span style="color:#C9D1D9;">/&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">settings</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>â‘¡å±€éƒ¨å¼€å¯</p><p>åœ¨è¦å¼€å¯äºŒçº§ç¼“å­˜çš„mapperæ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®cacheæ ‡ç­¾</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark"><code><span class="line"><span style="color:#C9D1D9;">&lt;?</span><span style="color:#7EE787;">xml</span><span style="color:#79C0FF;"> version</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;1.0&quot;</span><span style="color:#79C0FF;"> encoding</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;UTF-8&quot;</span><span style="color:#C9D1D9;"> ?&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#FF7B72;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">mapper</span><span style="color:#C9D1D9;"> PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">namespace</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;com.sangeng.dao.RoleDao&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">cache</span><span style="color:#C9D1D9;">&gt;&lt;/</span><span style="color:#7EE787;">cache</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">mapper</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_4-2-2-ä½¿ç”¨å»ºè®®" tabindex="-1">4.2.2 ä½¿ç”¨å»ºè®® <a class="header-anchor" href="#_4-2-2-ä½¿ç”¨å»ºè®®" aria-hidden="true">#</a></h4><p>â€‹ äºŒçº§ç¼“å­˜åœ¨å®é™…å¼€å‘ä¸­åŸºæœ¬ä¸ä¼šä½¿ç”¨ã€‚</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-22d94e81 data-v-d057f2bd><div class="edit-info" data-v-d057f2bd><!----><div class="last-updated" data-v-d057f2bd><p class="VPLastUpdated" data-v-d057f2bd data-v-8698a6d5>Last updated: <time datetime="2023-01-08T14:38:08.000Z" data-v-8698a6d5></time></p></div></div><div class="prev-next" data-v-d057f2bd><div class="pager" data-v-d057f2bd><a class="pager-link prev" href="/lindocs/java/spring/SSM%E6%95%B4%E5%90%88.html" data-v-d057f2bd><span class="desc" data-v-d057f2bd>Previous page</span><span class="title" data-v-d057f2bd>SSMæ•´åˆ</span></a></div><div class="has-prev pager" data-v-d057f2bd><a class="pager-link next" href="/lindocs/java/spring/MybatisPlus.html" data-v-d057f2bd><span class="desc" data-v-d057f2bd>Next page</span><span class="title" data-v-d057f2bd>MyBatis Plus</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-2855b47a data-v-d7033f51><div class="container" data-v-d7033f51><p class="message" data-v-d7033f51>Released under the MIT License.</p><p class="copyright" data-v-d7033f51>Copyright Â© 2021-present Lin ZiLi</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"frontend_vue_quick-start.md\":\"173adba0\",\"frontend_vue_api_general.md\":\"7a9135ba\",\"index.md\":\"961740bf\",\"java_docker.md\":\"95c64395\",\"java_spring_springmvc.md\":\"2882db09\",\"java_spring_mybatis.md\":\"b8883719\",\"database_mysql_navicat.md\":\"47d2fd64\",\"java_gradle.md\":\"ce1f5f95\",\"java_spring_ssmæ•´åˆ.md\":\"68e45f34\",\"java_spring_springboot.md\":\"093c0688\",\"java_spring_mybatisplus.md\":\"ea63b981\",\"database_mysql_mysql-base.md\":\"aa208aec\",\"frontend_vue_code-standard.md\":\"c24d01fd\",\"java_spring_spring.md\":\"7b149640\",\"java_java-base.md\":\"ae4154e3\",\"spring_springboot_springboot.md\":\"66dd4f01\",\"spring_springcloud_nacos.md\":\"de3ccd34\",\"spring_springcloud_openfeign.md\":\"7454cf82\",\"spring_springcloud_sentinel.md\":\"8836c7d4\",\"spring_springcloud_springcloudgateway.md\":\"cd7a02f8\",\"java_spring_springsecurityjwt.md\":\"c78c4995\",\"frontend_js_index.md\":\"56b48721\"}")</script>
    <script type="module" async src="/lindocs/assets/app.66df897c.js"></script>
    
  </body>
</html>