# IPV6

## basic

### 公网地址

> 唯一

### 私网地址

> 不同的网络可以使用相同的地址
>
>私网地址不能出现在公网
>
>NAT (地址转换) ： 将私网地址转换为公网地址发送

### 报头

- Version: 版本号
- Traffic Class: 流类别，用于进行限速
- Flow Label: 流标签，用于进行限速
- Payload Length: 有效载荷长度，总长度
- Next Header: 下一个包头，长度为8bit。该字段定义紧跟在IPv6基本包头后面的第一个扩展包头
- Hop Limit: 跳数限制，相当于Ipv6中的TTL值
- Source Address: 源地址
- Destination Address: 目的地址

## IPV6地址

- Ipv6地址的长度为128bit
- IPv6 地址通过 `:` 分割，共8段，一个十六进制可以转成四个二进制数
- 网络前缀： 相当于IPv4中的网络位
- 接口标识：相当于主机位
- EUI-64
  - 将 MAC 地址第`7bit`取反
  - 在 MAC 地址中间加入 FFFE ，然后再转成16进制

### 缩写规范

- 每组 `16bit` 的单元中的前导0可以省略，但是如果 `16bit` 单元的所有比特都为0,那么至少要保留一个 `0` 字符；拖尾的0不能被省略。
- 一个或多个连续的 `16bit` 字符为`0`时,可用 `::` 表示，但整个IPv6地址缩写中只允许有一个`::`。

### IPv6地址分类

- 单播地址
  - 全球单播地址 2000::/3
    - 相当于公网地址
    - 前三 `bit` 为 `001` , 也就是网络前缀的第一个数是2或3
  - 唯一本地地址
    - 相当于私网地址
    - 前 `8bit` 为 `11111101` ,  前缀为 `FD00/8`
  - 链路本地地址
    - 有效范围是本地链路，前缀为`FE80::/10`
    - 用于直连通信
  - 特殊地址
  - 其他单播地址
- 组播地址
- 任播地址

#### 常见单播地址

##### GUA

GUA(Global Unicast Address，全球单播地址)，也被称为可聚合全球单播地址。该类地址全球唯一，用于需要有互联网访问需求的主机，相当于IPv4的公网地址。

##### ULA

唯一本地地址 是IPv6死亡地址，只能够在内网中使用该地址。

##### LLA

链路本地地址 是IPv6中另一种应用范围受限的
